(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function OT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var am={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function jT(){if(b0)return nu;b0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:u}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var T0;function MT(){return T0||(T0=1,am.exports=jT()),am.exports}var m=MT(),sm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function VT(){if(S0)return Oe;S0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),j=Symbol.iterator;function G(k){return k===null||typeof k!="object"?null:(k=j&&k[j]||k["@@iterator"],typeof k=="function"?k:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,te={};function ie(k,$,le){this.props=k,this.context=$,this.refs=te,this.updater=le||ee}ie.prototype.isReactComponent={},ie.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},ie.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ce(){}ce.prototype=ie.prototype;function he(k,$,le){this.props=k,this.context=$,this.refs=te,this.updater=le||ee}var Be=he.prototype=new ce;Be.constructor=he,ne(Be,ie.prototype),Be.isPureReactComponent=!0;var _e=Array.isArray;function Le(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(k,$,le){var me=le.ref;return{$$typeof:r,type:k,key:$,ref:me!==void 0?me:null,props:le}}function P(k,$){return D(k.type,$,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function S(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return $[le]})}var N=/\/+/g;function He(k,$){return typeof k=="object"&&k!==null&&k.key!=null?S(""+k.key):$.toString(36)}function Et(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Le,Le):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function K(k,$,le,me,Se){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Ge=!1;if(k===null)Ge=!0;else switch(Ne){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(k.$$typeof){case r:case e:Ge=!0;break;case T:return Ge=k._init,K(Ge(k._payload),$,le,me,Se)}}if(Ge)return Se=Se(k),Ge=me===""?"."+He(k,0):me,_e(Se)?(le="",Ge!=null&&(le=Ge.replace(N,"$&/")+"/"),K(Se,$,le,"",function(Ji){return Ji})):Se!=null&&(M(Se)&&(Se=P(Se,le+(Se.key==null||k&&k.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+Ge)),$.push(Se)),1;Ge=0;var Dt=me===""?".":me+":";if(_e(k))for(var gt=0;gt<k.length;gt++)me=k[gt],Ne=Dt+He(me,gt),Ge+=K(me,$,le,Ne,Se);else if(gt=G(k),typeof gt=="function")for(k=gt.call(k),gt=0;!(me=k.next()).done;)me=me.value,Ne=Dt+He(me,gt++),Ge+=K(me,$,le,Ne,Se);else if(Ne==="object"){if(typeof k.then=="function")return K(Et(k),$,le,me,Se);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function ue(k,$,le){if(k==null)return k;var me=[],Se=0;return K(k,me,"","",function(Ne){return $.call(le,Ne,Se++)}),me}function Ee(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var Fe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},it={map:ue,forEach:function(k,$,le){ue(k,function(){$.apply(this,arguments)},le)},count:function(k){var $=0;return ue(k,function(){$++}),$},toArray:function(k){return ue(k,function($){return $})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Oe.Activity=R,Oe.Children=it,Oe.Component=ie,Oe.Fragment=n,Oe.Profiler=l,Oe.PureComponent=he,Oe.StrictMode=a,Oe.Suspense=v,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(k,$,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var me=ne({},k.props),Se=k.key;if($!=null)for(Ne in $.key!==void 0&&(Se=""+$.key),$)!C.call($,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&$.ref===void 0||(me[Ne]=$[Ne]);var Ne=arguments.length-2;if(Ne===1)me.children=le;else if(1<Ne){for(var Ge=Array(Ne),Dt=0;Dt<Ne;Dt++)Ge[Dt]=arguments[Dt+2];me.children=Ge}return D(k.type,Se,me)},Oe.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Oe.createElement=function(k,$,le){var me,Se={},Ne=null;if($!=null)for(me in $.key!==void 0&&(Ne=""+$.key),$)C.call($,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Se[me]=$[me]);var Ge=arguments.length-2;if(Ge===1)Se.children=le;else if(1<Ge){for(var Dt=Array(Ge),gt=0;gt<Ge;gt++)Dt[gt]=arguments[gt+2];Se.children=Dt}if(k&&k.defaultProps)for(me in Ge=k.defaultProps,Ge)Se[me]===void 0&&(Se[me]=Ge[me]);return D(k,Ne,Se)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:g,render:k}},Oe.isValidElement=M,Oe.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:Ee}},Oe.memo=function(k,$){return{$$typeof:_,type:k,compare:$===void 0?null:$}},Oe.startTransition=function(k){var $=I.T,le={};I.T=le;try{var me=k(),Se=I.S;Se!==null&&Se(le,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Le,Fe)}catch(Ne){Fe(Ne)}finally{$!==null&&le.types!==null&&($.types=le.types),I.T=$}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(k){return I.H.use(k)},Oe.useActionState=function(k,$,le){return I.H.useActionState(k,$,le)},Oe.useCallback=function(k,$){return I.H.useCallback(k,$)},Oe.useContext=function(k){return I.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,$){return I.H.useDeferredValue(k,$)},Oe.useEffect=function(k,$){return I.H.useEffect(k,$)},Oe.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(k,$,le){return I.H.useImperativeHandle(k,$,le)},Oe.useInsertionEffect=function(k,$){return I.H.useInsertionEffect(k,$)},Oe.useLayoutEffect=function(k,$){return I.H.useLayoutEffect(k,$)},Oe.useMemo=function(k,$){return I.H.useMemo(k,$)},Oe.useOptimistic=function(k,$){return I.H.useOptimistic(k,$)},Oe.useReducer=function(k,$,le){return I.H.useReducer(k,$,le)},Oe.useRef=function(k){return I.H.useRef(k)},Oe.useState=function(k){return I.H.useState(k)},Oe.useSyncExternalStore=function(k,$,le){return I.H.useSyncExternalStore(k,$,le)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.3",Oe}var A0;function sp(){return A0||(A0=1,sm.exports=VT()),sm.exports}var re=sp();const kT=OT(re);var om={exports:{}},iu={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function PT(){return w0||(w0=1,(function(r){function e(K,ue){var Ee=K.length;K.push(ue);e:for(;0<Ee;){var Fe=Ee-1>>>1,it=K[Fe];if(0<l(it,ue))K[Fe]=ue,K[Ee]=it,Ee=Fe;else break e}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ue=K[0],Ee=K.pop();if(Ee!==ue){K[0]=Ee;e:for(var Fe=0,it=K.length,k=it>>>1;Fe<k;){var $=2*(Fe+1)-1,le=K[$],me=$+1,Se=K[me];if(0>l(le,Ee))me<it&&0>l(Se,le)?(K[Fe]=Se,K[me]=Ee,Fe=me):(K[Fe]=le,K[$]=Ee,Fe=$);else if(me<it&&0>l(Se,Ee))K[Fe]=Se,K[me]=Ee,Fe=me;else break e}}return ue}function l(K,ue){var Ee=K.sortIndex-ue.sortIndex;return Ee!==0?Ee:K.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],T=1,R=null,j=3,G=!1,ee=!1,ne=!1,te=!1,ie=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function Be(K){for(var ue=n(_);ue!==null;){if(ue.callback===null)a(_);else if(ue.startTime<=K)a(_),ue.sortIndex=ue.expirationTime,e(v,ue);else break;ue=n(_)}}function _e(K){if(ne=!1,Be(K),!ee)if(n(v)!==null)ee=!0,Le||(Le=!0,S());else{var ue=n(_);ue!==null&&Et(_e,ue.startTime-K)}}var Le=!1,I=-1,C=5,D=-1;function P(){return te?!0:!(r.unstable_now()-D<C)}function M(){if(te=!1,Le){var K=r.unstable_now();D=K;var ue=!0;try{e:{ee=!1,ne&&(ne=!1,ce(I),I=-1),G=!0;var Ee=j;try{t:{for(Be(K),R=n(v);R!==null&&!(R.expirationTime>K&&P());){var Fe=R.callback;if(typeof Fe=="function"){R.callback=null,j=R.priorityLevel;var it=Fe(R.expirationTime<=K);if(K=r.unstable_now(),typeof it=="function"){R.callback=it,Be(K),ue=!0;break t}R===n(v)&&a(v),Be(K)}else a(v);R=n(v)}if(R!==null)ue=!0;else{var k=n(_);k!==null&&Et(_e,k.startTime-K),ue=!1}}break e}finally{R=null,j=Ee,G=!1}ue=void 0}}finally{ue?S():Le=!1}}}var S;if(typeof he=="function")S=function(){he(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,He=N.port2;N.port1.onmessage=M,S=function(){He.postMessage(null)}}else S=function(){ie(M,0)};function Et(K,ue){I=ie(function(){K(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return j},r.unstable_next=function(K){switch(j){case 1:case 2:case 3:var ue=3;break;default:ue=j}var Ee=j;j=ue;try{return K()}finally{j=Ee}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Ee=j;j=K;try{return ue()}finally{j=Ee}},r.unstable_scheduleCallback=function(K,ue,Ee){var Fe=r.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Fe+Ee:Fe):Ee=Fe,K){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=Ee+it,K={id:T++,callback:ue,priorityLevel:K,startTime:Ee,expirationTime:it,sortIndex:-1},Ee>Fe?(K.sortIndex=Ee,e(_,K),n(v)===null&&K===n(_)&&(ne?(ce(I),I=-1):ne=!0,Et(_e,Ee-Fe))):(K.sortIndex=it,e(v,K),ee||G||(ee=!0,Le||(Le=!0,S()))),K},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(K){var ue=j;return function(){var Ee=j;j=ue;try{return K.apply(this,arguments)}finally{j=Ee}}}})(um)),um}var x0;function UT(){return x0||(x0=1,lm.exports=PT()),lm.exports}var cm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function LT(){if(R0)return Tn;R0=1;var r=sp();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(v,_,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:v,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Tn.createPortal=function(v,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(v,_,null,T)},Tn.flushSync=function(v){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=T,a.d.f()}},Tn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Tn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Tn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin),j=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:j,fetchPriority:G}):T==="script"&&a.d.X(v,{crossOrigin:R,integrity:j,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Tn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Tn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin);a.d.L(v,T,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Tn.preloadModule=function(v,_){if(typeof v=="string")if(_){var T=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Tn.requestFormReset=function(v){a.d.r(v)},Tn.unstable_batchedUpdates=function(v,_){return v(_)},Tn.useFormState=function(v,_,T){return d.H.useFormState(v,_,T)},Tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var C0;function zT(){if(C0)return cm.exports;C0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=LT(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function BT(){if(N0)return iu;N0=1;var r=UT(),e=sp(),n=zT();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(a(188))}function _(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,o=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),t;if(f===o)return v(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,b=h.child;b;){if(b===s){y=!0,s=h,o=f;break}if(b===o){y=!0,o=h,s=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===s){y=!0,s=f,o=h;break}if(b===o){y=!0,o=f,s=h;break}b=b.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var R=Object.assign,j=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function S(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ie:return"Profiler";case te:return"StrictMode";case _e:return"Suspense";case Le:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case he:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case Be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var Et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Fe=[],it=-1;function k(t){return{current:t}}function $(t){0>it||(t.current=Fe[it],Fe[it]=null,it--)}function le(t,i){it++,Fe[it]=t.current,t.current=i}var me=k(null),Se=k(null),Ne=k(null),Ge=k(null);function Dt(t,i){switch(le(Ne,i),le(Se,t),le(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Fy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Fy(i),t=Gy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(me),le(me,t)}function gt(){$(me),$(Se),$(Ne)}function Ji(t){t.memoizedState!==null&&le(Ge,t);var i=me.current,s=Gy(i,t.type);i!==s&&(le(Se,t),le(me,s))}function yn(t){Se.current===t&&($(me),$(Se)),Ge.current===t&&($(Ge),Zl._currentValue=Ee)}var wr,xr;function Xn(t){if(wr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);wr=i&&i[1]||"",xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+t+xr}var Mn=!1;function Zi(t,i){if(!t||Mn)return"";Mn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var q=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){q=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){q=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var O=y.split(`
`),B=b.split(`
`);for(h=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===O.length||h===B.length)for(o=O.length-1,h=B.length-1;1<=o&&0<=h&&O[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(O[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||O[o]!==B[h]){var Y=`
`+O[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Mn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Xn(s):""}function Rr(t,i){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==i&&i!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Zi(t.type,!1);case 11:return Zi(t.type.render,!1);case 1:return Zi(t.type,!0);case 31:return Xn("Activity");default:return""}}function ma(t){try{var i="",s=null;do i+=Rr(t,s),s=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ot=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,pi=r.unstable_cancelCallback,ys=r.unstable_shouldYield,gi=r.unstable_requestPaint,sn=r.unstable_now,Wi=r.unstable_getCurrentPriorityLevel,ki=r.unstable_ImmediatePriority,pa=r.unstable_UserBlockingPriority,er=r.unstable_NormalPriority,yl=r.unstable_LowPriority,Pi=r.unstable_IdlePriority,ga=r.log,Cr=r.unstable_setDisableYieldValue,Rn=null,Ye=null;function Cn(t){if(typeof ga=="function"&&Cr(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Rn,t)}catch{}}var bt=Math.clz32?Math.clz32:Nr,lo=Math.log,va=Math.LN2;function Nr(t){return t>>>=0,t===0?32:31-(lo(t)/va|0)|0}var Nn=256,Vn=262144,Mt=4194304;function xe(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,i,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=xe(o):(y&=b,y!==0?h=xe(y):s||(s=b&~t,s!==0&&(h=xe(s))))):(b=o&~f,b!==0?h=xe(b):y!==0?h=xe(y):s||(s=o&~t,s!==0&&(h=xe(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function tr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(){var t=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),t}function In(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uo(t,i,s,o,h,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(s=y&~s;0<s;){var Y=31-bt(s),J=1<<Y;b[Y]=0,O[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}s&=~J}o!==0&&Zn(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~i))}function Zn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-bt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Ir(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var o=31-bt(s),h=1<<o;h&i|t[o]&i&&(t[o]|=i),s&=~h}}function yi(t,i){var s=i&-i;return s=(s&42)!==0?1:Ui(s),(s&(t.suspendedLanes|i))!==0?0:s}function Ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Es(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:m0(t.type))}function Pn(t,i){var s=ue.p;try{return ue.p=t,i()}finally{ue.p=s}}var Un=Math.random().toString(36).slice(2),Me="__reactFiber$"+Un,vt="__reactProps$"+Un,Wn="__reactContainer$"+Un,Ie="__reactEvents$"+Un,bs="__reactListeners$"+Un,Ts="__reactHandles$"+Un,Ss="__reactResources$"+Un,_i="__reactMarker$"+Un;function Dr(t){delete t[Me],delete t[vt],delete t[Ie],delete t[bs],delete t[Ts]}function Ei(t){var i=t[Me];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Wn]||s[Me]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Zy(t);t!==null;){if(s=t[Me])return s;t=Zy(t)}return i}t=s,s=t.parentNode}return null}function on(t){if(t=t[Me]||t[Wn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ei(t){var i=t[Ss];return i||(i=t[Ss]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[_i]=!0}var ti=new Set,ya={};function ni(t,i){ii(t,i),ii(t+"Capture",i)}function ii(t,i){for(ya[t]=i,t=0;t<i.length;t++)ti.add(i[t])}var _a=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),As={},ws={};function Or(t){return Ot.call(ws,t)?!0:Ot.call(As,t)?!1:_a.test(t)?ws[t]=!0:(As[t]=!0,!1)}function de(t,i,s){if(Or(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ae(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Pt(t,i,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xs(t,i,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function rt(t){if(!t._valueTracker){var i=nr(t)?"checked":"value";t._valueTracker=xs(t,i,""+t[i])}}function jr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return t&&(o=nr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function En(t){return t.replace(Mr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,s,o,h,f,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?Vr(t,y,Ht(i)):s!=null?Vr(t,y,Ht(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ht(b):t.removeAttribute("name")}function Rs(t,i,s,o,h,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){rt(t);return}s=s!=null?""+Ht(s):"",i=i!=null?""+Ht(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),rt(t)}function Vr(t,i,s){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Li(t,i,s,o){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Ht(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function co(t,i,s){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Ht(s):""}function ir(t,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(a(92));if(Et(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=Ht(i),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),rt(t)}function bn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ho=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cs(t,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,s):typeof s!="number"||s===0||ho.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function kr(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&s[h]!==o&&Cs(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Cs(t,f,i[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Ns=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ar=null,Ti=null;function Pr(t){var i=on(t);if(i&&(t=i.stateNode)){var s=t[vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==t&&o.form===t.form){var h=o[vt]||null;if(!h)throw Error(a(90));Ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===t.form&&jr(o)}break e;case"textarea":co(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Li(t,!!s.multiple,i,!1)}}}var Sa=!1;function sr(t,i,s){if(Sa)return t(i,s);Sa=!0;try{var o=t(i);return o}finally{if(Sa=!1,(ar!==null||Ti!==null)&&(jc(),ar&&(i=ar,t=Ti,Ti=ar=null,Pr(i),t)))for(i=0;i<t.length;i++)Pr(t[i])}}function ai(t,i){var s=t.stateNode;if(s===null)return null;var o=s[vt]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Dn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Ur=!1}var Si=null,Is=null,Lr=null;function Ds(){if(Lr)return Lr;var t,i=Is,s=i.length,o,h="value"in Si?Si.value:Si.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var y=s-t;for(o=1;o<=y&&i[s-o]===h[f-o];o++);return Lr=h.slice(t,1<o?1-o:void 0)}function zr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function zn(){return!1}function $t(t){function i(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:zn,this.isPropagationStopped=zn,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var x={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A=$t(x),Q=R({},x,{view:0,detail:0}),se=$t(Q),we,Ve,et,Ft=R({},Q,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==et&&(et&&t.type==="mousemove"?(we=t.screenX-et.screenX,Ve=t.screenY-et.screenY):Ve=we=0,et=t),we)},movementY:function(t){return"movementY"in t?t.movementY:Ve}}),Rt=$t(Ft),or=R({},Ft,{dataTransfer:0}),Ai=$t(or),qu=R({},Q,{relatedTarget:0}),Os=$t(qu),_l=R({},x,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=$t(_l),mo=R({},x,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fu=$t(mo),Gu=R({},x,{data:0}),lr=$t(Gu),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function Aa(){return $u}var On=R({},Q,{key:function(t){if(t.key){var i=Qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=$t(On),Ju=R({},Ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Br=$t(Ju),c=R({},Q,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),p=$t(c),E=R({},x,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=$t(E),L=R({},Ft,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=$t(L),oe=R({},x,{newState:0,oldState:0}),ke=$t(oe),Gt=[9,13,27,32],lt=Dn&&"CompositionEvent"in window,Ct=null;Dn&&"documentMode"in document&&(Ct=document.documentMode);var wi=Dn&&"TextEvent"in window&&!Ct,ur=Dn&&(!lt||Ct&&8<Ct&&11>=Ct),Bi=" ",qi=!1;function js(t,i){switch(t){case"keyup":return Gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function po(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function nb(t,i){switch(t){case"compositionend":return po(i);case"keypress":return i.which!==32?null:(qi=!0,Bi);case"textInput":return t=i.data,t===Bi&&qi?null:t;default:return null}}function ib(t,i){if(go)return t==="compositionend"||!lt&&js(t,i)?(t=Ds(),Lr=Is=Si=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ur&&i.locale!=="ko"?null:i.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!rb[t.type]:i==="textarea"}function ng(t,i,s,o){ar?Ti?Ti.push(o):Ti=[o]:ar=o,i=zc(i,"onChange"),0<i.length&&(s=new A("onChange","change",null,s,o),t.push({event:s,listeners:i}))}var El=null,bl=null;function ab(t){Uy(t,0)}function Zu(t){var i=_n(t);if(jr(i))return t}function ig(t,i){if(t==="change")return i}var rg=!1;if(Dn){var hd;if(Dn){var dd="oninput"in document;if(!dd){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),dd=typeof ag.oninput=="function"}hd=dd}else hd=!1;rg=hd&&(!document.documentMode||9<document.documentMode)}function sg(){El&&(El.detachEvent("onpropertychange",og),bl=El=null)}function og(t){if(t.propertyName==="value"&&Zu(bl)){var i=[];ng(i,bl,t,Ln(t)),sr(ab,i)}}function sb(t,i,s){t==="focusin"?(sg(),El=i,bl=s,El.attachEvent("onpropertychange",og)):t==="focusout"&&sg()}function ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(bl)}function lb(t,i){if(t==="click")return Zu(i)}function ub(t,i){if(t==="input"||t==="change")return Zu(i)}function cb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var si=typeof Object.is=="function"?Object.is:cb;function Tl(t,i){if(si(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ot.call(i,h)||!si(t[h],i[h]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,i){var s=lg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=i&&o>=i)return{node:s,offset:i-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lg(s)}}function cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=bi(t.document)}return i}function fd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var hb=Dn&&"documentMode"in document&&11>=document.documentMode,vo=null,md=null,Sl=null,pd=!1;function dg(t,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pd||vo==null||vo!==bi(o)||(o=vo,"selectionStart"in o&&fd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Sl&&Tl(Sl,o)||(Sl=o,o=zc(md,"onSelect"),0<o.length&&(i=new A("onSelect","select",null,i,s),t.push({event:i,listeners:o}),i.target=vo)))}function Ms(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var yo={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},gd={},fg={};Dn&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Vs(t){if(gd[t])return gd[t];if(!yo[t])return t;var i=yo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in fg)return gd[t]=i[s];return t}var mg=Vs("animationend"),pg=Vs("animationiteration"),gg=Vs("animationstart"),db=Vs("transitionrun"),fb=Vs("transitionstart"),mb=Vs("transitioncancel"),vg=Vs("transitionend"),yg=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function Hi(t,i){yg.set(t,i),ni(i,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xi=[],_o=0,yd=0;function ec(){for(var t=_o,i=yd=_o=0;i<t;){var s=xi[i];xi[i++]=null;var o=xi[i];xi[i++]=null;var h=xi[i];xi[i++]=null;var f=xi[i];if(xi[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&_g(s,h,f)}}function tc(t,i,s,o){xi[_o++]=t,xi[_o++]=i,xi[_o++]=s,xi[_o++]=o,yd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function _d(t,i,s,o){return tc(t,i,s,o),nc(t)}function ks(t,i){return tc(t,null,null,i),nc(t)}function _g(t,i,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-bt(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=s|536870912),f):null}function nc(t){if(50<Gl)throw Gl=0,Nf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Eo={};function pb(t,i,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(t,i,s,o){return new pb(t,i,s,o)}function Ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,i){var s=t.alternate;return s===null?(s=oi(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Eg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ic(t,i,s,o,h,f){var y=0;if(o=t,typeof t=="function")Ed(t)&&(y=1);else if(typeof t=="string")y=ET(t,s,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=oi(31,s,i,h),t.elementType=D,t.lanes=f,t;case ne:return Ps(s.children,h,f,i);case te:y=8,h|=24;break;case ie:return t=oi(12,s,i,h|2),t.elementType=ie,t.lanes=f,t;case _e:return t=oi(13,s,i,h),t.elementType=_e,t.lanes=f,t;case Le:return t=oi(19,s,i,h),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:y=10;break e;case ce:y=9;break e;case Be:y=11;break e;case I:y=14;break e;case C:y=16,o=null;break e}y=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=oi(y,s,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Ps(t,i,s,o){return t=oi(7,t,o,i),t.lanes=s,t}function bd(t,i,s){return t=oi(6,t,null,i),t.lanes=s,t}function bg(t){var i=oi(18,null,null,0);return i.stateNode=t,i}function Td(t,i,s){return i=oi(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Tg=new WeakMap;function Ri(t,i){if(typeof t=="object"&&t!==null){var s=Tg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ma(i)},Tg.set(t,i),i)}return{value:t,source:i,stack:ma(i)}}var bo=[],To=0,rc=null,Al=0,Ci=[],Ni=0,wa=null,cr=1,hr="";function Hr(t,i){bo[To++]=Al,bo[To++]=rc,rc=t,Al=i}function Sg(t,i,s){Ci[Ni++]=cr,Ci[Ni++]=hr,Ci[Ni++]=wa,wa=t;var o=cr;t=hr;var h=32-bt(o)-1;o&=~(1<<h),s+=1;var f=32-bt(i)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,cr=1<<32-bt(i)+h|s<<h|o,hr=f+t}else cr=1<<f|s<<h|o,hr=t}function Sd(t){t.return!==null&&(Hr(t,1),Sg(t,1,0))}function Ad(t){for(;t===rc;)rc=bo[--To],bo[To]=null,Al=bo[--To],bo[To]=null;for(;t===wa;)wa=Ci[--Ni],Ci[Ni]=null,hr=Ci[--Ni],Ci[Ni]=null,cr=Ci[--Ni],Ci[Ni]=null}function Ag(t,i){Ci[Ni++]=cr,Ci[Ni++]=hr,Ci[Ni++]=wa,cr=i.id,hr=i.overflow,wa=t}var cn=null,St=null,tt=!1,xa=null,Ii=!1,wd=Error(a(519));function Ra(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(Ri(i,t)),wd}function wg(t){var i=t.stateNode,s=t.type,o=t.memoizedProps;switch(i[Me]=t,i[vt]=o,s){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(s=0;s<Kl.length;s++)Ke(Kl[s],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),Rs(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),ir(i,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||qy(i.textContent,s)?(o.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),o.onScroll!=null&&Ke("scroll",i),o.onScrollEnd!=null&&Ke("scrollend",i),o.onClick!=null&&(i.onclick=ri),i=!0):i=!1,i||Ra(t,!0)}function xg(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 31:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:cn=cn.return}}function So(t){if(t!==cn)return!1;if(!tt)return xg(t),tt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ff(t.type,t.memoizedProps)),s=!s),s&&St&&Ra(t),xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=Jy(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=Jy(t)}else i===27?(i=St,Ba(t.type)?(t=$f,$f=null,St=t):St=i):St=cn?Oi(t.stateNode.nextSibling):null;return!0}function Us(){St=cn=null,tt=!1}function xd(){var t=xa;return t!==null&&(Fn===null?Fn=t:Fn.push.apply(Fn,t),xa=null),t}function wl(t){xa===null?xa=[t]:xa.push(t)}var Rd=k(null),Ls=null,Fr=null;function Ca(t,i,s){le(Rd,i._currentValue),i._currentValue=s}function Gr(t){t._currentValue=Rd.current,$(Rd)}function Cd(t,i,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===s)break;t=t.return}}function Nd(t,i,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),Cd(f.return,s,t),o||(y=null);break e}f=b.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Cd(y,s,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ao(t,i,s,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var b=h.type;si(h.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ge.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}h=h.return}t!==null&&Nd(i,t,s,o),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!si(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Ls=t,Fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function hn(t){return Rg(Ls,t)}function sc(t,i){return Ls===null&&zs(t),Rg(t,i)}function Rg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Fr===null){if(t===null)throw Error(a(308));Fr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fr=Fr.next=i;return s}var gb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},vb=r.unstable_scheduleCallback,yb=r.unstable_NormalPriority,Xt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new gb,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&vb(yb,function(){t.controller.abort()})}var Rl=null,Dd=0,wo=0,xo=null;function _b(t,i){if(Rl===null){var s=Rl=[];Dd=0,wo=Vf(),xo={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Dd++,i.then(Cg,Cg),i}function Cg(){if(--Dd===0&&Rl!==null){xo!==null&&(xo.status="fulfilled");var t=Rl;Rl=null,wo=0,xo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Eb(t,i){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Ng=K.S;K.S=function(t,i){dy=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_b(t,i),Ng!==null&&Ng(t,i)};var Bs=k(null);function Od(){var t=Bs.current;return t!==null?t:yt.pooledCache}function oc(t,i){i===null?le(Bs,Bs.current):le(Bs,i.pool)}function Ig(){var t=Od();return t===null?null:{parent:Xt._currentValue,pool:t}}var Ro=Error(a(460)),jd=Error(a(474)),lc=Error(a(542)),uc={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Og(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(ri,ri),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Mg(t),t;default:if(typeof i.status=="string")i.then(ri,ri);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Mg(t),t}throw Hs=i,Ro}}function qs(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Hs=s,Ro):s}}var Hs=null;function jg(){if(Hs===null)throw Error(a(459));var t=Hs;return Hs=null,t}function Mg(t){if(t===Ro||t===lc)throw Error(a(483))}var Co=null,Cl=0;function cc(t){var i=Cl;return Cl+=1,Co===null&&(Co=[]),Og(Co,t,i)}function Nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function hc(t,i){throw i.$$typeof===j?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Vg(t){function i(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function s(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function o(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=qr(U,V),U.index=0,U.sibling=null,U}function f(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,z,X){return V===null||V.tag!==6?(V=bd(z,U.mode,X),V.return=U,V):(V=h(V,z),V.return=U,V)}function O(U,V,z,X){var be=z.type;return be===ne?Y(U,V,z.props.children,X,z.key):V!==null&&(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&qs(be)===V.type)?(V=h(V,z.props),Nl(V,z),V.return=U,V):(V=ic(z.type,z.key,z.props,null,U.mode,X),Nl(V,z),V.return=U,V)}function B(U,V,z,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Td(z,U.mode,X),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function Y(U,V,z,X,be){return V===null||V.tag!==7?(V=Ps(z,U.mode,X,be),V.return=U,V):(V=h(V,z),V.return=U,V)}function J(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=bd(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return z=ic(V.type,V.key,V.props,null,U.mode,z),Nl(z,V),z.return=U,z;case ee:return V=Td(V,U.mode,z),V.return=U,V;case C:return V=qs(V),J(U,V,z)}if(Et(V)||S(V))return V=Ps(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return J(U,cc(V),z);if(V.$$typeof===he)return J(U,sc(U,V),z);hc(U,V)}return null}function q(U,V,z,X){var be=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return be!==null?null:b(U,V,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return z.key===be?O(U,V,z,X):null;case ee:return z.key===be?B(U,V,z,X):null;case C:return z=qs(z),q(U,V,z,X)}if(Et(z)||S(z))return be!==null?null:Y(U,V,z,X,null);if(typeof z.then=="function")return q(U,V,cc(z),X);if(z.$$typeof===he)return q(U,V,sc(U,z),X);hc(U,z)}return null}function F(U,V,z,X,be){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,b(V,U,""+X,be);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return U=U.get(X.key===null?z:X.key)||null,O(V,U,X,be);case ee:return U=U.get(X.key===null?z:X.key)||null,B(V,U,X,be);case C:return X=qs(X),F(U,V,z,X,be)}if(Et(X)||S(X))return U=U.get(z)||null,Y(V,U,X,be,null);if(typeof X.then=="function")return F(U,V,z,cc(X),be);if(X.$$typeof===he)return F(U,V,z,sc(V,X),be);hc(V,X)}return null}function ve(U,V,z,X){for(var be=null,at=null,ye=V,Ue=V=0,Xe=null;ye!==null&&Ue<z.length;Ue++){ye.index>Ue?(Xe=ye,ye=null):Xe=ye.sibling;var st=q(U,ye,z[Ue],X);if(st===null){ye===null&&(ye=Xe);break}t&&ye&&st.alternate===null&&i(U,ye),V=f(st,V,Ue),at===null?be=st:at.sibling=st,at=st,ye=Xe}if(Ue===z.length)return s(U,ye),tt&&Hr(U,Ue),be;if(ye===null){for(;Ue<z.length;Ue++)ye=J(U,z[Ue],X),ye!==null&&(V=f(ye,V,Ue),at===null?be=ye:at.sibling=ye,at=ye);return tt&&Hr(U,Ue),be}for(ye=o(ye);Ue<z.length;Ue++)Xe=F(ye,U,Ue,z[Ue],X),Xe!==null&&(t&&Xe.alternate!==null&&ye.delete(Xe.key===null?Ue:Xe.key),V=f(Xe,V,Ue),at===null?be=Xe:at.sibling=Xe,at=Xe);return t&&ye.forEach(function(Qa){return i(U,Qa)}),tt&&Hr(U,Ue),be}function Ae(U,V,z,X){if(z==null)throw Error(a(151));for(var be=null,at=null,ye=V,Ue=V=0,Xe=null,st=z.next();ye!==null&&!st.done;Ue++,st=z.next()){ye.index>Ue?(Xe=ye,ye=null):Xe=ye.sibling;var Qa=q(U,ye,st.value,X);if(Qa===null){ye===null&&(ye=Xe);break}t&&ye&&Qa.alternate===null&&i(U,ye),V=f(Qa,V,Ue),at===null?be=Qa:at.sibling=Qa,at=Qa,ye=Xe}if(st.done)return s(U,ye),tt&&Hr(U,Ue),be;if(ye===null){for(;!st.done;Ue++,st=z.next())st=J(U,st.value,X),st!==null&&(V=f(st,V,Ue),at===null?be=st:at.sibling=st,at=st);return tt&&Hr(U,Ue),be}for(ye=o(ye);!st.done;Ue++,st=z.next())st=F(ye,U,Ue,st.value,X),st!==null&&(t&&st.alternate!==null&&ye.delete(st.key===null?Ue:st.key),V=f(st,V,Ue),at===null?be=st:at.sibling=st,at=st);return t&&ye.forEach(function(DT){return i(U,DT)}),tt&&Hr(U,Ue),be}function pt(U,V,z,X){if(typeof z=="object"&&z!==null&&z.type===ne&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case G:e:{for(var be=z.key;V!==null;){if(V.key===be){if(be=z.type,be===ne){if(V.tag===7){s(U,V.sibling),X=h(V,z.props.children),X.return=U,U=X;break e}}else if(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&qs(be)===V.type){s(U,V.sibling),X=h(V,z.props),Nl(X,z),X.return=U,U=X;break e}s(U,V);break}else i(U,V);V=V.sibling}z.type===ne?(X=Ps(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=ic(z.type,z.key,z.props,null,U.mode,X),Nl(X,z),X.return=U,U=X)}return y(U);case ee:e:{for(be=z.key;V!==null;){if(V.key===be)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){s(U,V.sibling),X=h(V,z.children||[]),X.return=U,U=X;break e}else{s(U,V);break}else i(U,V);V=V.sibling}X=Td(z,U.mode,X),X.return=U,U=X}return y(U);case C:return z=qs(z),pt(U,V,z,X)}if(Et(z))return ve(U,V,z,X);if(S(z)){if(be=S(z),typeof be!="function")throw Error(a(150));return z=be.call(z),Ae(U,V,z,X)}if(typeof z.then=="function")return pt(U,V,cc(z),X);if(z.$$typeof===he)return pt(U,V,sc(U,z),X);hc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(s(U,V.sibling),X=h(V,z),X.return=U,U=X):(s(U,V),X=bd(z,U.mode,X),X.return=U,U=X),y(U)):s(U,V)}return function(U,V,z,X){try{Cl=0;var be=pt(U,V,z,X);return Co=null,be}catch(ye){if(ye===Ro||ye===lc)throw ye;var at=oi(29,ye,null,U.mode);return at.lanes=X,at.return=U,at}finally{}}}var Fs=Vg(!0),kg=Vg(!1),Na=!1;function Md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Da(t,i,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ut&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=nc(t),_g(t,null,s),i}return tc(t,o,i,s),nc(t)}function Il(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,Ir(t,s)}}function kd(t,i){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Pd=!1;function Dl(){if(Pd){var t=xo;if(t!==null)throw t}}function Ol(t,i,s,o){Pd=!1;var h=t.updateQueue;Na=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,B=O.next;O.next=null,y===null?f=B:y.next=B,y=O;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==y&&(b===null?Y.firstBaseUpdate=B:b.next=B,Y.lastBaseUpdate=O))}if(f!==null){var J=h.baseState;y=0,Y=B=O=null,b=f;do{var q=b.lane&-536870913,F=q!==b.lane;if(F?($e&q)===q:(o&q)===q){q!==0&&q===wo&&(Pd=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=t,Ae=b;q=i;var pt=s;switch(Ae.tag){case 1:if(ve=Ae.payload,typeof ve=="function"){J=ve.call(pt,J,q);break e}J=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ae.payload,q=typeof ve=="function"?ve.call(pt,J,q):ve,q==null)break e;J=R({},J,q);break e;case 2:Na=!0}}q=b.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(B=Y=F,O=J):Y=Y.next=F,y|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(O=J),h.baseState=O,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),ka|=y,t.lanes=y,t.memoizedState=J}}function Pg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Ug(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Pg(s[t],i)}var No=k(null),dc=k(0);function Lg(t,i){t=ea,le(dc,t),le(No,i),ea=t|i.baseLanes}function Ud(){le(dc,ea),le(No,No.current)}function Ld(){ea=dc.current,$(No),$(dc)}var li=k(null),Di=null;function Oa(t){var i=t.alternate;le(Qt,Qt.current&1),le(li,t),Di===null&&(i===null||No.current!==null||i.memoizedState!==null)&&(Di=t)}function zd(t){le(Qt,Qt.current),le(li,t),Di===null&&(Di=t)}function zg(t){t.tag===22?(le(Qt,Qt.current),le(li,t),Di===null&&(Di=t)):ja()}function ja(){le(Qt,Qt.current),le(li,li.current)}function ui(t){$(li),Di===t&&(Di=null),$(Qt)}var Qt=k(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Kf(s)||Yf(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qr=0,Pe=null,ft=null,Jt=null,mc=!1,Io=!1,Gs=!1,pc=0,jl=0,Do=null,bb=0;function Ut(){throw Error(a(321))}function Bd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!si(t[s],i[s]))return!1;return!0}function qd(t,i,s,o,h,f){return Qr=f,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Sv:rf,Gs=!1,f=s(o,h),Gs=!1,Io&&(f=qg(i,s,o,h)),Bg(t),f}function Bg(t){K.H=kl;var i=ft!==null&&ft.next!==null;if(Qr=0,Jt=ft=Pe=null,mc=!1,jl=0,Do=null,i)throw Error(a(300));t===null||Zt||(t=t.dependencies,t!==null&&ac(t)&&(Zt=!0))}function qg(t,i,s,o){Pe=t;var h=0;do{if(Io&&(Do=null),jl=0,Io=!1,25<=h)throw Error(a(301));if(h+=1,Jt=ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=Av,f=i(s,o)}while(Io);return f}function Tb(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Ml(i):i,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Pe.flags|=1024),i}function Hd(){var t=pc!==0;return pc=0,t}function Fd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Gd(t){if(mc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}mc=!1}Qr=0,Jt=ft=Pe=null,Io=!1,jl=pc=0,Do=null}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Pe.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Kt(){if(ft===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var i=Jt===null?Pe.memoizedState:Jt.next;if(i!==null)Jt=i,ft=t;else{if(t===null)throw Pe.alternate===null?Error(a(467)):Error(a(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Jt===null?Pe.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var i=jl;return jl+=1,Do===null&&(Do=[]),t=Og(Do,t,i),i=Pe,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Sv:rf),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===he)return hn(t)}throw Error(a(438,String(t)))}function Qd(t){var i=null,s=Pe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=Pe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=gc(),Pe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),o=0;o<t;o++)s[o]=P;return i.index++,s}function Kr(t,i){return typeof i=="function"?i(t):i}function yc(t){var i=Kt();return Kd(i,ft,t)}function Kd(t,i,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var b=y=null,O=null,B=i,Y=!1;do{var J=B.lane&-536870913;if(J!==B.lane?($e&J)===J:(Qr&J)===J){var q=B.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===wo&&(Y=!0);else if((Qr&q)===q){B=B.next,q===wo&&(Y=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(b=O=J,y=f):O=O.next=J,Pe.lanes|=q,ka|=q;J=B.action,Gs&&s(f,J),f=B.hasEagerState?B.eagerState:s(f,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(b=O=q,y=f):O=O.next=q,Pe.lanes|=J,ka|=J;B=B.next}while(B!==null&&B!==i);if(O===null?y=f:O.next=b,!si(f,t.memoizedState)&&(Zt=!0,Y&&(s=xo,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=O,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Yd(t){var i=Kt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);si(f,i.memoizedState)||(Zt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,o]}function Hg(t,i,s){var o=Pe,h=Kt(),f=tt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var y=!si((ft||h).memoizedState,s);if(y&&(h.memoizedState=s,Zt=!0),h=h.queue,Jd(Qg.bind(null,o,h,t),[t]),h.getSnapshot!==i||y||Jt!==null&&Jt.memoizedState.tag&1){if(o.flags|=2048,Oo(9,{destroy:void 0},Gg.bind(null,o,h,s,i),null),yt===null)throw Error(a(349));f||(Qr&127)!==0||Fg(o,i,s)}return s}function Fg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Pe.updateQueue,i===null?(i=gc(),Pe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Gg(t,i,s,o){i.value=s,i.getSnapshot=o,Kg(i)&&Yg(t)}function Qg(t,i,s){return s(function(){Kg(i)&&Yg(t)})}function Kg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!si(t,s)}catch{return!0}}function Yg(t){var i=ks(t,2);i!==null&&Gn(i,t,2)}function $d(t){var i=jn();if(typeof t=="function"){var s=t;if(t=s(),Gs){Cn(!0);try{s()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},i}function $g(t,i,s,o){return t.baseState=s,Kd(t,ft,typeof o=="function"?o:Kr)}function Sb(t,i,s,o,h){if(bc(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};K.T!==null?s(!0):f.isTransition=!1,o(f),s=i.pending,s===null?(f.next=i.pending=f,Xg(i,f)):(f.next=s.next,i.pending=s.next=f)}}function Xg(t,i){var s=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=K.T,y={};K.T=y;try{var b=s(h,o),O=K.S;O!==null&&O(y,b),Jg(t,i,b)}catch(B){Xd(t,i,B)}finally{f!==null&&y.types!==null&&(f.types=y.types),K.T=f}}else try{f=s(h,o),Jg(t,i,f)}catch(B){Xd(t,i,B)}}function Jg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Zg(t,i,o)},function(o){return Xd(t,i,o)}):Zg(t,i,s)}function Zg(t,i,s){i.status="fulfilled",i.value=s,Wg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Xg(t,s)))}function Xd(t,i,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,Wg(i),i=i.next;while(i!==o)}t.action=null}function Wg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ev(t,i){return i}function tv(t,i){if(tt){var s=yt.formState;if(s!==null){e:{var o=Pe;if(tt){if(St){t:{for(var h=St,f=Ii;h.nodeType!==8;){if(!f){h=null;break t}if(h=Oi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){St=Oi(h.nextSibling),o=h.data==="F!";break e}}Ra(o)}o=!1}o&&(i=s[0])}}return s=jn(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:i},s.queue=o,s=Ev.bind(null,Pe,o),o.dispatch=s,o=$d(!1),f=nf.bind(null,Pe,!1,o.queue),o=jn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,s=Sb.bind(null,Pe,h,f,s),h.dispatch=s,o.memoizedState=t,[i,s,!1]}function nv(t){var i=Kt();return iv(i,ft,t)}function iv(t,i,s){if(i=Kd(t,i,ev)[0],t=yc(Kr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Ml(i)}catch(y){throw y===Ro?lc:y}else o=i;i=Kt();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Pe.flags|=2048,Oo(9,{destroy:void 0},Ab.bind(null,h,s),null)),[o,f,t]}function Ab(t,i){t.action=i}function rv(t){var i=Kt(),s=ft;if(s!==null)return iv(i,s,t);Kt(),i=i.memoizedState,s=Kt();var o=s.queue.dispatch;return s.memoizedState=t,[i,o,!1]}function Oo(t,i,s,o){return t={tag:t,create:s,deps:o,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=gc(),Pe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,i.lastEffect=t),t}function av(){return Kt().memoizedState}function _c(t,i,s,o){var h=jn();Pe.flags|=t,h.memoizedState=Oo(1|i,{destroy:void 0},s,o===void 0?null:o)}function Ec(t,i,s,o){var h=Kt();o=o===void 0?null:o;var f=h.memoizedState.inst;ft!==null&&o!==null&&Bd(o,ft.memoizedState.deps)?h.memoizedState=Oo(i,f,s,o):(Pe.flags|=t,h.memoizedState=Oo(1|i,f,s,o))}function sv(t,i){_c(8390656,8,t,i)}function Jd(t,i){Ec(2048,8,t,i)}function wb(t){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=gc(),Pe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function ov(t){var i=Kt().memoizedState;return wb({ref:i,nextImpl:t}),function(){if((ut&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function lv(t,i){return Ec(4,2,t,i)}function uv(t,i){return Ec(4,4,t,i)}function cv(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hv(t,i,s){s=s!=null?s.concat([t]):null,Ec(4,4,cv.bind(null,i,t),s)}function Zd(){}function dv(t,i){var s=Kt();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Bd(i,o[1])?o[0]:(s.memoizedState=[t,i],t)}function fv(t,i){var s=Kt();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Bd(i,o[1]))return o[0];if(o=t(),Gs){Cn(!0);try{t()}finally{Cn(!1)}}return s.memoizedState=[o,i],o}function Wd(t,i,s){return s===void 0||(Qr&1073741824)!==0&&($e&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=my(),Pe.lanes|=t,ka|=t,s)}function mv(t,i,s,o){return si(s,i)?s:No.current!==null?(t=Wd(t,s,o),si(t,i)||(Zt=!0),t):(Qr&42)===0||(Qr&1073741824)!==0&&($e&261930)===0?(Zt=!0,t.memoizedState=s):(t=my(),Pe.lanes|=t,ka|=t,i)}function pv(t,i,s,o,h){var f=ue.p;ue.p=f!==0&&8>f?f:8;var y=K.T,b={};K.T=b,nf(t,!1,i,s);try{var O=h(),B=K.S;if(B!==null&&B(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=Eb(O,o);Vl(t,i,Y,di(t))}else Vl(t,i,o,di(t))}catch(J){Vl(t,i,{then:function(){},status:"rejected",reason:J},di())}finally{ue.p=f,y!==null&&b.types!==null&&(y.types=b.types),K.T=y}}function xb(){}function ef(t,i,s,o){if(t.tag!==5)throw Error(a(476));var h=gv(t).queue;pv(t,h,i,Ee,s===null?xb:function(){return vv(t),s(o)})}function gv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:Ee},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vv(t){var i=gv(t);i.next===null&&(i=t.alternate.memoizedState),Vl(t,i.next.queue,{},di())}function tf(){return hn(Zl)}function yv(){return Kt().memoizedState}function _v(){return Kt().memoizedState}function Rb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=di();t=Ia(s);var o=Da(i,t,s);o!==null&&(Gn(o,i,s),Il(o,i,s)),i={cache:Id()},t.payload=i;return}i=i.return}}function Cb(t,i,s){var o=di();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},bc(t)?bv(i,s):(s=_d(t,i,s,o),s!==null&&(Gn(s,t,o),Tv(s,i,o)))}function Ev(t,i,s){var o=di();Vl(t,i,s,o)}function Vl(t,i,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(bc(t))bv(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,b=f(y,s);if(h.hasEagerState=!0,h.eagerState=b,si(b,y))return tc(t,i,h,0),yt===null&&ec(),!1}catch{}finally{}if(s=_d(t,i,h,o),s!==null)return Gn(s,t,o),Tv(s,i,o),!0}return!1}function nf(t,i,s,o){if(o={lane:2,revertLane:Vf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},bc(t)){if(i)throw Error(a(479))}else i=_d(t,s,o,2),i!==null&&Gn(i,t,2)}function bc(t){var i=t.alternate;return t===Pe||i!==null&&i===Pe}function bv(t,i){Io=mc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Tv(t,i,s){if((s&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,Ir(t,s)}}var kl={readContext:hn,use:vc,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};kl.useEffectEvent=Ut;var Sv={readContext:hn,use:vc,useCallback:function(t,i){return jn().memoizedState=[t,i===void 0?null:i],t},useContext:hn,useEffect:sv,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,_c(4194308,4,cv.bind(null,i,t),s)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var s=jn();i=i===void 0?null:i;var o=t();if(Gs){Cn(!0);try{t()}finally{Cn(!1)}}return s.memoizedState=[o,i],o},useReducer:function(t,i,s){var o=jn();if(s!==void 0){var h=s(i);if(Gs){Cn(!0);try{s(i)}finally{Cn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Cb.bind(null,Pe,t),[o.memoizedState,t]},useRef:function(t){var i=jn();return t={current:t},i.memoizedState=t},useState:function(t){t=$d(t);var i=t.queue,s=Ev.bind(null,Pe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Zd,useDeferredValue:function(t,i){var s=jn();return Wd(s,t,i)},useTransition:function(){var t=$d(!1);return t=pv.bind(null,Pe,t.queue,!0,!1),jn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var o=Pe,h=jn();if(tt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),yt===null)throw Error(a(349));($e&127)!==0||Fg(o,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,sv(Qg.bind(null,o,f,t),[t]),o.flags|=2048,Oo(9,{destroy:void 0},Gg.bind(null,o,f,s,i),null),s},useId:function(){var t=jn(),i=yt.identifierPrefix;if(tt){var s=hr,o=cr;s=(o&~(1<<32-bt(o)-1)).toString(32)+s,i="_"+i+"R_"+s,s=pc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=bb++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:tf,useFormState:tv,useActionState:tv,useOptimistic:function(t){var i=jn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=nf.bind(null,Pe,!0,s),s.dispatch=i,[t,i]},useMemoCache:Qd,useCacheRefresh:function(){return jn().memoizedState=Rb.bind(null,Pe)},useEffectEvent:function(t){var i=jn(),s={impl:t};return i.memoizedState=s,function(){if((ut&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},rf={readContext:hn,use:vc,useCallback:dv,useContext:hn,useEffect:Jd,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:fv,useReducer:yc,useRef:av,useState:function(){return yc(Kr)},useDebugValue:Zd,useDeferredValue:function(t,i){var s=Kt();return mv(s,ft.memoizedState,t,i)},useTransition:function(){var t=yc(Kr)[0],i=Kt().memoizedState;return[typeof t=="boolean"?t:Ml(t),i]},useSyncExternalStore:Hg,useId:yv,useHostTransitionStatus:tf,useFormState:nv,useActionState:nv,useOptimistic:function(t,i){var s=Kt();return $g(s,ft,t,i)},useMemoCache:Qd,useCacheRefresh:_v};rf.useEffectEvent=ov;var Av={readContext:hn,use:vc,useCallback:dv,useContext:hn,useEffect:Jd,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:fv,useReducer:Yd,useRef:av,useState:function(){return Yd(Kr)},useDebugValue:Zd,useDeferredValue:function(t,i){var s=Kt();return ft===null?Wd(s,t,i):mv(s,ft.memoizedState,t,i)},useTransition:function(){var t=Yd(Kr)[0],i=Kt().memoizedState;return[typeof t=="boolean"?t:Ml(t),i]},useSyncExternalStore:Hg,useId:yv,useHostTransitionStatus:tf,useFormState:rv,useActionState:rv,useOptimistic:function(t,i){var s=Kt();return ft!==null?$g(s,ft,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:_v};Av.useEffectEvent=ov;function af(t,i,s,o){i=t.memoizedState,s=s(o,i),s=s==null?i:R({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var sf={enqueueSetState:function(t,i,s){t=t._reactInternals;var o=di(),h=Ia(o);h.payload=i,s!=null&&(h.callback=s),i=Da(t,h,o),i!==null&&(Gn(i,t,o),Il(i,t,o))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var o=di(),h=Ia(o);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Da(t,h,o),i!==null&&(Gn(i,t,o),Il(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=di(),o=Ia(s);o.tag=2,i!=null&&(o.callback=i),i=Da(t,o,s),i!==null&&(Gn(i,t,s),Il(i,t,s))}};function wv(t,i,s,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):i.prototype&&i.prototype.isPureReactComponent?!Tl(s,o)||!Tl(h,f):!0}function xv(t,i,s,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==t&&sf.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(t=t.defaultProps){s===i&&(s=R({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Rv(t){Wu(t)}function Cv(t){console.error(t)}function Nv(t){Wu(t)}function Tc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Iv(t,i,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function of(t,i,s){return s=Ia(s),s.tag=3,s.payload={element:null},s.callback=function(){Tc(t,i)},s}function Dv(t){return t=Ia(t),t.tag=3,t}function Ov(t,i,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Iv(i,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Iv(i,s,o),typeof h!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Nb(t,i,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&Ao(i,s,h,!0),s=li.current,s!==null){switch(s.tag){case 31:case 13:return Di===null?Mc():s.alternate===null&&Lt===0&&(Lt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===uc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),Of(t,o,h)),!1;case 22:return s.flags|=65536,o===uc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),Of(t,o,h)),!1}throw Error(a(435,s.tag))}return Of(t,o,h),Mc(),!1}if(tt)return i=li.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==wd&&(t=Error(a(422),{cause:o}),wl(Ri(t,s)))):(o!==wd&&(i=Error(a(423),{cause:o}),wl(Ri(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Ri(o,s),h=of(t.stateNode,o,h),kd(t,h),Lt!==4&&(Lt=2)),!1;var f=Error(a(520),{cause:o});if(f=Ri(f,s),Fl===null?Fl=[f]:Fl.push(f),Lt!==4&&(Lt=2),i===null)return!0;o=Ri(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=of(s.stateNode,o,t),kd(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pa===null||!Pa.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Dv(h),Ov(h,t,s,o),kd(s,h),!1}s=s.return}while(s!==null);return!1}var lf=Error(a(461)),Zt=!1;function dn(t,i,s,o){i.child=t===null?kg(i,null,s,o):Fs(i,t.child,s,o)}function jv(t,i,s,o,h){s=s.render;var f=i.ref;if("ref"in o){var y={};for(var b in o)b!=="ref"&&(y[b]=o[b])}else y=o;return zs(i),o=qd(t,i,s,y,f,h),b=Hd(),t!==null&&!Zt?(Fd(t,i,h),Yr(t,i,h)):(tt&&b&&Sd(i),i.flags|=1,dn(t,i,o,h),i.child)}function Mv(t,i,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Ed(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Vv(t,i,f,o,h)):(t=ic(s.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!gf(t,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Tl,s(y,o)&&t.ref===i.ref)return Yr(t,i,h)}return i.flags|=1,t=qr(f,o),t.ref=i.ref,t.return=i,i.child=t}function Vv(t,i,s,o,h){if(t!==null){var f=t.memoizedProps;if(Tl(f,o)&&t.ref===i.ref)if(Zt=!1,i.pendingProps=o=f,gf(t,h))(t.flags&131072)!==0&&(Zt=!0);else return i.lanes=t.lanes,Yr(t,i,h)}return uf(t,i,s,o,h)}function kv(t,i,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Pv(t,i,f,s,o)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(i,f!==null?f.cachePool:null),f!==null?Lg(i,f):Ud(),zg(i);else return o=i.lanes=536870912,Pv(t,i,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(oc(i,f.cachePool),Lg(i,f),ja(),i.memoizedState=null):(t!==null&&oc(i,null),Ud(),ja());return dn(t,i,h,s),i.child}function Pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Pv(t,i,s,o,h){var f=Od();return f=f===null?null:{parent:Xt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&oc(i,null),Ud(),zg(i),t!==null&&Ao(t,i,o,!0),i.childLanes=h,null}function Sc(t,i){return i=wc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Uv(t,i,s){return Fs(i,t.child,null,s),t=Sc(i,i.pendingProps),t.flags|=2,ui(i),i.memoizedState=null,t}function Ib(t,i,s){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(tt){if(o.mode==="hidden")return t=Sc(i,o),i.lanes=536870912,Pl(null,t);if(zd(i),(t=St)?(t=Xy(t,Ii),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wa!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},s=bg(t),s.return=i,i.child=s,cn=i,St=null)):t=null,t===null)throw Ra(i);return i.lanes=536870912,null}return Sc(i,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(zd(i),h)if(i.flags&256)i.flags&=-257,i=Uv(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Zt||Ao(t,i,s,!1),h=(s&t.childLanes)!==0,Zt||h){if(o=yt,o!==null&&(y=yi(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,ks(t,y),Gn(o,t,y),lf;Mc(),i=Uv(t,i,s)}else t=f.treeContext,St=Oi(y.nextSibling),cn=i,tt=!0,xa=null,Ii=!1,t!==null&&Ag(i,t),i=Sc(i,o),i.flags|=4096;return i}return t=qr(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ac(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function uf(t,i,s,o,h){return zs(i),s=qd(t,i,s,o,void 0,h),o=Hd(),t!==null&&!Zt?(Fd(t,i,h),Yr(t,i,h)):(tt&&o&&Sd(i),i.flags|=1,dn(t,i,s,h),i.child)}function Lv(t,i,s,o,h,f){return zs(i),i.updateQueue=null,s=qg(i,o,s,h),Bg(t),o=Hd(),t!==null&&!Zt?(Fd(t,i,f),Yr(t,i,f)):(tt&&o&&Sd(i),i.flags|=1,dn(t,i,s,f),i.child)}function zv(t,i,s,o,h){if(zs(i),i.stateNode===null){var f=Eo,y=s.contextType;typeof y=="object"&&y!==null&&(f=hn(y)),f=new s(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Md(i),y=s.contextType,f.context=typeof y=="object"&&y!==null?hn(y):Eo,f.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(af(i,s,y,o),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&sf.enqueueReplaceState(f,f.state,null),Ol(i,o,f,h),Dl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,O=Qs(s,b);f.props=O;var B=f.context,Y=s.contextType;y=Eo,typeof Y=="object"&&Y!==null&&(y=hn(Y));var J=s.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||B!==y)&&xv(i,f,o,y),Na=!1;var q=i.memoizedState;f.state=q,Ol(i,o,f,h),Dl(),B=i.memoizedState,b||q!==B||Na?(typeof J=="function"&&(af(i,s,J,o),B=i.memoizedState),(O=Na||wv(i,s,O,o,q,B,y))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=y,o=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Vd(t,i),y=i.memoizedProps,Y=Qs(s,y),f.props=Y,J=i.pendingProps,q=f.context,B=s.contextType,O=Eo,typeof B=="object"&&B!==null&&(O=hn(B)),b=s.getDerivedStateFromProps,(B=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==J||q!==O)&&xv(i,f,o,O),Na=!1,q=i.memoizedState,f.state=q,Ol(i,o,f,h),Dl();var F=i.memoizedState;y!==J||q!==F||Na||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof b=="function"&&(af(i,s,b,o),F=i.memoizedState),(Y=Na||wv(i,s,Y,o,q,F,O)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=O,o=Y):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,Ac(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,s,h)):dn(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Yr(t,i,h),t}function Bv(t,i,s,o){return Us(),i.flags|=256,dn(t,i,s,o),i.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(t){return{baseLanes:t,cachePool:Ig()}}function df(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=hi),t}function qv(t,i,s){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(tt){if(h?Oa(i):ja(),(t=St)?(t=Xy(t,Ii),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wa!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},s=bg(t),s.return=i,i.child=s,cn=i,St=null)):t=null,t===null)throw Ra(i);return Yf(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(ja(),h=i.mode,b=wc({mode:"hidden",children:b},h),o=Ps(o,h,s,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=hf(s),o.childLanes=df(t,y,s),i.memoizedState=cf,Pl(null,o)):(Oa(i),ff(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(f)i.flags&256?(Oa(i),i.flags&=-257,i=mf(t,i,s)):i.memoizedState!==null?(ja(),i.child=t.child,i.flags|=128,i=null):(ja(),b=o.fallback,h=i.mode,o=wc({mode:"visible",children:o.children},h),b=Ps(b,h,s,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,Fs(i,t.child,null,s),o=i.child,o.memoizedState=hf(s),o.childLanes=df(t,y,s),i.memoizedState=cf,i=Pl(null,o));else if(Oa(i),Yf(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var B=y.dgst;y=B,o=Error(a(419)),o.stack="",o.digest=y,wl({value:o,source:null,stack:null}),i=mf(t,i,s)}else if(Zt||Ao(t,i,s,!1),y=(s&t.childLanes)!==0,Zt||y){if(y=yt,y!==null&&(o=yi(y,s),o!==0&&o!==O.retryLane))throw O.retryLane=o,ks(t,o),Gn(y,t,o),lf;Kf(b)||Mc(),i=mf(t,i,s)}else Kf(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,St=Oi(b.nextSibling),cn=i,tt=!0,xa=null,Ii=!1,t!==null&&Ag(i,t),i=ff(i,o.children),i.flags|=4096);return i}return h?(ja(),b=o.fallback,h=i.mode,O=t.child,B=O.sibling,o=qr(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,B!==null?b=qr(B,b):(b=Ps(b,h,s,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,Pl(null,o),o=i.child,b=t.child.memoizedState,b===null?b=hf(s):(h=b.cachePool,h!==null?(O=Xt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Ig(),b={baseLanes:b.baseLanes|s,cachePool:h}),o.memoizedState=b,o.childLanes=df(t,y,s),i.memoizedState=cf,Pl(t.child,o)):(Oa(i),s=t.child,t=s.sibling,s=qr(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=s,i.memoizedState=null,s)}function ff(t,i){return i=wc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wc(t,i){return t=oi(22,t,null,i),t.lanes=0,t}function mf(t,i,s){return Fs(i,t.child,null,s),t=ff(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Hv(t,i,s){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Cd(t.return,i,s)}function pf(t,i,s,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function Fv(t,i,s){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Qt.current,b=(y&2)!==0;if(b?(y=y&1|2,i.flags|=128):y&=1,le(Qt,y),dn(t,i,o,s),o=tt?Al:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hv(t,s,i);else if(t.tag===19)Hv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&fc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),pf(i,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}pf(i,!0,s,null,f,o);break;case"together":pf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Yr(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ka|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Ao(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=qr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=qr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function gf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function Db(t,i,s){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Ca(i,Xt,t.memoizedState.cache),Us();break;case 27:case 5:Ji(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Ca(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zd(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Oa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?qv(t,i,s):(Oa(i),t=Yr(t,i,s),t!==null?t.sibling:null);Oa(i);break;case 19:var h=(t.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(Ao(t,i,s,!1),o=(s&i.childLanes)!==0),h){if(o)return Fv(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Qt,Qt.current),o)break;return null;case 22:return i.lanes=0,kv(t,i,s,i.pendingProps);case 24:Ca(i,Xt,t.memoizedState.cache)}return Yr(t,i,s)}function Gv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Zt=!0;else{if(!gf(t,s)&&(i.flags&128)===0)return Zt=!1,Db(t,i,s);Zt=(t.flags&131072)!==0}else Zt=!1,tt&&(i.flags&1048576)!==0&&Sg(i,Al,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Ed(t)?(o=Qs(t,o),i.tag=1,i=zv(null,i,t,o,s)):(i.tag=0,i=uf(null,i,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Be){i.tag=11,i=jv(null,i,t,o,s);break e}else if(h===I){i.tag=14,i=Mv(null,i,t,o,s);break e}}throw i=He(t)||t,Error(a(306,i,""))}}return i;case 0:return uf(t,i,i.type,i.pendingProps,s);case 1:return o=i.type,h=Qs(o,i.pendingProps),zv(t,i,o,h,s);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Vd(t,i),Ol(i,o,null,s);var y=i.memoizedState;if(o=y.cache,Ca(i,Xt,o),o!==f.cache&&Nd(i,[Xt],s,!0),Dl(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Bv(t,i,o,s);break e}else if(o!==h){h=Ri(Error(a(424)),i),wl(h),i=Bv(t,i,o,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=Oi(t.firstChild),cn=i,tt=!0,xa=null,Ii=!0,s=kg(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Us(),o===h){i=Yr(t,i,s);break e}dn(t,i,o,s)}i=i.child}return i;case 26:return Ac(t,i),t===null?(s=n0(i.type,null,i.pendingProps,null))?i.memoizedState=s:tt||(s=i.type,t=i.pendingProps,o=Bc(Ne.current).createElement(s),o[Me]=i,o[vt]=t,fn(o,s,t),Tt(o),i.stateNode=o):i.memoizedState=n0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ji(i),t===null&&tt&&(o=i.stateNode=Wy(i.type,i.pendingProps,Ne.current),cn=i,Ii=!0,h=St,Ba(i.type)?($f=h,St=Oi(o.firstChild)):St=h),dn(t,i,i.pendingProps.children,s),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&tt&&((h=o=St)&&(o=oT(o,i.type,i.pendingProps,Ii),o!==null?(i.stateNode=o,cn=i,St=Oi(o.firstChild),Ii=!1,h=!0):h=!1),h||Ra(i)),Ji(i),h=i.type,f=i.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Ff(h,f)?o=null:y!==null&&Ff(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=qd(t,i,Tb,null,null,s),Zl._currentValue=h),Ac(t,i),dn(t,i,o,s),i.child;case 6:return t===null&&tt&&((t=s=St)&&(s=lT(s,i.pendingProps,Ii),s!==null?(i.stateNode=s,cn=i,St=null,t=!0):t=!1),t||Ra(i)),null;case 13:return qv(t,i,s);case 4:return Dt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Fs(i,null,o,s):dn(t,i,o,s),i.child;case 11:return jv(t,i,i.type,i.pendingProps,s);case 7:return dn(t,i,i.pendingProps,s),i.child;case 8:return dn(t,i,i.pendingProps.children,s),i.child;case 12:return dn(t,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,Ca(i,i.type,o.value),dn(t,i,o.children,s),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,zs(i),h=hn(h),o=o(h),i.flags|=1,dn(t,i,o,s),i.child;case 14:return Mv(t,i,i.type,i.pendingProps,s);case 15:return Vv(t,i,i.type,i.pendingProps,s);case 19:return Fv(t,i,s);case 31:return Ib(t,i,s);case 22:return kv(t,i,s,i.pendingProps);case 24:return zs(i),o=hn(Xt),t===null?(h=Od(),h===null&&(h=yt,f=Id(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:o,cache:h},Md(i),Ca(i,Xt,h)):((t.lanes&s)!==0&&(Vd(t,i),Ol(i,null,null,s),Dl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ca(i,Xt,o)):(o=f.cache,Ca(i,Xt,o),o!==h.cache&&Nd(i,[Xt],s,!0))),dn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function $r(t){t.flags|=4}function vf(t,i,s,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(yy())t.flags|=8192;else throw Hs=uc,jd}else t.flags&=-16777217}function Qv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!o0(i))if(yy())t.flags|=8192;else throw Hs=uc,jd}function xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_s():536870912,t.lanes|=i,ko|=i)}function Ul(t,i){if(!tt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function At(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,i}function Ob(t,i,s){var o=i.pendingProps;switch(Ad(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(i),null;case 1:return At(i),null;case 3:return s=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gr(Xt),gt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(So(i)?$r(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xd())),At(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?($r(i),f!==null?(At(i),Qv(i,f)):(At(i),vf(i,h,null,o,s))):f?f!==t.memoizedState?($r(i),At(i),Qv(i,f)):(At(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&$r(i),At(i),vf(i,h,t,o,s)),null;case 27:if(yn(i),s=Ne.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&$r(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return At(i),null}t=me.current,So(i)?wg(i):(t=Wy(h,o,s),i.stateNode=t,$r(i))}return At(i),null;case 5:if(yn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&$r(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return At(i),null}if(f=me.current,So(i))wg(i);else{var y=Bc(Ne.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Me]=i,f[vt]=o;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=f;e:switch(fn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&$r(i)}}return At(i),vf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&$r(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ne.current,So(i)){if(t=i.stateNode,s=i.memoizedProps,o=null,h=cn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Me]=i,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||qy(t.nodeValue,s)),t||Ra(i,!0)}else t=Bc(t).createTextNode(o),t[Me]=i,i.stateNode=t}return At(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(o=So(i),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Me]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),t=!1}else s=xd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(ui(i),i):(ui(i),null);if((i.flags&128)!==0)throw Error(a(558))}return At(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=So(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Me]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),h=!1}else h=xd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ui(i),i):(ui(i),null)}return ui(i),(i.flags&128)!==0?(i.lanes=s,i):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),xc(i,i.updateQueue),At(i),null);case 4:return gt(),t===null&&Lf(i.stateNode.containerInfo),At(i),null;case 10:return Gr(i.type),At(i),null;case 19:if($(Qt),o=i.memoizedState,o===null)return At(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)Ul(o,!1);else{if(Lt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=fc(t),f!==null){for(i.flags|=128,Ul(o,!1),t=f.updateQueue,i.updateQueue=t,xc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Eg(s,t),s=s.sibling;return le(Qt,Qt.current&1|2),tt&&Hr(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&sn()>Dc&&(i.flags|=128,h=!0,Ul(o,!1),i.lanes=4194304)}else{if(!h)if(t=fc(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,xc(i,t),Ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!tt)return At(i),null}else 2*sn()-o.renderingStartTime>Dc&&s!==536870912&&(i.flags|=128,h=!0,Ul(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=sn(),t.sibling=null,s=Qt.current,le(Qt,h?s&1|2:s&1),tt&&Hr(i,o.treeForkCount),t):(At(i),null);case 22:case 23:return ui(i),Ld(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(At(i),i.subtreeFlags&6&&(i.flags|=8192)):At(i),s=i.updateQueue,s!==null&&xc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),t!==null&&$(Bs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Gr(Xt),At(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function jb(t,i){switch(Ad(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gr(Xt),gt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yn(i),null;case 31:if(i.memoizedState!==null){if(ui(i),i.alternate===null)throw Error(a(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(ui(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(Qt),null;case 4:return gt(),null;case 10:return Gr(i.type),null;case 22:case 23:return ui(i),Ld(),t!==null&&$(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gr(Xt),null;case 25:return null;default:return null}}function Kv(t,i){switch(Ad(i),i.tag){case 3:Gr(Xt),gt();break;case 26:case 27:case 5:yn(i);break;case 4:gt();break;case 31:i.memoizedState!==null&&ui(i);break;case 13:ui(i);break;case 19:$(Qt);break;case 10:Gr(i.type);break;case 22:case 23:ui(i),Ld(),t!==null&&$(Bs);break;case 24:Gr(Xt)}}function Ll(t,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(b){dt(i,i.return,b)}}function Ma(t,i,s){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,h=i;var O=s,B=b;try{B()}catch(Y){dt(h,O,Y)}}}o=o.next}while(o!==f)}}catch(Y){dt(i,i.return,Y)}}function Yv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Ug(i,s)}catch(o){dt(t,t.return,o)}}}function $v(t,i,s){s.props=Qs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){dt(t,i,o)}}function zl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){dt(t,i,h)}}function dr(t,i){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){dt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){dt(t,i,h)}else s.current=null}function Xv(t){var i=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){dt(t,t.return,h)}}function yf(t,i,s){try{var o=t.stateNode;tT(o,t.type,s,i),o[vt]=i}catch(h){dt(t,t.return,h)}}function Jv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function _f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ri));else if(o!==4&&(o===27&&Ba(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Ef(t,i,s),t=t.sibling;t!==null;)Ef(t,i,s),t=t.sibling}function Rc(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(o!==4&&(o===27&&Ba(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Rc(t,i,s),t=t.sibling;t!==null;)Rc(t,i,s),t=t.sibling}function Zv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);fn(i,o,s),i[Me]=t,i[vt]=s}catch(f){dt(t,t.return,f)}}var Xr=!1,Wt=!1,bf=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Mb(t,i){if(t=t.containerInfo,qf=Yc,t=hg(t),fd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,b=-1,O=-1,B=0,Y=0,J=t,q=null;t:for(;;){for(var F;J!==s||h!==0&&J.nodeType!==3||(b=y+h),J!==f||o!==0&&J.nodeType!==3||(O=y+o),J.nodeType===3&&(y+=J.nodeValue.length),(F=J.firstChild)!==null;)q=J,J=F;for(;;){if(J===t)break t;if(q===s&&++B===h&&(b=y),q===f&&++Y===o&&(O=y),(F=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=F}s=b===-1||O===-1?null:{start:b,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hf={focusedElem:t,selectionRange:s},Yc=!1,ln=i;ln!==null;)if(i=ln,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ln=t;else for(;ln!==null;){switch(i=ln,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ve=Qs(s.type,h);t=o.getSnapshotBeforeUpdate(ve,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){dt(s,s.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Qf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,ln=t;break}ln=i.return}}function ey(t,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Zr(t,s),o&4&&Ll(5,s);break;case 1:if(Zr(t,s),o&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(y){dt(s,s.return,y)}else{var h=Qs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){dt(s,s.return,y)}}o&64&&Yv(s),o&512&&zl(s,s.return);break;case 3:if(Zr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Ug(t,i)}catch(y){dt(s,s.return,y)}}break;case 27:i===null&&o&4&&Zv(s);case 26:case 5:Zr(t,s),i===null&&o&4&&Xv(s),o&512&&zl(s,s.return);break;case 12:Zr(t,s);break;case 31:Zr(t,s),o&4&&iy(t,s);break;case 13:Zr(t,s),o&4&&ry(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Hb.bind(null,s),uT(t,s))));break;case 22:if(o=s.memoizedState!==null||Xr,!o){i=i!==null&&i.memoizedState!==null||Wt,h=Xr;var f=Wt;Xr=o,(Wt=i)&&!f?Wr(t,s,(s.subtreeFlags&8772)!==0):Zr(t,s),Xr=h,Wt=f}break;case 30:break;default:Zr(t,s)}}function ty(t){var i=t.alternate;i!==null&&(t.alternate=null,ty(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Dr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,Bn=!1;function Jr(t,i,s){for(s=s.child;s!==null;)ny(t,i,s),s=s.sibling}function ny(t,i,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Rn,s)}catch{}switch(s.tag){case 26:Wt||dr(s,i),Jr(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Wt||dr(s,i);var o=Nt,h=Bn;Ba(s.type)&&(Nt=s.stateNode,Bn=!1),Jr(t,i,s),$l(s.stateNode),Nt=o,Bn=h;break;case 5:Wt||dr(s,i);case 6:if(o=Nt,h=Bn,Nt=null,Jr(t,i,s),Nt=o,Bn=h,Nt!==null)if(Bn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(s.stateNode)}catch(f){dt(s,i,f)}else try{Nt.removeChild(s.stateNode)}catch(f){dt(s,i,f)}break;case 18:Nt!==null&&(Bn?(t=Nt,Yy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Fo(t)):Yy(Nt,s.stateNode));break;case 4:o=Nt,h=Bn,Nt=s.stateNode.containerInfo,Bn=!0,Jr(t,i,s),Nt=o,Bn=h;break;case 0:case 11:case 14:case 15:Ma(2,s,i),Wt||Ma(4,s,i),Jr(t,i,s);break;case 1:Wt||(dr(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&$v(s,i,o)),Jr(t,i,s);break;case 21:Jr(t,i,s);break;case 22:Wt=(o=Wt)||s.memoizedState!==null,Jr(t,i,s),Wt=o;break;default:Jr(t,i,s)}}function iy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fo(t)}catch(s){dt(i,i.return,s)}}}function ry(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fo(t)}catch(s){dt(i,i.return,s)}}function Vb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Wv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Wv),i;default:throw Error(a(435,t.tag))}}function Cc(t,i){var s=Vb(t);i.forEach(function(o){if(!s.has(o)){s.add(o);var h=Fb.bind(null,t,o);o.then(h,h)}})}function qn(t,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,y=i,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Ba(b.type)){Nt=b.stateNode,Bn=!1;break e}break;case 5:Nt=b.stateNode,Bn=!1;break e;case 3:case 4:Nt=b.stateNode.containerInfo,Bn=!0;break e}b=b.return}if(Nt===null)throw Error(a(160));ny(f,y,h),Nt=null,Bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ay(i,t),i=i.sibling}var Fi=null;function ay(t,i){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qn(i,t),Hn(t),o&4&&(Ma(3,t,t.return),Ll(3,t),Ma(5,t,t.return));break;case 1:qn(i,t),Hn(t),o&512&&(Wt||s===null||dr(s,s.return)),o&64&&Xr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Fi;if(qn(i,t),Hn(t),o&512&&(Wt||s===null||dr(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),fn(f,o,s),f[Me]=t,Tt(f),o=f;break e;case"link":var y=a0("link","href",h).get(o+(s.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(b,1);break t}}f=h.createElement(o),fn(f,o,s),h.head.appendChild(f);break;case"meta":if(y=a0("meta","content",h).get(o+(s.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(b,1);break t}}f=h.createElement(o),fn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Me]=t,Tt(f),o=f}t.stateNode=o}else s0(h,t.type,t.stateNode);else t.stateNode=r0(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?s0(h,t.type,t.stateNode):r0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&yf(t,t.memoizedProps,s.memoizedProps)}break;case 27:qn(i,t),Hn(t),o&512&&(Wt||s===null||dr(s,s.return)),s!==null&&o&4&&yf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(qn(i,t),Hn(t),o&512&&(Wt||s===null||dr(s,s.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(ve){dt(t,t.return,ve)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,yf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(bf=!0);break;case 6:if(qn(i,t),Hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ve){dt(t,t.return,ve)}}break;case 3:if(Fc=null,h=Fi,Fi=qc(i.containerInfo),qn(i,t),Fi=h,Hn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Fo(i.containerInfo)}catch(ve){dt(t,t.return,ve)}bf&&(bf=!1,sy(t));break;case 4:o=Fi,Fi=qc(t.stateNode.containerInfo),qn(i,t),Hn(t),Fi=o;break;case 12:qn(i,t),Hn(t);break;case 31:qn(i,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cc(t,o)));break;case 13:qn(i,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ic=sn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cc(t,o)));break;case 22:h=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,B=Xr,Y=Wt;if(Xr=B||h,Wt=Y||O,qn(i,t),Wt=Y,Xr=B,Hn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||O||Xr||Wt||Ks(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){O=s=i;try{if(f=O.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=O.stateNode;var J=O.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ve){dt(O,O.return,ve)}}}else if(i.tag===6){if(s===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ve){dt(O,O.return,ve)}}}else if(i.tag===18){if(s===null){O=i;try{var F=O.stateNode;h?$y(F,!0):$y(O.stateNode,!1)}catch(ve){dt(O,O.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Cc(t,s))));break;case 19:qn(i,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cc(t,o)));break;case 30:break;case 21:break;default:qn(i,t),Hn(t)}}function Hn(t){var i=t.flags;if(i&2){try{for(var s,o=t.return;o!==null;){if(Jv(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=_f(t);Rc(t,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(bn(y,""),s.flags&=-33);var b=_f(t);Rc(t,b,y);break;case 3:case 4:var O=s.stateNode.containerInfo,B=_f(t);Ef(t,B,O);break;default:throw Error(a(161))}}catch(Y){dt(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;sy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ey(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ma(4,i,i.return),Ks(i);break;case 1:dr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&$v(i,i.return,s),Ks(i);break;case 27:$l(i.stateNode);case 26:case 5:dr(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function Wr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wr(h,f,s),Ll(4,f);break;case 1:if(Wr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){dt(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Pg(O[h],b)}catch(B){dt(o,o.return,B)}}s&&y&64&&Yv(f),zl(f,f.return);break;case 27:Zv(f);case 26:case 5:Wr(h,f,s),s&&o===null&&y&4&&Xv(f),zl(f,f.return);break;case 12:Wr(h,f,s);break;case 31:Wr(h,f,s),s&&y&4&&iy(h,f);break;case 13:Wr(h,f,s),s&&y&4&&ry(h,f);break;case 22:f.memoizedState===null&&Wr(h,f,s),zl(f,f.return);break;case 30:break;default:Wr(h,f,s)}i=i.sibling}}function Tf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&xl(s))}function Sf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xl(t))}function Gi(t,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)oy(t,i,s,o),i=i.sibling}function oy(t,i,s,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Gi(t,i,s,o),h&2048&&Ll(9,i);break;case 1:Gi(t,i,s,o);break;case 3:Gi(t,i,s,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xl(t)));break;case 12:if(h&2048){Gi(t,i,s,o),t=i.stateNode;try{var f=i.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){dt(i,i.return,O)}}else Gi(t,i,s,o);break;case 31:Gi(t,i,s,o);break;case 13:Gi(t,i,s,o);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?Gi(t,i,s,o):Bl(t,i):f._visibility&2?Gi(t,i,s,o):(f._visibility|=2,jo(t,i,s,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Tf(y,i);break;case 24:Gi(t,i,s,o),h&2048&&Sf(i.alternate,i);break;default:Gi(t,i,s,o)}}function jo(t,i,s,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,y=i,b=s,O=o,B=y.flags;switch(y.tag){case 0:case 11:case 15:jo(f,y,b,O,h),Ll(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?jo(f,y,b,O,h):Bl(f,y):(Y._visibility|=2,jo(f,y,b,O,h)),h&&B&2048&&Tf(y.alternate,y);break;case 24:jo(f,y,b,O,h),h&&B&2048&&Sf(y.alternate,y);break;default:jo(f,y,b,O,h)}i=i.sibling}}function Bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,o=i,h=o.flags;switch(o.tag){case 22:Bl(s,o),h&2048&&Tf(o.alternate,o);break;case 24:Bl(s,o),h&2048&&Sf(o.alternate,o);break;default:Bl(s,o)}i=i.sibling}}var ql=8192;function Mo(t,i,s){if(t.subtreeFlags&ql)for(t=t.child;t!==null;)ly(t,i,s),t=t.sibling}function ly(t,i,s){switch(t.tag){case 26:Mo(t,i,s),t.flags&ql&&t.memoizedState!==null&&bT(s,Fi,t.memoizedState,t.memoizedProps);break;case 5:Mo(t,i,s);break;case 3:case 4:var o=Fi;Fi=qc(t.stateNode.containerInfo),Mo(t,i,s),Fi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ql,ql=16777216,Mo(t,i,s),ql=o):Mo(t,i,s));break;default:Mo(t,i,s)}}function uy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];ln=o,hy(o,t)}uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cy(t),t=t.sibling}function cy(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&Ma(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Nc(t)):Hl(t);break;default:Hl(t)}}function Nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];ln=o,hy(o,t)}uy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ma(8,i,i.return),Nc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Nc(i));break;default:Nc(i)}t=t.sibling}}function hy(t,i){for(;ln!==null;){var s=ln;switch(s.tag){case 0:case 11:case 15:Ma(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ln=o;else e:for(s=t;ln!==null;){o=ln;var h=o.sibling,f=o.return;if(ty(o),o===s){ln=null;break e}if(h!==null){h.return=f,ln=h;break e}ln=f}}}var kb={getCacheForType:function(t){var i=hn(Xt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return hn(Xt).controller.signal}},Pb=typeof WeakMap=="function"?WeakMap:Map,ut=0,yt=null,Qe=null,$e=0,ht=0,ci=null,Va=!1,Vo=!1,Af=!1,ea=0,Lt=0,ka=0,Ys=0,wf=0,hi=0,ko=0,Fl=null,Fn=null,xf=!1,Ic=0,dy=0,Dc=1/0,Oc=null,Pa=null,rn=0,Ua=null,Po=null,ta=0,Rf=0,Cf=null,fy=null,Gl=0,Nf=null;function di(){return(ut&2)!==0&&$e!==0?$e&-$e:K.T!==null?Vf():Es()}function my(){if(hi===0)if(($e&536870912)===0||tt){var t=Vn;Vn<<=1,(Vn&3932160)===0&&(Vn=262144),hi=t}else hi=536870912;return t=li.current,t!==null&&(t.flags|=32),hi}function Gn(t,i,s){(t===yt&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(Uo(t,0),La(t,$e,hi,!1)),vi(t,s),((ut&2)===0||t!==yt)&&(t===yt&&((ut&2)===0&&(Ys|=s),Lt===4&&La(t,$e,hi,!1)),fr(t))}function py(t,i,s){if((ut&6)!==0)throw Error(a(327));var o=!s&&(i&127)===0&&(i&t.expiredLanes)===0||kn(t,i),h=o?zb(t,i):Df(t,i,!0),f=o;do{if(h===0){Vo&&!o&&La(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!Ub(s)){h=Df(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var b=t;h=Fl;var O=b.current.memoizedState.isDehydrated;if(O&&(Uo(b,y).flags|=256),y=Df(b,y,!1),y!==2){if(Af&&!O){b.errorRecoveryDisabledLanes|=f,Ys|=f,h=4;break e}f=Fn,Fn=h,f!==null&&(Fn===null?Fn=f:Fn.push.apply(Fn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Uo(t,0),La(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:La(o,i,hi,!Va);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Ic+300-sn(),10<h)){if(La(o,i,hi,!Va),Jn(o,0,!0)!==0)break e;ta=i,o.timeoutHandle=Qy(gy.bind(null,o,s,Fn,Oc,xf,i,hi,Ys,ko,Va,f,"Throttled",-0,0),h);break e}gy(o,s,Fn,Oc,xf,i,hi,Ys,ko,Va,f,null,-0,0)}}break}while(!0);fr(t)}function gy(t,i,s,o,h,f,y,b,O,B,Y,J,q,F){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},ly(i,f,J);var ve=(f&62914560)===f?Ic-sn():(f&4194048)===f?dy-sn():0;if(ve=TT(J,ve),ve!==null){ta=f,t.cancelPendingCommit=ve(Ay.bind(null,t,i,f,s,o,h,y,b,O,Y,J,null,q,F)),La(t,f,y,!B);return}}Ay(t,i,f,s,o,h,y,b,O)}function Ub(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!si(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function La(t,i,s,o){i&=~wf,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-bt(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&Zn(t,s,i)}function jc(){return(ut&6)===0?(Ql(0),!1):!0}function If(){if(Qe!==null){if(ht===0)var t=Qe.return;else t=Qe,Fr=Ls=null,Gd(t),Co=null,Cl=0,t=Qe;for(;t!==null;)Kv(t.alternate,t),t=t.return;Qe=null}}function Uo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,rT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ta=0,If(),yt=t,Qe=s=qr(t.current,null),$e=i,ht=0,ci=null,Va=!1,Vo=kn(t,i),Af=!1,ko=hi=wf=Ys=ka=Lt=0,Fn=Fl=null,xf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-bt(o),f=1<<h;i|=t[h],o&=~f}return ea=i,ec(),s}function vy(t,i){Pe=null,K.H=kl,i===Ro||i===lc?(i=jg(),ht=3):i===jd?(i=jg(),ht=4):ht=i===lf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ci=i,Qe===null&&(Lt=1,Tc(t,Ri(i,t.current)))}function yy(){var t=li.current;return t===null?!0:($e&4194048)===$e?Di===null:($e&62914560)===$e||($e&536870912)!==0?t===Di:!1}function _y(){var t=K.H;return K.H=kl,t===null?kl:t}function Ey(){var t=K.A;return K.A=kb,t}function Mc(){Lt=4,Va||($e&4194048)!==$e&&li.current!==null||(Vo=!0),(ka&134217727)===0&&(Ys&134217727)===0||yt===null||La(yt,$e,hi,!1)}function Df(t,i,s){var o=ut;ut|=2;var h=_y(),f=Ey();(yt!==t||$e!==i)&&(Oc=null,Uo(t,i)),i=!1;var y=Lt;e:do try{if(ht!==0&&Qe!==null){var b=Qe,O=ci;switch(ht){case 8:If(),y=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(i=!0);var B=ht;if(ht=0,ci=null,Lo(t,b,O,B),s&&Vo){y=0;break e}break;default:B=ht,ht=0,ci=null,Lo(t,b,O,B)}}Lb(),y=Lt;break}catch(Y){vy(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Fr=Ls=null,ut=o,K.H=h,K.A=f,Qe===null&&(yt=null,$e=0,ec()),y}function Lb(){for(;Qe!==null;)by(Qe)}function zb(t,i){var s=ut;ut|=2;var o=_y(),h=Ey();yt!==t||$e!==i?(Oc=null,Dc=sn()+500,Uo(t,i)):Vo=kn(t,i);e:do try{if(ht!==0&&Qe!==null){i=Qe;var f=ci;t:switch(ht){case 1:ht=0,ci=null,Lo(t,i,f,1);break;case 2:case 9:if(Dg(f)){ht=0,ci=null,Ty(i);break}i=function(){ht!==2&&ht!==9||yt!==t||(ht=7),fr(t)},f.then(i,i);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Dg(f)?(ht=0,ci=null,Ty(i)):(ht=0,ci=null,Lo(t,i,f,7));break;case 5:var y=null;switch(Qe.tag){case 26:y=Qe.memoizedState;case 5:case 27:var b=Qe;if(y?o0(y):b.stateNode.complete){ht=0,ci=null;var O=b.sibling;if(O!==null)Qe=O;else{var B=b.return;B!==null?(Qe=B,Vc(B)):Qe=null}break t}}ht=0,ci=null,Lo(t,i,f,5);break;case 6:ht=0,ci=null,Lo(t,i,f,6);break;case 8:If(),Lt=6;break e;default:throw Error(a(462))}}Bb();break}catch(Y){vy(t,Y)}while(!0);return Fr=Ls=null,K.H=o,K.A=h,ut=s,Qe!==null?0:(yt=null,$e=0,ec(),Lt)}function Bb(){for(;Qe!==null&&!ys();)by(Qe)}function by(t){var i=Gv(t.alternate,t,ea);t.memoizedProps=t.pendingProps,i===null?Vc(t):Qe=i}function Ty(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Lv(s,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=Lv(s,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:Gd(i);default:Kv(s,i),i=Qe=Eg(i,ea),i=Gv(s,i,ea)}t.memoizedProps=t.pendingProps,i===null?Vc(t):Qe=i}function Lo(t,i,s,o){Fr=Ls=null,Gd(i),Co=null,Cl=0;var h=i.return;try{if(Nb(t,h,i,s,$e)){Lt=1,Tc(t,Ri(s,t.current)),Qe=null;return}}catch(f){if(h!==null)throw Qe=h,f;Lt=1,Tc(t,Ri(s,t.current)),Qe=null;return}i.flags&32768?(tt||o===1?t=!0:Vo||($e&536870912)!==0?t=!1:(Va=t=!0,(o===2||o===9||o===3||o===6)&&(o=li.current,o!==null&&o.tag===13&&(o.flags|=16384))),Sy(i,t)):Vc(i)}function Vc(t){var i=t;do{if((i.flags&32768)!==0){Sy(i,Va);return}t=i.return;var s=Ob(i.alternate,i,ea);if(s!==null){Qe=s;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=t}while(i!==null);Lt===0&&(Lt=5)}function Sy(t,i){do{var s=jb(t.alternate,t);if(s!==null){s.flags&=32767,Qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Qe=t;return}Qe=t=s}while(t!==null);Lt=6,Qe=null}function Ay(t,i,s,o,h,f,y,b,O){t.cancelPendingCommit=null;do kc();while(rn!==0);if((ut&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=yd,uo(t,s,f,y,b,O),t===yt&&(Qe=yt=null,$e=0),Po=i,Ua=t,ta=s,Rf=f,Cf=h,fy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Gb(er,function(){return Ny(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ue.p,ue.p=2,y=ut,ut|=4;try{Mb(t,i,s)}finally{ut=y,ue.p=h,K.T=o}}rn=1,wy(),xy(),Ry()}}function wy(){if(rn===1){rn=0;var t=Ua,i=Po,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var o=ue.p;ue.p=2;var h=ut;ut|=4;try{ay(i,t);var f=Hf,y=hg(t.containerInfo),b=f.focusedElem,O=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&cg(b.ownerDocument.documentElement,b)){if(O!==null&&fd(b)){var B=O.start,Y=O.end;if(Y===void 0&&(Y=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(Y,b.value.length);else{var J=b.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var F=q.getSelection(),ve=b.textContent.length,Ae=Math.min(O.start,ve),pt=O.end===void 0?Ae:Math.min(O.end,ve);!F.extend&&Ae>pt&&(y=pt,pt=Ae,Ae=y);var U=ug(b,Ae),V=ug(b,pt);if(U&&V&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var z=J.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),Ae>pt?(F.addRange(z),F.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),F.addRange(z))}}}}for(J=[],F=b;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var X=J[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Yc=!!qf,Hf=qf=null}finally{ut=h,ue.p=o,K.T=s}}t.current=i,rn=2}}function xy(){if(rn===2){rn=0;var t=Ua,i=Po,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var o=ue.p;ue.p=2;var h=ut;ut|=4;try{ey(t,i.alternate,i)}finally{ut=h,ue.p=o,K.T=s}}rn=3}}function Ry(){if(rn===4||rn===3){rn=0,gi();var t=Ua,i=Po,s=ta,o=fy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?rn=5:(rn=0,Po=Ua=null,Cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pa=null),qt(s),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Rn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,h=ue.p,ue.p=2,K.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var b=o[y];f(b.value,{componentStack:b.stack})}}finally{K.T=i,ue.p=h}}(ta&3)!==0&&kc(),fr(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Nf?Gl++:(Gl=0,Nf=t):Gl=0,Ql(0)}}function Cy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xl(i)))}function kc(){return wy(),xy(),Ry(),Ny()}function Ny(){if(rn!==5)return!1;var t=Ua,i=Rf;Rf=0;var s=qt(ta),o=K.T,h=ue.p;try{ue.p=32>s?32:s,K.T=null,s=Cf,Cf=null;var f=Ua,y=ta;if(rn=0,Po=Ua=null,ta=0,(ut&6)!==0)throw Error(a(331));var b=ut;if(ut|=4,cy(f.current),oy(f,f.current,y,s),ut=b,Ql(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Rn,f)}catch{}return!0}finally{ue.p=h,K.T=o,Cy(t,i)}}function Iy(t,i,s){i=Ri(s,i),i=of(t.stateNode,i,2),t=Da(t,i,2),t!==null&&(vi(t,2),fr(t))}function dt(t,i,s){if(t.tag===3)Iy(t,t,s);else for(;i!==null;){if(i.tag===3){Iy(i,t,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pa===null||!Pa.has(o))){t=Ri(s,t),s=Dv(2),o=Da(i,s,2),o!==null&&(Ov(s,o,i,t),vi(o,2),fr(o));break}}i=i.return}}function Of(t,i,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Pb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(s)||(Af=!0,h.add(s),t=qb.bind(null,t,i,s),i.then(t,t))}function qb(t,i,s){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,yt===t&&($e&s)===s&&(Lt===4||Lt===3&&($e&62914560)===$e&&300>sn()-Ic?(ut&2)===0&&Uo(t,0):wf|=s,ko===$e&&(ko=0)),fr(t)}function Dy(t,i){i===0&&(i=_s()),t=ks(t,i),t!==null&&(vi(t,i),fr(t))}function Hb(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Dy(t,s)}function Fb(t,i){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),Dy(t,s)}function Gb(t,i){return jt(t,i)}var Pc=null,zo=null,jf=!1,Uc=!1,Mf=!1,za=0;function fr(t){t!==zo&&t.next===null&&(zo===null?Pc=zo=t:zo=zo.next=t),Uc=!0,jf||(jf=!0,Kb())}function Ql(t,i){if(!Mf&&Uc){Mf=!0;do for(var s=!1,o=Pc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Vy(o,f))}else f=$e,f=Jn(o,o===yt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||kn(o,f)||(s=!0,Vy(o,f));o=o.next}while(s);Mf=!1}}function Qb(){Oy()}function Oy(){Uc=jf=!1;var t=0;za!==0&&iT()&&(t=za);for(var i=sn(),s=null,o=Pc;o!==null;){var h=o.next,f=jy(o,i);f===0?(o.next=null,s===null?Pc=h:s.next=h,h===null&&(zo=s)):(s=o,(t!==0||(f&3)!==0)&&(Uc=!0)),o=h}rn!==0&&rn!==5||Ql(t),za!==0&&(za=0)}function jy(t,i){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-bt(f),b=1<<y,O=h[y];O===-1?((b&s)===0||(b&o)!==0)&&(h[y]=tr(b,i)):O<=i&&(t.expiredLanes|=b),f&=~b}if(i=yt,s=$e,s=Jn(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===i&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&pi(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||kn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(o!==null&&pi(o),qt(s)){case 2:case 8:s=pa;break;case 32:s=er;break;case 268435456:s=Pi;break;default:s=er}return o=My.bind(null,t),s=jt(s,o),t.callbackPriority=i,t.callbackNode=s,i}return o!==null&&o!==null&&pi(o),t.callbackPriority=2,t.callbackNode=null,2}function My(t,i){if(rn!==0&&rn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(kc()&&t.callbackNode!==s)return null;var o=$e;return o=Jn(t,t===yt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(py(t,o,i),jy(t,sn()),t.callbackNode!=null&&t.callbackNode===s?My.bind(null,t):null)}function Vy(t,i){if(kc())return null;py(t,i,!0)}function Kb(){aT(function(){(ut&6)!==0?jt(ki,Qb):Oy()})}function Vf(){if(za===0){var t=wo;t===0&&(t=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),za=t}return za}function ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function Py(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Yb(t,i,s,o,h){if(i==="submit"&&s&&s.stateNode===h){var f=ky((h[vt]||null).action),y=o.submitter;y&&(i=(i=y[vt]||null)?ky(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var b=new A("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(za!==0){var O=y?Py(h,y):new FormData(h);ef(s,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(b.preventDefault(),O=y?Py(h,y):new FormData(h),ef(s,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var kf=0;kf<vd.length;kf++){var Pf=vd[kf],$b=Pf.toLowerCase(),Xb=Pf[0].toUpperCase()+Pf.slice(1);Hi($b,"on"+Xb)}Hi(mg,"onAnimationEnd"),Hi(pg,"onAnimationIteration"),Hi(gg,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(db,"onTransitionRun"),Hi(fb,"onTransitionStart"),Hi(mb,"onTransitionCancel"),Hi(vg,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function Uy(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var y=o.length-1;0<=y;y--){var b=o[y],O=b.instance,B=b.currentTarget;if(b=b.listener,O!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=B;try{f(h)}catch(Y){Wu(Y)}h.currentTarget=null,f=O}else for(y=0;y<o.length;y++){if(b=o[y],O=b.instance,B=b.currentTarget,b=b.listener,O!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=B;try{f(h)}catch(Y){Wu(Y)}h.currentTarget=null,f=O}}}}function Ke(t,i){var s=i[Ie];s===void 0&&(s=i[Ie]=new Set);var o=t+"__bubble";s.has(o)||(Ly(i,t,2,!1),s.add(o))}function Uf(t,i,s){var o=0;i&&(o|=4),Ly(s,t,o,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Lf(t){if(!t[Lc]){t[Lc]=!0,ti.forEach(function(s){s!=="selectionchange"&&(Jb.has(s)||Uf(s,!1,t),Uf(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Uf("selectionchange",!1,i))}}function Ly(t,i,s,o){switch(m0(i)){case 2:var h=wT;break;case 8:h=xT;break;default:h=em}s=h.bind(null,i,s,t),h=void 0,!Ur||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function zf(t,i,s,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var b=o.stateNode.containerInfo;if(b===h)break;if(y===4)for(y=o.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;b!==null;){if(y=Ei(b),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){o=f=y;continue e}b=b.parentNode}}o=o.return}sr(function(){var B=f,Y=Ln(s),J=[];e:{var q=yg.get(t);if(q!==void 0){var F=A,ve=t;switch(t){case"keypress":if(zr(s)===0)break e;case"keydown":case"keyup":F=Xu;break;case"focusin":ve="focus",F=Os;break;case"focusout":ve="blur",F=Os;break;case"beforeblur":case"afterblur":F=Os;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case mg:case pg:case gg:F=Hu;break;case vg:F=w;break;case"scroll":case"scrollend":F=se;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Br;break;case"toggle":case"beforetoggle":F=ke}var Ae=(i&4)!==0,pt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?q!==null?q+"Capture":null:q;Ae=[];for(var V=B,z;V!==null;){var X=V;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=ai(V,U),X!=null&&Ae.push(Yl(V,X,z))),pt)break;V=V.return}0<Ae.length&&(q=new F(q,ve,null,s,Y),J.push({event:q,listeners:Ae}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&s!==Ns&&(ve=s.relatedTarget||s.fromElement)&&(Ei(ve)||ve[Wn]))break e;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ve=s.relatedTarget||s.toElement,F=B,ve=ve?Ei(ve):null,ve!==null&&(pt=u(ve),Ae=ve.tag,ve!==pt||Ae!==5&&Ae!==27&&Ae!==6)&&(ve=null)):(F=null,ve=B),F!==ve)){if(Ae=Rt,X="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Br,X="onPointerLeave",U="onPointerEnter",V="pointer"),pt=F==null?q:_n(F),z=ve==null?q:_n(ve),q=new Ae(X,V+"leave",F,s,Y),q.target=pt,q.relatedTarget=z,X=null,Ei(Y)===B&&(Ae=new Ae(U,V+"enter",ve,s,Y),Ae.target=z,Ae.relatedTarget=pt,X=Ae),pt=X,F&&ve)t:{for(Ae=Zb,U=F,V=ve,z=0,X=U;X;X=Ae(X))z++;X=0;for(var be=V;be;be=Ae(be))X++;for(;0<z-X;)U=Ae(U),z--;for(;0<X-z;)V=Ae(V),X--;for(;z--;){if(U===V||V!==null&&U===V.alternate){Ae=U;break t}U=Ae(U),V=Ae(V)}Ae=null}else Ae=null;F!==null&&zy(J,q,F,Ae,!1),ve!==null&&pt!==null&&zy(J,pt,ve,Ae,!0)}}e:{if(q=B?_n(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var at=ig;else if(tg(q))if(rg)at=ub;else{at=ob;var ye=sb}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ba(B.elementType)&&(at=ig):at=lb;if(at&&(at=at(t,B))){ng(J,at,s,Y);break e}ye&&ye(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Vr(q,"number",q.value)}switch(ye=B?_n(B):window,t){case"focusin":(tg(ye)||ye.contentEditable==="true")&&(vo=ye,md=B,Sl=null);break;case"focusout":Sl=md=vo=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,dg(J,s,Y);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":dg(J,s,Y)}var Ue;if(lt)e:{switch(t){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else go?js(t,s)&&(Xe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Xe="onCompositionStart");Xe&&(ur&&s.locale!=="ko"&&(go||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&go&&(Ue=Ds()):(Si=Y,Is="value"in Si?Si.value:Si.textContent,go=!0)),ye=zc(B,Xe),0<ye.length&&(Xe=new lr(Xe,t,null,s,Y),J.push({event:Xe,listeners:ye}),Ue?Xe.data=Ue:(Ue=po(s),Ue!==null&&(Xe.data=Ue)))),(Ue=wi?nb(t,s):ib(t,s))&&(Xe=zc(B,"onBeforeInput"),0<Xe.length&&(ye=new lr("onBeforeInput","beforeinput",null,s,Y),J.push({event:ye,listeners:Xe}),ye.data=Ue)),Yb(J,t,B,s,Y)}Uy(J,i)})}function Yl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function zc(t,i){for(var s=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ai(t,s),h!=null&&o.unshift(Yl(t,h,f)),h=ai(t,i),h!=null&&o.push(Yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Zb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zy(t,i,s,o,h){for(var f=i._reactName,y=[];s!==null&&s!==o;){var b=s,O=b.alternate,B=b.stateNode;if(b=b.tag,O!==null&&O===o)break;b!==5&&b!==26&&b!==27||B===null||(O=B,h?(B=ai(s,f),B!=null&&y.unshift(Yl(s,B,O))):h||(B=ai(s,f),B!=null&&y.push(Yl(s,B,O)))),s=s.return}y.length!==0&&t.push({event:i,listeners:y})}var Wb=/\r\n?/g,eT=/\u0000|\uFFFD/g;function By(t){return(typeof t=="string"?t:""+t).replace(Wb,`
`).replace(eT,"")}function qy(t,i){return i=By(i),By(t)===i}function mt(t,i,s,o,h,f){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||bn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&bn(t,""+o);break;case"className":ae(t,"class",o);break;case"tabIndex":ae(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ae(t,s,o);break;case"style":kr(t,o,f);break;case"data":if(i!=="object"){ae(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ta(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&mt(t,i,"name",h.name,h,null),mt(t,i,"formEncType",h.formEncType,h,null),mt(t,i,"formMethod",h.formMethod,h,null),mt(t,i,"formTarget",h.formTarget,h,null)):(mt(t,i,"encType",h.encType,h,null),mt(t,i,"method",h.method,h,null),mt(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ta(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ri);break;case"onScroll":o!=null&&Ke("scroll",t);break;case"onScrollEnd":o!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Ta(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),de(t,"popover",o);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":de(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fo.get(s)||s,de(t,s,o))}}function Bf(t,i,s,o,h,f){switch(s){case"style":kr(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?bn(t,o):(typeof o=="number"||typeof o=="bigint")&&bn(t,""+o);break;case"onScroll":o!=null&&Ke("scroll",t);break;case"onScrollEnd":o!=null&&Ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[vt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):de(t,s,o)}}}function fn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:mt(t,i,f,y,s,null)}}h&&mt(t,i,"srcSet",s.srcSet,s,null),o&&mt(t,i,"src",s.src,s,null);return;case"input":Ke("invalid",t);var b=f=y=h=null,O=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":y=Y;break;case"checked":O=Y;break;case"defaultChecked":B=Y;break;case"value":f=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:mt(t,i,o,Y,s,null)}}Rs(t,f,b,O,B,y,h,!1);return;case"select":Ke("invalid",t),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":o=b;default:mt(t,i,h,b,s,null)}i=f,s=y,t.multiple=!!o,i!=null?Li(t,!!o,i,!1):s!=null&&Li(t,!!o,s,!0);return;case"textarea":Ke("invalid",t),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(b=s[y],b!=null))switch(y){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:mt(t,i,y,b,s,null)}ir(t,o,h,f);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(o=s[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:mt(t,i,O,o,s,null)}return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(o=0;o<Kl.length;o++)Ke(Kl[o],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:mt(t,i,B,o,s,null)}return;default:if(ba(i)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&Bf(t,i,Y,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&mt(t,i,b,o,s,null))}function tT(t,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,b=null,O=null,B=null,Y=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":O=J;default:o.hasOwnProperty(F)||mt(t,i,F,null,o,J)}}for(var q in o){var F=o[q];if(J=s[q],o.hasOwnProperty(q)&&(F!=null||J!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":y=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==J&&mt(t,i,q,F,o,J)}}Ea(t,y,b,O,B,Y,f,h);return;case"select":F=y=b=q=null;for(f in s)if(O=s[f],s.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":F=O;default:o.hasOwnProperty(f)||mt(t,i,f,null,o,O)}for(h in o)if(f=o[h],O=s[h],o.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":q=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==O&&mt(t,i,h,f,o,O)}i=b,s=y,o=F,q!=null?Li(t,!!s,q,!1):!!o!=!!s&&(i!=null?Li(t,!!s,i,!0):Li(t,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:mt(t,i,b,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&mt(t,i,y,h,o,f)}co(t,q,F);return;case"option":for(var ve in s)if(q=s[ve],s.hasOwnProperty(ve)&&q!=null&&!o.hasOwnProperty(ve))switch(ve){case"selected":t.selected=!1;break;default:mt(t,i,ve,null,o,q)}for(O in o)if(q=o[O],F=s[O],o.hasOwnProperty(O)&&q!==F&&(q!=null||F!=null))switch(O){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:mt(t,i,O,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)q=s[Ae],s.hasOwnProperty(Ae)&&q!=null&&!o.hasOwnProperty(Ae)&&mt(t,i,Ae,null,o,q);for(B in o)if(q=o[B],F=s[B],o.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:mt(t,i,B,q,o,F)}return;default:if(ba(i)){for(var pt in s)q=s[pt],s.hasOwnProperty(pt)&&q!==void 0&&!o.hasOwnProperty(pt)&&Bf(t,i,pt,void 0,o,q);for(Y in o)q=o[Y],F=s[Y],!o.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||Bf(t,i,Y,q,o,F);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&mt(t,i,U,null,o,q);for(J in o)q=o[J],F=s[J],!o.hasOwnProperty(J)||q===F||q==null&&F==null||mt(t,i,J,q,o,F)}function Hy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,b=h.duration;if(f&&b&&Hy(y)){for(y=0,b=h.responseEnd,o+=1;o<s.length;o++){var O=s[o],B=O.startTime;if(B>b)break;var Y=O.transferSize,J=O.initiatorType;Y&&Hy(J)&&(O=O.responseEnd,y+=Y*(O<b?1:(b-B)/(O-B)))}if(--o,i+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qf=null,Hf=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function Fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ff(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gf=null;function iT(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(t){return Ky.resolve(null).then(t).catch(sT)}:Qy;function sT(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function Yy(t,i){var s=i,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Fo(i);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")$l(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,$l(s);for(var f=s.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[_i]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&$l(t.ownerDocument.body);s=h}while(s);Fo(i)}function $y(t,i){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Qf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qf(s),Dr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function oT(t,i,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Oi(t.nextSibling),t===null)break}return null}function lT(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Oi(t.nextSibling),t===null))return null;return t}function Xy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Oi(t.nextSibling),t===null))return null;return t}function Kf(t){return t.data==="$?"||t.data==="$~"}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uT(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Oi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var $f=null;function Jy(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Oi(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Zy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Wy(t,i,s){switch(i=Bc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function $l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Dr(t)}var ji=new Map,e0=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var na=ue.d;ue.d={f:cT,r:hT,D:dT,C:fT,L:mT,m:pT,X:vT,S:gT,M:yT};function cT(){var t=na.f(),i=jc();return t||i}function hT(t){var i=on(t);i!==null&&i.tag===5&&i.type==="form"?vv(i):na.r(t)}var Bo=typeof document>"u"?null:document;function t0(t,i,s){var o=Bo;if(o&&typeof i=="string"&&i){var h=En(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),e0.has(h)||(e0.add(h),t={rel:t,crossOrigin:s,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),fn(i,"link",t),Tt(i),o.head.appendChild(i)))}}function dT(t){na.D(t),t0("dns-prefetch",t,null)}function fT(t,i){na.C(t,i),t0("preconnect",t,i)}function mT(t,i,s){na.L(t,i,s);var o=Bo;if(o&&t&&i){var h='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+En(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+En(s.imageSizes)+'"]')):h+='[href="'+En(t)+'"]';var f=h;switch(i){case"style":f=qo(t);break;case"script":f=Ho(t)}ji.has(f)||(t=R({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),ji.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Xl(f))||i==="script"&&o.querySelector(Jl(f))||(i=o.createElement("link"),fn(i,"link",t),Tt(i),o.head.appendChild(i)))}}function pT(t,i){na.m(t,i);var s=Bo;if(s&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+En(o)+'"][href="'+En(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ho(t)}if(!ji.has(f)&&(t=R({rel:"modulepreload",href:t},i),ji.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Jl(f)))return}o=s.createElement("link"),fn(o,"link",t),Tt(o),s.head.appendChild(o)}}}function gT(t,i,s){na.S(t,i,s);var o=Bo;if(o&&t){var h=ei(o).hoistableStyles,f=qo(t);i=i||"default";var y=h.get(f);if(!y){var b={loading:0,preload:null};if(y=o.querySelector(Xl(f)))b.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":i},s),(s=ji.get(f))&&Xf(t,s);var O=y=o.createElement("link");Tt(O),fn(O,"link",t),O._p=new Promise(function(B,Y){O.onload=B,O.onerror=Y}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Hc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:b},h.set(f,y)}}}function vT(t,i){na.X(t,i);var s=Bo;if(s&&t){var o=ei(s).hoistableScripts,h=Ho(t),f=o.get(h);f||(f=s.querySelector(Jl(h)),f||(t=R({src:t,async:!0},i),(i=ji.get(h))&&Jf(t,i),f=s.createElement("script"),Tt(f),fn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function yT(t,i){na.M(t,i);var s=Bo;if(s&&t){var o=ei(s).hoistableScripts,h=Ho(t),f=o.get(h);f||(f=s.querySelector(Jl(h)),f||(t=R({src:t,async:!0,type:"module"},i),(i=ji.get(h))&&Jf(t,i),f=s.createElement("script"),Tt(f),fn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function n0(t,i,s,o){var h=(h=Ne.current)?qc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=qo(s.href),s=ei(h).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=qo(s.href);var f=ei(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Xl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),ji.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ji.set(t,s),f||_T(h,t,s,y.state))),i&&o===null)throw Error(a(528,""));return y}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ho(s),s=ei(h).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function qo(t){return'href="'+En(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function i0(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function _T(t,i,s,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),fn(i,"link",s),Tt(i),t.head.appendChild(i))}function Ho(t){return'[src="'+En(t)+'"]'}function Jl(t){return"script[async]"+t}function r0(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+En(s.href)+'"]');if(o)return i.instance=o,Tt(o),o;var h=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),fn(o,"style",h),Hc(o,s.precedence,t),i.instance=o;case"stylesheet":h=qo(s.href);var f=t.querySelector(Xl(h));if(f)return i.state.loading|=4,i.instance=f,Tt(f),f;o=i0(s),(h=ji.get(h))&&Xf(o,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(b,O){y.onload=b,y.onerror=O}),fn(f,"link",o),i.state.loading|=4,Hc(f,s.precedence,t),i.instance=f;case"script":return f=Ho(s.src),(h=t.querySelector(Jl(f)))?(i.instance=h,Tt(h),h):(o=s,(h=ji.get(f))&&(o=R({},s),Jf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),fn(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Hc(o,s.precedence,t));return i.instance}function Hc(t,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var b=o[y];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Xf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fc=null;function a0(t,i,s){if(Fc===null){var o=new Map,h=Fc=new Map;h.set(s,o)}else h=Fc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[_i]||f[Me]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=t+y;var b=o.get(y);b?b.push(f):o.set(y,[f])}}return o}function s0(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function ET(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function o0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bT(t,i,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=qo(o.href),f=i.querySelector(Xl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Gc.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=f,Tt(f);return}f=i.ownerDocument||i,o=i0(o),(h=ji.get(h))&&Xf(o,h),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(b,O){y.onload=b,y.onerror=O}),fn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Gc.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Zf=0;function TT(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Zf===0&&(Zf=62500*nT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zf?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,i.forEach(ST,t),Qc=null,Gc.call(t))}function ST(t,i){if(!(i.state.loading&4)){var s=Qc.get(t);if(s)var o=s.get(null);else{s=new Map,Qc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=Gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Zl={$$typeof:he,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function AT(t,i,s,o,h,f,y,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function l0(t,i,s,o,h,f,y,b,O,B,Y,J){return t=new AT(t,i,s,y,O,B,Y,J,b),i=1,f===!0&&(i|=24),f=oi(3,null,null,i),t.current=f,f.stateNode=t,i=Id(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:i},Md(f),t}function u0(t){return t?(t=Eo,t):Eo}function c0(t,i,s,o,h,f){h=u0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ia(i),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Da(t,o,i),s!==null&&(Gn(s,t,i),Il(s,t,i))}function h0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Wf(t,i){h0(t,i),(t=t.alternate)&&h0(t,i)}function d0(t){if(t.tag===13||t.tag===31){var i=ks(t,67108864);i!==null&&Gn(i,t,67108864),Wf(t,67108864)}}function f0(t){if(t.tag===13||t.tag===31){var i=di();i=Ui(i);var s=ks(t,i);s!==null&&Gn(s,t,i),Wf(t,i)}}var Yc=!0;function wT(t,i,s,o){var h=K.T;K.T=null;var f=ue.p;try{ue.p=2,em(t,i,s,o)}finally{ue.p=f,K.T=h}}function xT(t,i,s,o){var h=K.T;K.T=null;var f=ue.p;try{ue.p=8,em(t,i,s,o)}finally{ue.p=f,K.T=h}}function em(t,i,s,o){if(Yc){var h=tm(o);if(h===null)zf(t,i,o,$c,s),p0(t,o);else if(CT(h,t,i,s,o))o.stopPropagation();else if(p0(t,o),i&4&&-1<RT.indexOf(t)){for(;h!==null;){var f=on(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=xe(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var O=1<<31-bt(y);b.entanglements[1]|=O,y&=~O}fr(f),(ut&6)===0&&(Dc=sn()+500,Ql(0))}}break;case 31:case 13:b=ks(f,2),b!==null&&Gn(b,f,2),jc(),Wf(f,2)}if(f=tm(o),f===null&&zf(t,i,o,$c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else zf(t,i,o,null,s)}}function tm(t){return t=Ln(t),nm(t)}var $c=null;function nm(t){if($c=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===31){if(t=g(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return $c=t,null}function m0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case ki:return 2;case pa:return 8;case er:case yl:return 32;case Pi:return 268435456;default:return 32}default:return 32}}var im=!1,qa=null,Ha=null,Fa=null,Wl=new Map,eu=new Map,Ga=[],RT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p0(t,i){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(i.pointerId)}}function tu(t,i,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=on(i),i!==null&&d0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function CT(t,i,s,o,h){switch(i){case"focusin":return qa=tu(qa,t,i,s,o,h),!0;case"dragenter":return Ha=tu(Ha,t,i,s,o,h),!0;case"mouseover":return Fa=tu(Fa,t,i,s,o,h),!0;case"pointerover":var f=h.pointerId;return Wl.set(f,tu(Wl.get(f)||null,t,i,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,eu.set(f,tu(eu.get(f)||null,t,i,s,o,h)),!0}return!1}function g0(t){var i=Ei(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,Pn(t.priority,function(){f0(s)});return}}else if(i===31){if(i=g(s),i!==null){t.blockedOn=i,Pn(t.priority,function(){f0(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=tm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ns=o,s.target.dispatchEvent(o),Ns=null}else return i=on(s),i!==null&&d0(i),t.blockedOn=s,!1;i.shift()}return!0}function v0(t,i,s){Xc(t)&&s.delete(i)}function NT(){im=!1,qa!==null&&Xc(qa)&&(qa=null),Ha!==null&&Xc(Ha)&&(Ha=null),Fa!==null&&Xc(Fa)&&(Fa=null),Wl.forEach(v0),eu.forEach(v0)}function Jc(t,i){t.blockedOn===i&&(t.blockedOn=null,im||(im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NT)))}var Zc=null;function y0(t){Zc!==t&&(Zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var i=0;i<t.length;i+=3){var s=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(nm(o||s)===null)continue;break}var f=on(s);f!==null&&(t.splice(i,3),i-=3,ef(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Fo(t){function i(O){return Jc(O,t)}qa!==null&&Jc(qa,t),Ha!==null&&Jc(Ha,t),Fa!==null&&Jc(Fa,t),Wl.forEach(i),eu.forEach(i);for(var s=0;s<Ga.length;s++){var o=Ga[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ga.length&&(s=Ga[0],s.blockedOn===null);)g0(s),s.blockedOn===null&&Ga.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[vt]||null;if(typeof f=="function")y||y0(s);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[vt]||null)b=y.formAction;else if(nm(h)!==null)continue}else b=y.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),y0(s)}}}function _0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function rm(t){this._internalRoot=t}Wc.prototype.render=rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,o=di();c0(s,o,t,i,null,null)},Wc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;c0(t.current,2,null,t,null,null),jc(),i[Wn]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Es();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ga.length&&i!==0&&i<Ga[s].priority;s++);Ga.splice(s,0,t),s===0&&g0(t)}};var E0=e.version;if(E0!=="19.2.3")throw Error(a(527,E0,"19.2.3"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var IT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Rn=eh.inject(IT),Ye=eh}catch{}}return iu.createRoot=function(t,i){if(!l(t))throw Error(a(299));var s=!1,o="",h=Rv,f=Cv,y=Nv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=l0(t,1,!1,null,null,s,o,null,h,f,y,_0),t[Wn]=i.current,Lf(t),new rm(i)},iu.hydrateRoot=function(t,i,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=Rv,y=Cv,b=Nv,O=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),i=l0(t,1,!0,i,s??null,o,h,O,f,y,b,_0),i.context=u0(null),s=i.current,o=di(),o=Ui(o),h=Ia(o),h.callback=null,Da(s,h,o),s=o,i.current.lanes=s,vi(i,s),fr(i),t[Wn]=i.current,Lf(t),new Wc(i)},iu.version="19.2.3",iu}var I0;function qT(){if(I0)return om.exports;I0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=BT(),om.exports}var HT=qT();/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b2=(...r)=>r.filter((e,n,a)=>!!e&&a.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=re.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...g},v)=>re.createElement("svg",{ref:v,...GT,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:b2("lucide",l),...g},[...d.map(([_,T])=>re.createElement(_,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=(r,e)=>{const n=re.forwardRef(({className:a,...l},u)=>re.createElement(QT,{ref:u,iconNode:e,className:b2(`lucide-${FT(r)}`,a),...l}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ha("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=ha("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=ha("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ha("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ha("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ha("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=ha("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=ha("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ha("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),JT=()=>{};var O0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},ZT=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],v=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const u=r[n++],d=r[n++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},x2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,v=l+2<r.length,_=v?r[l+2]:0,T=u>>2,R=(u&3)<<4|g>>4;let j=(g&15)<<2|_>>6,G=_&63;v||(G=64,d||(j=64)),a.push(n[T],n[R],n[j],n[G])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(w2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ZT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||_==null||R==null)throw new WT;const j=u<<2|g>>4;if(a.push(j),_!==64){const G=g<<4&240|_>>2;if(a.push(G),R!==64){const ee=_<<6&192|R;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(r){const e=w2(r);return x2.encodeByteArray(e,!0)},Th=function(r){return eS(r).replace(/\./g,"")},R2=function(r){try{return x2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=()=>tS().__FIREBASE_DEFAULTS__,iS=()=>{if(typeof process>"u"||typeof O0>"u")return;const r=O0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&R2(r[1]);return e&&JSON.parse(e)},Hh=()=>{try{return JT()||nS()||iS()||rS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C2=r=>{var e,n;return(n=(e=Hh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},aS=r=>{const e=C2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},N2=()=>{var r;return(r=Hh())==null?void 0:r.config},I2=r=>{var e;return(e=Hh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D2(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(n)),Th(JSON.stringify(d)),""].join(".")}const fu={};function lS(){const r={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?r.emulator.push(e):r.prod.push(e);return r}function uS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let j0=!1;function O2(r,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||fu[r]===e||fu[r]||j0)return;fu[r]=e;function n(j){return`__firebase__banner__${j}`}const a="__firebase__banner",u=lS().prod.length>0;function d(){const j=document.getElementById(a);j&&j.remove()}function g(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function v(j,G){j.setAttribute("width","24"),j.setAttribute("id",G),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function _(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{j0=!0,d()},j}function T(j,G){j.setAttribute("id",G),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function R(){const j=uS(a),G=n("text"),ee=document.getElementById(G)||document.createElement("span"),ne=n("learnmore"),te=document.getElementById(ne)||document.createElement("a"),ie=n("preprendIcon"),ce=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const he=j.element;g(he),T(te,ne);const Be=_();v(ce,ie),he.append(ce,ee,te,Be),document.body.appendChild(he)}u?(ee.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function hS(){var e;const r=(e=Hh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pS(){const r=xn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="FirebaseError";class da extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=_S,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?ES(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new da(l,g,a)}}function ES(r,e){return r.replace(bS,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const bS=/\{\$([^}]+)}/g;function TS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ws(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const u=r[l],d=e[l];if(M0(u)&&M0(d)){if(!Ws(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function M0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function su(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function ou(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function SS(r,e){const n=new AS(r,e);return n.subscribe.bind(n)}class AS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=hm),l.error===void 0&&(l.error=hm),l.complete===void 0&&(l.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r){return r&&r._delegate?r._delegate:r}class eo{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new sS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CS(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:RS(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(r){return r===$s?void 0:r}function CS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Je||(Je={}));const IS={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},DS=Je.INFO,OS={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},jS=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=OS[e];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=DS,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const MS=(r,e)=>e.some(n=>r instanceof n);let V0,k0;function VS(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j2=new WeakMap,Im=new WeakMap,M2=new WeakMap,dm=new WeakMap,lp=new WeakMap;function PS(r){const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(ns(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&j2.set(n,r)}).catch(()=>{}),lp.set(e,r),e}function US(r){if(Im.has(r))return;const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Im.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Im.get(r);if(e==="objectStoreNames")return r.objectStoreNames||M2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LS(r){Dm=r(Dm)}function zS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(fm(this),e,...n);return M2.set(a,e.sort?e.sort():[e]),ns(a)}:kS().includes(r)?function(...e){return r.apply(fm(this),e),ns(j2.get(this))}:function(...e){return ns(r.apply(fm(this),e))}}function BS(r){return typeof r=="function"?zS(r):(r instanceof IDBTransaction&&US(r),MS(r,VS())?new Proxy(r,Dm):r)}function ns(r){if(r instanceof IDBRequest)return PS(r);if(dm.has(r))return dm.get(r);const e=BS(r);return e!==r&&(dm.set(r,e),lp.set(e,r)),e}const fm=r=>lp.get(r);function qS(r,e,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),g=ns(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ns(d.result),v.oldVersion,v.newVersion,ns(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const HS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],mm=new Map;function P0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=FS.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||HS.includes(n)))return;const u=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&v.done]))[0]};return mm.set(e,u),u}LS(r=>({...r,get:(e,n,a)=>P0(e,n)||r.get(e,n,a),has:(e,n)=>!!P0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QS(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function QS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Om="@firebase/app",U0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new op("@firebase/app"),KS="@firebase/app-compat",YS="@firebase/analytics-compat",$S="@firebase/analytics",XS="@firebase/app-check-compat",JS="@firebase/app-check",ZS="@firebase/auth",WS="@firebase/auth-compat",eA="@firebase/database",tA="@firebase/data-connect",nA="@firebase/database-compat",iA="@firebase/functions",rA="@firebase/functions-compat",aA="@firebase/installations",sA="@firebase/installations-compat",oA="@firebase/messaging",lA="@firebase/messaging-compat",uA="@firebase/performance",cA="@firebase/performance-compat",hA="@firebase/remote-config",dA="@firebase/remote-config-compat",fA="@firebase/storage",mA="@firebase/storage-compat",pA="@firebase/firestore",gA="@firebase/ai",vA="@firebase/firestore-compat",yA="firebase",_A="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",EA={[Om]:"fire-core",[KS]:"fire-core-compat",[$S]:"fire-analytics",[YS]:"fire-analytics-compat",[JS]:"fire-app-check",[XS]:"fire-app-check-compat",[ZS]:"fire-auth",[WS]:"fire-auth-compat",[eA]:"fire-rtdb",[tA]:"fire-data-connect",[nA]:"fire-rtdb-compat",[iA]:"fire-fn",[rA]:"fire-fn-compat",[aA]:"fire-iid",[sA]:"fire-iid-compat",[oA]:"fire-fcm",[lA]:"fire-fcm-compat",[uA]:"fire-perf",[cA]:"fire-perf-compat",[hA]:"fire-rc",[dA]:"fire-rc-compat",[fA]:"fire-gcs",[mA]:"fire-gcs-compat",[pA]:"fire-fst",[vA]:"fire-fst-compat",[gA]:"fire-vertex","fire-js":"fire-js",[yA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,bA=new Map,Mm=new Map;function L0(r,e){try{r.container.addComponent(e)}catch(n){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function il(r){const e=r.name;if(Mm.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,r);for(const n of Sh.values())L0(n,r);for(const n of bA.values())L0(n,r);return!0}function up(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Mi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Nu("app","Firebase",TA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=_A;function V2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:jm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw is.create("bad-app-name",{appName:String(l)});if(n||(n=N2()),!n)throw is.create("no-options");const u=Sh.get(l);if(u){if(Ws(n,u.options)&&Ws(a,u.config))return u;throw is.create("duplicate-app",{appName:l})}const d=new NS(l);for(const v of Mm.values())d.addComponent(v);const g=new SA(n,a,d);return Sh.set(l,g),g}function k2(r=jm){const e=Sh.get(r);if(!e&&r===jm&&N2())return V2();if(!e)throw is.create("no-app",{appName:r});return e}function rs(r,e,n){let a=EA[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(d.join(" "));return}il(new eo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firebase-heartbeat-database",wA=1,Eu="firebase-heartbeat-store";let pm=null;function P2(){return pm||(pm=qS(AA,wA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),pm}async function xA(r){try{const n=(await P2()).transaction(Eu),a=await n.objectStore(Eu).get(U2(r));return await n.done,a}catch(e){if(e instanceof da)oa.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(n.message)}}}async function z0(r,e){try{const a=(await P2()).transaction(Eu,"readwrite");await a.objectStore(Eu).put(e,U2(r)),await a.done}catch(n){if(n instanceof da)oa.warn(n.message);else{const a=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oa.warn(a.message)}}}function U2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=1024,CA=30;class NA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>CA){const d=OA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){oa.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B0(),{heartbeatsToSend:a,unsentEntries:l}=IA(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return oa.warn(n),""}}}function B0(){return new Date().toISOString().substring(0,10)}function IA(r,e=RA){const n=[];let a=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),q0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),q0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class DA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return z0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return z0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function q0(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function OA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(r){il(new eo("platform-logger",e=>new GS(e),"PRIVATE")),il(new eo("heartbeat",e=>new NA(e),"PRIVATE")),rs(Om,U0,r),rs(Om,U0,"esm2020"),rs("fire-js","")}jA("");var MA="firebase",VA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(MA,VA,"app");function L2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kA=L2,z2=new Nu("auth","Firebase",L2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new op("@firebase/auth");function PA(r,...e){Ah.logLevel<=Je.WARN&&Ah.warn(`Auth (${dl}): ${r}`,...e)}function hh(r,...e){Ah.logLevel<=Je.ERROR&&Ah.error(`Auth (${dl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,...e){throw cp(r,...e)}function vr(r,...e){return cp(r,...e)}function B2(r,e,n){const a={...kA(),[e]:n};return new Nu("auth","Firebase",a).create(e,{appName:r.name})}function aa(r){return B2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return z2.create(r,...e)}function Re(r,e,...n){if(!r)throw cp(e,...n)}function ia(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hh(e),new Error(e)}function la(r,e){r||ia(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function UA(){return H0()==="http:"||H0()==="https:"}function H0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UA()||fS()||"connection"in navigator)?navigator.onLine:!0}function zA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,la(n>e,"Short delay should be less than long delay!"),this.isMobile=cS()||mS()}get(){return LA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r,e){la(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HA=new Du(3e4,6e4);function fa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ar(r,e,n,a,l={}){return H2(r,l,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const g=Iu({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:v,...u};return dS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&hl(r.emulatorConfig.host)&&(_.credentials="include"),q2.fetch()(await F2(r,r.config.apiHost,n,g),_)})}async function H2(r,e,n){r._canInitEmulator=!1;const a={...BA,...e};try{const l=new GA(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw th(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw th(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw th(r,"user-disabled",d);const T=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw B2(r,T,_);$i(r,T)}}catch(l){if(l instanceof da)throw l;$i(r,"network-request-failed",{message:String(l)})}}async function Ou(r,e,n,a,l={}){const u=await Ar(r,e,n,a,l);return"mfaPendingCredential"in u&&$i(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function F2(r,e,n,a){const l=`${e}${n}?${a}`,u=r,d=u.config.emulator?hp(r.config,l):`${r.config.apiScheme}://${l}`;return qA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function FA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(vr(this.auth,"network-request-failed")),HA.get())})}}function th(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=vr(r,e,a);return l.customData._tokenResponse=n,l}function F0(r){return r!==void 0&&r.enterprise!==void 0}class QA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KA(r,e){return Ar(r,"GET","/v2/recaptchaConfig",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(r,e){return Ar(r,"POST","/v1/accounts:delete",e)}async function wh(r,e){return Ar(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(r,e=!1){const n=It(r),a=await n.getIdToken(e),l=dp(a);Re(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:mu(gm(l.auth_time)),issuedAtTime:mu(gm(l.iat)),expirationTime:mu(gm(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(r){return Number(r)*1e3}function dp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const l=R2(n);return l?JSON.parse(l):(hh("Failed to decode base64 JWT payload"),null)}catch(l){return hh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function G0(r){const e=dp(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof da&&XA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function XA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var R;const e=r.auth,n=await r.getIdToken(),a=await rl(r,wh(e,{idToken:n}));Re(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=(R=l.providerUserInfo)!=null&&R.length?G2(l.providerUserInfo):[],d=ZA(r.providerData,u),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=g?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new km(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function Pm(r){const e=It(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZA(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function G2(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(r,e){const n=await H2(r,{},async()=>{const a=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await F2(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&hl(r.emulatorConfig.host)&&(v.credentials="include"),q2.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ew(r,e){return Ar(r,"POST","/v2/accounts:revokeToken",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=G0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await WA(e,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,d=new Zo;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Re(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Re(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qi{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new JA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new km(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await rl(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $A(this,e)}reload(){return Pm(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await rl(this,YA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,v=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:R,emailVerified:j,isAnonymous:G,providerData:ee,stsTokenManager:ne}=n;Re(R&&ne,e,"internal-error");const te=Zo.fromJSON(this.name,ne);Re(typeof R=="string",e,"internal-error"),Ka(a,e.name),Ka(l,e.name),Re(typeof j=="boolean",e,"internal-error"),Re(typeof G=="boolean",e,"internal-error"),Ka(u,e.name),Ka(d,e.name),Ka(g,e.name),Ka(v,e.name),Ka(_,e.name),Ka(T,e.name);const ie=new Qi({uid:R,auth:e,email:l,emailVerified:j,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:te,createdAt:_,lastLoginAt:T});return ee&&Array.isArray(ee)&&(ie.providerData=ee.map(ce=>({...ce}))),v&&(ie._redirectEventId=v),ie}static async _fromIdTokenResponse(e,n,a=!1){const l=new Zo;l.updateFromServerResponse(n);const u=new Qi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Re(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?G2(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Zo;g.updateFromIdToken(a);const v=new Qi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new km(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;function ra(r){la(r instanceof Function,"Expected a class definition");let e=Q0.get(r);return e?(la(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Q0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Q2.type="NONE";const K0=Q2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class Wo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=dh(this.userKey,l.apiKey,u),this.fullPersistenceKey=dh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Qi._fromGetAccountInfoResponse(this.auth,n,e):null}return Qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Wo(ra(K0),e,a);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||ra(K0);const d=dh(a,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const T=await _._get(d);if(T){let R;if(typeof T=="string"){const j=await wh(e,{idToken:T}).catch(()=>{});if(!j)break;R=await Qi._fromGetAccountInfoResponse(e,j,T)}else R=Qi._fromJSON(e,T);_!==u&&(g=R),u=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new Wo(u,e,a):(u=v[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Wo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z2(e))return"Blackberry";if(W2(e))return"Webos";if(Y2(e))return"Safari";if((e.includes("chrome/")||$2(e))&&!e.includes("edge/"))return"Chrome";if(J2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function K2(r=xn()){return/firefox\//i.test(r)}function Y2(r=xn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $2(r=xn()){return/crios\//i.test(r)}function X2(r=xn()){return/iemobile/i.test(r)}function J2(r=xn()){return/android/i.test(r)}function Z2(r=xn()){return/blackberry/i.test(r)}function W2(r=xn()){return/webos/i.test(r)}function fp(r=xn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tw(r=xn()){var e;return fp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function nw(){return pS()&&document.documentMode===10}function e1(r=xn()){return fp(r)||J2(r)||W2(r)||Z2(r)||/windows phone/i.test(r)||X2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r,e=[]){let n;switch(r){case"Browser":n=Y0(xn());break;case"Worker":n=`${Y0(xn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,g)=>{try{const v=e(u);d(v)}catch(v){g(v)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(r,e={}){return Ar(r,"GET","/v2/passwordPolicy",fa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=6;class sw{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new iw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ra(n)),this._initializationPromise=this.queue(async()=>{var a,l,u;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),a=await Qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Mi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=a==null?void 0:a._redirectEventId,v=await this.tryRedirectSignIn(e);(!d||d===g)&&(v!=null&&v.user)&&(a=v.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(aa(this));const n=e?It(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rw(this),n=new sw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await ew(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ra(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,a,l);return()=>{d=!0,v()}}else{const v=e.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&PA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ps(r){return It(r)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lw(r){Fh=r}function n1(r){return Fh.loadJS(r)}function uw(){return Fh.recaptchaEnterpriseScript}function cw(){return Fh.gapiScript}function hw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dw{constructor(){this.enterprise=new fw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mw="recaptcha-enterprise",i1="NO_RECAPTCHA";class pw{constructor(e){this.type=mw,this.auth=ps(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{KA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new QA(v);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(v=>{g(v)})})}function l(u,d,g){const v=window.grecaptcha;F0(v)?v.enterprise.ready(()=>{v.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(i1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(g=>{if(!n&&F0(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=uw();v.length!==0&&(v+=g),n1(v).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function X0(r,e,n,a=!1,l=!1){const u=new pw(r);let d;if(l)d=i1;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const v=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const v=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Rh(r,e,n,a,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await X0(r,e,n,n==="getOobCode");return a(r,d)}else return a(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await X0(r,e,n,n==="getOobCode");return a(r,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(r,e){const n=up(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ws(u,e??{}))return l;$i(l,"already-initialized")}return n.initialize({options:e})}function vw(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ra);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function yw(r,e,n){const a=ps(r);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=r1(e),{host:d,port:g}=_w(e),v=g===null?"":`:${g}`,_={url:`${u}//${d}${v}/`},T=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(Ws(_,a.config.emulator)&&Ws(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,hl(d)?(D2(`${u}//${d}${v}`),O2("Auth",!0)):Ew()}function r1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _w(r){const e=r1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:J0(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:J0(d)}}}function J0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Ew(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ia("not implemented")}_getIdTokenResponse(e){return ia("not implemented")}_linkToIdToken(e,n){return ia("not implemented")}_getReauthenticationResolver(e){return ia("not implemented")}}async function bw(r,e){return Ar(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(r,e){return Ou(r,"POST","/v1/accounts:signInWithPassword",fa(r,e))}async function a1(r,e){return Ar(r,"POST","/v1/accounts:sendOobCode",fa(r,e))}async function Sw(r,e){return a1(r,e)}async function Aw(r,e){return a1(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",fa(r,e))}async function xw(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends mp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new bu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,n,"signInWithPassword",Tw);case"emailLink":return ww(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,a,"signUpPassword",bw);case"emailLink":return xw(e,{idToken:n,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r,e){return Ou(r,"POST","/v1/accounts:signInWithIdp",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="http://localhost";class to extends mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const d=new to(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return el(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,el(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,el(e,n)}buildRequest(){const e={requestUri:Rw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nw(r){const e=su(ou(r)).link,n=e?su(ou(e)).deep_link_id:null,a=su(ou(r)).deep_link_id;return(a?su(ou(a)).link:null)||a||n||e||r}class pp{constructor(e){const n=su(ou(e)),a=n.apiKey??null,l=n.oobCode??null,u=Cw(n.mode??null);Re(a&&l&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Nw(e);try{return new pp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.providerId=ls.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=pp.parseLink(n);return Re(a,"argument-error"),bu._fromEmailAndCode(e,a.code,a.tenantId)}}ls.PROVIDER_ID="password";ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends s1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends ju{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ja.credential(n,a)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends ju{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends ju{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Wa.credential(n,a)}catch{return null}}}Wa.TWITTER_SIGN_IN_METHOD="twitter.com";Wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(r,e){return Ou(r,"POST","/v1/accounts:signUp",fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const u=await Qi._fromIdTokenResponse(e,a,l),d=Z0(a);return new no({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=Z0(a);return new no({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function Z0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends da{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Ch(e,n,a,l)}}function o1(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,e,a):u})}async function Dw(r,e,n=!1){const a=await rl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return no._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(r,e,n=!1){const{auth:a}=r;if(Mi(a.app))return Promise.reject(aa(a));const l="reauthenticate";try{const u=await rl(r,o1(a,l,e,r),n);Re(u.idToken,a,"internal-error");const d=dp(u.idToken);Re(d,a,"internal-error");const{sub:g}=d;return Re(r.uid===g,a,"user-mismatch"),no._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$i(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r,e,n=!1){if(Mi(r.app))return Promise.reject(aa(r));const a="signIn",l=await o1(r,a,e),u=await no._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(u.user),u}async function Ow(r,e){return u1(ps(r),e)}async function W0(r,e){return l1(It(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(r){const e=ps(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vm(r,e,n){const a=ps(r);await Rh(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Aw)}async function jw(r,e,n){if(Mi(r.app))return Promise.reject(aa(r));const a=ps(r),d=await Rh(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Iw).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&c1(r),v}),g=await no._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function e_(r,e,n){return Mi(r.app)?Promise.reject(aa(r)):Ow(It(r),ls.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&c1(r),a})}async function t_(r,e){const n=It(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await Sw(n.auth,l);u!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,e){return Ar(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n_(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=It(r),u={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await rl(a,Mw(a.auth,u));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const g=a.providerData.find(({providerId:v})=>v==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r,e){return It(r).setPersistence(e)}function Vw(r,e,n,a){return It(r).onIdTokenChanged(e,n,a)}function kw(r,e,n){return It(r).beforeAuthStateChanged(e,n)}function Pw(r,e,n,a){return It(r).onAuthStateChanged(e,n,a)}function Ya(r){return It(r).signOut()}async function Uw(r){return It(r).delete()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=1e3,zw=10;class d1 extends h1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);nw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,zw):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d1.type="LOCAL";const fh=d1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends h1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f1.type="SESSION";const pu=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new Gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,u)),v=await Bw(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,v)=>{const _=gp("",20);l.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const j=R;if(j.data.eventId===_)switch(j.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(j.data.response);break;default:clearTimeout(T),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function Hw(r){yr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function Fw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Qw(){return m1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebaseLocalStorageDb",Kw=1,Ih="firebaseLocalStorage",g1="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function Yw(){const r=indexedDB.deleteDatabase(p1);return new Mu(r).toPromise()}function Um(){const r=indexedDB.open(p1,Kw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ih,{keyPath:g1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ih)?e(a):(a.close(),await Yw(),e(await Um()))})})}async function i_(r,e,n){const a=Qh(r,!0).put({[g1]:e,value:n});return new Mu(a).toPromise()}async function $w(r,e){const n=Qh(r,!1).get(e),a=await new Mu(n).toPromise();return a===void 0?null:a.value}function r_(r,e){const n=Qh(r,!0).delete(e);return new Mu(n).toPromise()}const Xw=800,Jw=3;class v1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>Jw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(Qw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await Fw(),!this.activeServiceWorker)return;this.sender=new qw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await i_(e,Nh,"1"),await r_(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>i_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>$w(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Qh(l,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v1.type="LOCAL";const Zw=v1;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(r,e){return e?ra(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,n){return el(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ex(r){return u1(r.auth,new vp(r),r.bypassAuthState)}function tx(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),l1(n,new vp(r),r.bypassAuthState)}async function nx(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),Dw(n,new vp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ex;case"linkViaPopup":case"linkViaRedirect":return nx;case"reauthViaPopup":case"reauthViaRedirect":return tx;default:$i(this.auth,"internal-error")}}resolve(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Du(2e3,1e4);class $o extends y1{constructor(e,n,a,l,u){super(e,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const e=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ix.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="pendingRedirect",mh=new Map;class ax extends y1{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const a=await sx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sx(r,e){const n=ux(e),a=lx(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function ox(r,e){mh.set(r._key(),e)}function lx(r){return ra(r._redirectPersistence)}function ux(r){return dh(rx,r.config.apiKey,r.name)}async function cx(r,e,n=!1){if(Mi(r.app))return Promise.reject(aa(r));const a=ps(r),l=Ww(a,e),d=await new ax(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=600*1e3;class dx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!_1(e)){const l=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hx&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(r,e={}){return Ar(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gx=/^https?/;async function vx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await mx(r);for(const n of e)try{if(yx(n))return}catch{}$i(r,"unauthorized-domain")}function yx(r){const e=Vm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!gx.test(n))return!1;if(px.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Du(3e4,6e4);function s_(){const r=yr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ex(r){return new Promise((e,n)=>{var l,u,d;function a(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),n(vr(r,"network-request-failed"))},timeout:_x.get()})}if((u=(l=yr().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((d=yr().gapi)!=null&&d.load)a();else{const g=hw("iframefcb");return yr()[g]=()=>{gapi.load?a():n(vr(r,"network-request-failed"))},n1(`${cw()}?onload=${g}`).catch(v=>n(v))}}).catch(e=>{throw ph=null,e})}let ph=null;function bx(r){return ph=ph||Ex(r),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Du(5e3,15e3),Sx="__/auth/iframe",Ax="emulator/auth/iframe",wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rx(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?hp(e,Ax):`https://${r.config.authDomain}/${Sx}`,a={apiKey:e.apiKey,appName:r.name,v:dl},l=xx.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Iu(a).slice(1)}`}async function Cx(r){const e=await bx(r),n=yr().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:Rx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wx,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=vr(r,"network-request-failed"),g=yr().setTimeout(()=>{u(d)},Tx.get());function v(){yr().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ix=500,Dx=600,Ox="_blank",jx="http://localhost";class o_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mx(r,e,n,a=Ix,l=Dx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Nx,width:a.toString(),height:l.toString(),top:u,left:d},_=xn().toLowerCase();n&&(g=$2(_)?Ox:n),K2(_)&&(e=e||jx,v.scrollbars="yes");const T=Object.entries(v).reduce((j,[G,ee])=>`${j}${G}=${ee},`,"");if(tw(_)&&g!=="_self")return Vx(e||"",g),new o_(null);const R=window.open(e||"",g,T);Re(R,r,"popup-blocked");try{R.focus()}catch{}return new o_(R)}function Vx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="__/auth/handler",Px="emulator/auth/handler",Ux=encodeURIComponent("fac");async function l_(r,e,n,a,l,u){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:dl,eventId:l};if(e instanceof s1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",TS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries({}))d[T]=R}if(e instanceof ju){const T=e.getScopes().filter(R=>R!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const v=await r._getAppCheckToken(),_=v?`#${Ux}=${encodeURIComponent(v)}`:"";return`${Lx(r)}?${Iu(g).slice(1)}${_}`}function Lx({config:r}){return r.emulator?hp(r,Px):`https://${r.authDomain}/${kx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class zx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pu,this._completeRedirectFn=cx,this._overrideRedirectResult=ox}async _openPopup(e,n,a,l){var d;la((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await l_(e,n,a,Vm(),l);return Mx(e,u,gp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const u=await l_(e,n,a,Vm(),l);return Hw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(la(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Cx(e),a=new dx(e);return n.register("authEvent",l=>(Re(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},l=>{var d;const u=(d=l==null?void 0:l[0])==null?void 0:d[_m];u!==void 0&&n(!!u),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e1()||Y2()||fp()}}const Bx=zx;var u_="@firebase/auth",c_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fx(r){il(new eo("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(r)},_=new ow(a,l,u,v);return vw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),il(new eo("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(a=>new qx(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(u_,c_,Hx(r)),rs(u_,c_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=300,Qx=I2("authIdTokenMaxAge")||Gx;let h_=null;const Kx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Qx)return;const l=n==null?void 0:n.token;h_!==l&&(h_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Yx(r=k2()){const e=up(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gw(r,{popupRedirectResolver:Bx,persistence:[Zw,fh,pu]}),a=I2("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=Kx(u.toString());kw(n,d,()=>d(n.currentUser)),Vw(n,g=>d(g))}}const l=C2("auth");return l&&yw(n,`http://${l}`),n}function $x(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}lw({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const u=vr("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",$x().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fx("Browser");var d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,E1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function D(){}D.prototype=C.prototype,I.F=C.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(P,M,S){for(var N=Array(arguments.length-2),He=2;He<arguments.length;He++)N[He-2]=arguments[He];return C.prototype[M].apply(P,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,C,D){D||(D=0);const P=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)P[M]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(M=0;M<16;++M)P[M]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=I.g[0],D=I.g[1],M=I.g[2];let S=I.g[3],N;N=C+(S^D&(M^S))+P[0]+3614090360&4294967295,C=D+(N<<7&4294967295|N>>>25),N=S+(M^C&(D^M))+P[1]+3905402710&4294967295,S=C+(N<<12&4294967295|N>>>20),N=M+(D^S&(C^D))+P[2]+606105819&4294967295,M=S+(N<<17&4294967295|N>>>15),N=D+(C^M&(S^C))+P[3]+3250441966&4294967295,D=M+(N<<22&4294967295|N>>>10),N=C+(S^D&(M^S))+P[4]+4118548399&4294967295,C=D+(N<<7&4294967295|N>>>25),N=S+(M^C&(D^M))+P[5]+1200080426&4294967295,S=C+(N<<12&4294967295|N>>>20),N=M+(D^S&(C^D))+P[6]+2821735955&4294967295,M=S+(N<<17&4294967295|N>>>15),N=D+(C^M&(S^C))+P[7]+4249261313&4294967295,D=M+(N<<22&4294967295|N>>>10),N=C+(S^D&(M^S))+P[8]+1770035416&4294967295,C=D+(N<<7&4294967295|N>>>25),N=S+(M^C&(D^M))+P[9]+2336552879&4294967295,S=C+(N<<12&4294967295|N>>>20),N=M+(D^S&(C^D))+P[10]+4294925233&4294967295,M=S+(N<<17&4294967295|N>>>15),N=D+(C^M&(S^C))+P[11]+2304563134&4294967295,D=M+(N<<22&4294967295|N>>>10),N=C+(S^D&(M^S))+P[12]+1804603682&4294967295,C=D+(N<<7&4294967295|N>>>25),N=S+(M^C&(D^M))+P[13]+4254626195&4294967295,S=C+(N<<12&4294967295|N>>>20),N=M+(D^S&(C^D))+P[14]+2792965006&4294967295,M=S+(N<<17&4294967295|N>>>15),N=D+(C^M&(S^C))+P[15]+1236535329&4294967295,D=M+(N<<22&4294967295|N>>>10),N=C+(M^S&(D^M))+P[1]+4129170786&4294967295,C=D+(N<<5&4294967295|N>>>27),N=S+(D^M&(C^D))+P[6]+3225465664&4294967295,S=C+(N<<9&4294967295|N>>>23),N=M+(C^D&(S^C))+P[11]+643717713&4294967295,M=S+(N<<14&4294967295|N>>>18),N=D+(S^C&(M^S))+P[0]+3921069994&4294967295,D=M+(N<<20&4294967295|N>>>12),N=C+(M^S&(D^M))+P[5]+3593408605&4294967295,C=D+(N<<5&4294967295|N>>>27),N=S+(D^M&(C^D))+P[10]+38016083&4294967295,S=C+(N<<9&4294967295|N>>>23),N=M+(C^D&(S^C))+P[15]+3634488961&4294967295,M=S+(N<<14&4294967295|N>>>18),N=D+(S^C&(M^S))+P[4]+3889429448&4294967295,D=M+(N<<20&4294967295|N>>>12),N=C+(M^S&(D^M))+P[9]+568446438&4294967295,C=D+(N<<5&4294967295|N>>>27),N=S+(D^M&(C^D))+P[14]+3275163606&4294967295,S=C+(N<<9&4294967295|N>>>23),N=M+(C^D&(S^C))+P[3]+4107603335&4294967295,M=S+(N<<14&4294967295|N>>>18),N=D+(S^C&(M^S))+P[8]+1163531501&4294967295,D=M+(N<<20&4294967295|N>>>12),N=C+(M^S&(D^M))+P[13]+2850285829&4294967295,C=D+(N<<5&4294967295|N>>>27),N=S+(D^M&(C^D))+P[2]+4243563512&4294967295,S=C+(N<<9&4294967295|N>>>23),N=M+(C^D&(S^C))+P[7]+1735328473&4294967295,M=S+(N<<14&4294967295|N>>>18),N=D+(S^C&(M^S))+P[12]+2368359562&4294967295,D=M+(N<<20&4294967295|N>>>12),N=C+(D^M^S)+P[5]+4294588738&4294967295,C=D+(N<<4&4294967295|N>>>28),N=S+(C^D^M)+P[8]+2272392833&4294967295,S=C+(N<<11&4294967295|N>>>21),N=M+(S^C^D)+P[11]+1839030562&4294967295,M=S+(N<<16&4294967295|N>>>16),N=D+(M^S^C)+P[14]+4259657740&4294967295,D=M+(N<<23&4294967295|N>>>9),N=C+(D^M^S)+P[1]+2763975236&4294967295,C=D+(N<<4&4294967295|N>>>28),N=S+(C^D^M)+P[4]+1272893353&4294967295,S=C+(N<<11&4294967295|N>>>21),N=M+(S^C^D)+P[7]+4139469664&4294967295,M=S+(N<<16&4294967295|N>>>16),N=D+(M^S^C)+P[10]+3200236656&4294967295,D=M+(N<<23&4294967295|N>>>9),N=C+(D^M^S)+P[13]+681279174&4294967295,C=D+(N<<4&4294967295|N>>>28),N=S+(C^D^M)+P[0]+3936430074&4294967295,S=C+(N<<11&4294967295|N>>>21),N=M+(S^C^D)+P[3]+3572445317&4294967295,M=S+(N<<16&4294967295|N>>>16),N=D+(M^S^C)+P[6]+76029189&4294967295,D=M+(N<<23&4294967295|N>>>9),N=C+(D^M^S)+P[9]+3654602809&4294967295,C=D+(N<<4&4294967295|N>>>28),N=S+(C^D^M)+P[12]+3873151461&4294967295,S=C+(N<<11&4294967295|N>>>21),N=M+(S^C^D)+P[15]+530742520&4294967295,M=S+(N<<16&4294967295|N>>>16),N=D+(M^S^C)+P[2]+3299628645&4294967295,D=M+(N<<23&4294967295|N>>>9),N=C+(M^(D|~S))+P[0]+4096336452&4294967295,C=D+(N<<6&4294967295|N>>>26),N=S+(D^(C|~M))+P[7]+1126891415&4294967295,S=C+(N<<10&4294967295|N>>>22),N=M+(C^(S|~D))+P[14]+2878612391&4294967295,M=S+(N<<15&4294967295|N>>>17),N=D+(S^(M|~C))+P[5]+4237533241&4294967295,D=M+(N<<21&4294967295|N>>>11),N=C+(M^(D|~S))+P[12]+1700485571&4294967295,C=D+(N<<6&4294967295|N>>>26),N=S+(D^(C|~M))+P[3]+2399980690&4294967295,S=C+(N<<10&4294967295|N>>>22),N=M+(C^(S|~D))+P[10]+4293915773&4294967295,M=S+(N<<15&4294967295|N>>>17),N=D+(S^(M|~C))+P[1]+2240044497&4294967295,D=M+(N<<21&4294967295|N>>>11),N=C+(M^(D|~S))+P[8]+1873313359&4294967295,C=D+(N<<6&4294967295|N>>>26),N=S+(D^(C|~M))+P[15]+4264355552&4294967295,S=C+(N<<10&4294967295|N>>>22),N=M+(C^(S|~D))+P[6]+2734768916&4294967295,M=S+(N<<15&4294967295|N>>>17),N=D+(S^(M|~C))+P[13]+1309151649&4294967295,D=M+(N<<21&4294967295|N>>>11),N=C+(M^(D|~S))+P[4]+4149444226&4294967295,C=D+(N<<6&4294967295|N>>>26),N=S+(D^(C|~M))+P[11]+3174756917&4294967295,S=C+(N<<10&4294967295|N>>>22),N=M+(C^(S|~D))+P[2]+718787259&4294967295,M=S+(N<<15&4294967295|N>>>17),N=D+(S^(M|~C))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+S&4294967295}a.prototype.v=function(I,C){C===void 0&&(C=I.length);const D=C-this.blockSize,P=this.C;let M=this.h,S=0;for(;S<C;){if(M==0)for(;S<=D;)l(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<C;)if(P[M++]=I.charCodeAt(S++),M==this.blockSize){l(this,P),M=0;break}}else for(;S<C;)if(P[M++]=I[S++],M==this.blockSize){l(this,P),M=0;break}}this.h=M,this.o+=C},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)I[C++]=this.g[D]>>>P&255;return I};function u(I,C){var D=g;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=C(I)}function d(I,C){this.h=C;const D=[];let P=!0;for(let M=I.length-1;M>=0;M--){const S=I[M]|0;P&&S==C||(D[M]=S,P=!1)}this.g=D}var g={};function v(I){return-128<=I&&I<128?u(I,function(C){return new d([C|0],C<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return R;if(I<0)return te(_(-I));const C=[];let D=1;for(let P=0;I>=D;P++)C[P]=I/D|0,D*=4294967296;return new d(C,0)}function T(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return te(T(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(C,8));let P=R;for(let S=0;S<I.length;S+=8){var M=Math.min(8,I.length-S);const N=parseInt(I.substring(S,S+M),C);M<8?(M=_(Math.pow(C,M)),P=P.j(M).add(_(N))):(P=P.j(D),P=P.add(_(N)))}return P}var R=v(0),j=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(ne(this))return-te(this).m();let I=0,C=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);I+=(P>=0?P:4294967296+P)*C,C*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(ne(this))return"-"+te(this).toString(I);const C=_(Math.pow(I,6));var D=this;let P="";for(;;){const M=Be(D,C).g;D=ie(D,M.j(C));let S=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=M,ee(D))return S+P;for(;S.length<6;)S="0"+S;P=S+P}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function ne(I){return I.h==-1}r.l=function(I){return I=ie(this,I),ne(I)?-1:ee(I)?0:1};function te(I){const C=I.g.length,D=[];for(let P=0;P<C;P++)D[P]=~I.g[P];return new d(D,~I.h).add(j)}r.abs=function(){return ne(this)?te(this):this},r.add=function(I){const C=Math.max(this.g.length,I.g.length),D=[];let P=0;for(let M=0;M<=C;M++){let S=P+(this.i(M)&65535)+(I.i(M)&65535),N=(S>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);P=N>>>16,S&=65535,N&=65535,D[M]=N<<16|S}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ie(I,C){return I.add(te(C))}r.j=function(I){if(ee(this)||ee(I))return R;if(ne(this))return ne(I)?te(this).j(te(I)):te(te(this).j(I));if(ne(I))return te(this.j(te(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const C=this.g.length+I.g.length,D=[];for(var P=0;P<2*C;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<I.g.length;M++){const S=this.i(P)>>>16,N=this.i(P)&65535,He=I.i(M)>>>16,Et=I.i(M)&65535;D[2*P+2*M]+=N*Et,ce(D,2*P+2*M),D[2*P+2*M+1]+=S*Et,ce(D,2*P+2*M+1),D[2*P+2*M+1]+=N*He,ce(D,2*P+2*M+1),D[2*P+2*M+2]+=S*He,ce(D,2*P+2*M+2)}for(I=0;I<C;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=C;I<2*C;I++)D[I]=0;return new d(D,0)};function ce(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function he(I,C){this.g=I,this.h=C}function Be(I,C){if(ee(C))throw Error("division by zero");if(ee(I))return new he(R,R);if(ne(I))return C=Be(te(I),C),new he(te(C.g),te(C.h));if(ne(C))return C=Be(I,te(C)),new he(te(C.g),C.h);if(I.g.length>30){if(ne(I)||ne(C))throw Error("slowDivide_ only works with positive integers.");for(var D=j,P=C;P.l(I)<=0;)D=_e(D),P=_e(P);var M=Le(D,1),S=Le(P,1);for(P=Le(P,2),D=Le(D,2);!ee(P);){var N=S.add(P);N.l(I)<=0&&(M=M.add(D),S=N),P=Le(P,1),D=Le(D,1)}return C=ie(I,M.j(C)),new he(M,C)}for(M=R;I.l(C)>=0;){for(D=Math.max(1,Math.floor(I.m()/C.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),S=_(D),N=S.j(C);ne(N)||N.l(I)>0;)D-=P,S=_(D),N=S.j(C);ee(S)&&(S=j),M=M.add(S),I=ie(I,N)}return new he(M,I)}r.B=function(I){return Be(this,I).h},r.and=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)&I.i(P);return new d(D,this.h&I.h)},r.or=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)|I.i(P);return new d(D,this.h|I.h)},r.xor=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)^I.i(P);return new d(D,this.h^I.h)};function _e(I){const C=I.g.length+1,D=[];for(let P=0;P<C;P++)D[P]=I.i(P)<<1|I.i(P-1)>>>31;return new d(D,I.h)}function Le(I,C){const D=C>>5;C%=32;const P=I.g.length-D,M=[];for(let S=0;S<P;S++)M[S]=C>0?I.i(S+D)>>>C|I.i(S+D+1)<<32-C:I.i(S+D);return new d(M,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,E1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,as=d}).apply(typeof d_<"u"?d_:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b1,lu,T1,gh,Lm,S1,A1,w1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function l(c,p){if(p)e:{var E=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in E))break e;E=E[L]}c=c[c.length-1],w=E[c],p=p(w),p!=w&&p!=null&&e(E,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var E=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&E.push([w,p[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function v(c,p,E){return c.call.apply(c.bind,arguments)}function _(c,p,E){return _=v,_.apply(null,arguments)}function T(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function R(c,p){function E(){}E.prototype=p.prototype,c.Z=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,L,H){for(var oe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)oe[ke-2]=arguments[ke];return p.prototype[L].apply(w,oe)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const p=c.length;if(p>0){const E=Array(p);for(let w=0;w<p;w++)E[w]=c[w];return E}return[]}function ee(c,p){for(let w=1;w<arguments.length;w++){const L=arguments[w];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=c.length||0;const H=L.length||0;c.length=E+H;for(let oe=0;oe<H;oe++)c[E+oe]=L[oe]}else c.push(L)}}class ne{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(c){d.setTimeout(()=>{throw c},0)}function ie(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ce{constructor(){this.h=this.g=null}add(p,E){const w=he.get();w.set(p,E),this.h?this.h.next=w:this.g=w,this.h=w}}var he=new ne(()=>new Be,c=>c.reset());class Be{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Le=!1,I=new ce,C=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(D)}};function D(){for(var c;c=ie();){try{c.h.call(c.g)}catch(E){te(E)}var p=he;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Le=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,p),d.removeEventListener("test",E,p)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function He(c,p){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}R(He,M),He.prototype.init=function(c,p){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),K=0;function ue(c,p,E,w,L){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!w,this.ha=L,this.key=++K,this.da=this.fa=!1}function Ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fe(c,p,E){for(const w in c)p.call(E,c[w],w,c)}function it(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function k(c){const p={};for(const E in c)p[E]=c[E];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,p){let E,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(E in w)c[E]=w[E];for(let H=0;H<$.length;H++)E=$[H],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function me(c){this.src=c,this.g={},this.h=0}me.prototype.add=function(c,p,E,w,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const oe=Ne(c,p,w,L);return oe>-1?(p=c[oe],E||(p.fa=!1)):(p=new ue(p,this.src,H,!!w,L),p.fa=E,c.push(p)),p};function Se(c,p){const E=p.type;if(E in c.g){var w=c.g[E],L=Array.prototype.indexOf.call(w,p,void 0),H;(H=L>=0)&&Array.prototype.splice.call(w,L,1),H&&(Ee(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ne(c,p,E,w){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==p&&H.capture==!!E&&H.ha==w)return L}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),Dt={};function gt(c,p,E,w,L){if(Array.isArray(p)){for(let H=0;H<p.length;H++)gt(c,p[H],E,w,L);return null}return E=ma(E),c&&c[Et]?c.J(p,E,g(w)?!!w.capture:!1,L):Ji(c,p,E,!1,w,L)}function Ji(c,p,E,w,L,H){if(!p)throw Error("Invalid event type");const oe=g(L)?!!L.capture:!!L;let ke=Zi(c);if(ke||(c[Ge]=ke=new me(c)),E=ke.add(p,E,w,oe,H),E.proxy)return E;if(w=yn(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)S||(L=oe),L===void 0&&(L=!1),c.addEventListener(p.toString(),w,L);else if(c.attachEvent)c.attachEvent(Xn(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function yn(){function c(E){return p.call(c.src,c.listener,E)}const p=Mn;return c}function wr(c,p,E,w,L){if(Array.isArray(p))for(var H=0;H<p.length;H++)wr(c,p[H],E,w,L);else w=g(w)?!!w.capture:!!w,E=ma(E),c&&c[Et]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],E=Ne(p,E,w,L),E>-1&&(Ee(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=Zi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ne(p,E,w,L)),(E=c>-1?p[c]:null)&&xr(E))}function xr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Et])Se(p.i,c);else{var E=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(E,w,c.capture):p.detachEvent?p.detachEvent(Xn(E),w):p.addListener&&p.removeListener&&p.removeListener(w),(E=Zi(p))?(Se(E,c),E.h==0&&(E.src=null,p[Ge]=null)):Ee(c)}}}function Xn(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Mn(c,p){if(c.da)c=!0;else{p=new He(p,this);const E=c.listener,w=c.ha||c.src;c.fa&&xr(c),c=E.call(w,p)}return c}function Zi(c){return c=c[Ge],c instanceof me?c:null}var Rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ma(c){return typeof c=="function"?c:(c[Rr]||(c[Rr]=function(p){return c.handleEvent(p)}),c[Rr])}function Ot(){P.call(this),this.i=new me(this),this.M=this,this.G=null}R(Ot,P),Ot.prototype[Et]=!0,Ot.prototype.removeEventListener=function(c,p,E,w){wr(this,c,p,E,w)};function jt(c,p){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new M(p,c);else if(p instanceof M)p.target=p.target||c;else{var L=p;p=new M(w,c),le(p,L)}L=!0;let H,oe;if(E)for(oe=E.length-1;oe>=0;oe--)H=p.g=E[oe],L=pi(H,w,!0,p)&&L;if(H=p.g=c,L=pi(H,w,!0,p)&&L,L=pi(H,w,!1,p)&&L,E)for(oe=0;oe<E.length;oe++)H=p.g=E[oe],L=pi(H,w,!1,p)&&L}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const E=c.g[p];for(let w=0;w<E.length;w++)Ee(E[w]);delete c.g[p],c.h--}}this.G=null},Ot.prototype.J=function(c,p,E,w){return this.i.add(String(c),p,!1,E,w)},Ot.prototype.K=function(c,p,E,w){return this.i.add(String(c),p,!0,E,w)};function pi(c,p,E,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let H=0;H<p.length;++H){const oe=p[H];if(oe&&!oe.da&&oe.capture==E){const ke=oe.listener,Gt=oe.ha||oe.src;oe.fa&&Se(c.i,oe),L=ke.call(Gt,w)!==!1&&L}}return L&&!w.defaultPrevented}function ys(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(c,p||0)}function gi(c){c.g=ys(()=>{c.g=null,c.i&&(c.i=!1,gi(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class sn extends P{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(c){P.call(this),this.h=c,this.g={}}R(Wi,P);var ki=[];function pa(c){Fe(c.g,function(p,E){this.g.hasOwnProperty(E)&&xr(p)},c),c.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),pa(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=d.JSON.stringify,yl=d.JSON.parse,Pi=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ga(){}function Cr(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){M.call(this,"d")}R(Ye,M);function Cn(){M.call(this,"c")}R(Cn,M);var bt={},lo=null;function va(){return lo=lo||new Ot}bt.Ia="serverreachability";function Nr(c){M.call(this,bt.Ia,c)}R(Nr,M);function Nn(c){const p=va();jt(p,new Nr(p))}bt.STAT_EVENT="statevent";function Vn(c,p){M.call(this,bt.STAT_EVENT,c),this.stat=p}R(Vn,M);function Mt(c){const p=va();jt(p,new Vn(p,c))}bt.Ja="timingevent";function xe(c,p){M.call(this,bt.Ja,c),this.size=p}R(xe,M);function Jn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},p)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function tr(c,p,E,w,L,H){c.info(function(){if(c.g)if(H){var oe="",ke=H.split("&");for(let lt=0;lt<ke.length;lt++){var Gt=ke[lt].split("=");if(Gt.length>1){const Ct=Gt[0];Gt=Gt[1];const wi=Ct.split("_");oe=wi.length>=2&&wi[1]=="type"?oe+(Ct+"="+Gt+"&"):oe+(Ct+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+p+`
`+E+`
`+oe})}function _s(c,p,E,w,L,H,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+p+`
`+E+`
`+H+" "+oe})}function In(c,p,E,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+uo(c,E)+(w?" "+w:"")})}function vi(c,p){c.info(function(){return"TIMEOUT: "+p})}kn.prototype.info=function(){};function uo(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var E=H[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return er(H)}catch{return p}}var Zn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ir={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yi;function Ui(){}R(Ui,ga),Ui.prototype.g=function(){return new XMLHttpRequest},yi=new Ui;function qt(c){return encodeURIComponent(String(c))}function Es(c){var p=1;c=c.split(":");const E=[];for(;p>0&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function Pn(c,p,E,w){this.j=c,this.i=p,this.l=E,this.S=w||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var Me={},vt={};function Wn(c,p,E){c.M=1,c.A=jr(Pt(p)),c.u=E,c.R=!0,Ie(c,null)}function Ie(c,p){c.F=Date.now(),_i(c),c.B=Pt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),ba(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Un,c.g=Yu(c.j,E?p:null,!c.u),c.P>0&&(c.O=new sn(_(c.Y,c,c.g),c.P)),p=c.V,E=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(ki[0]=L.toString()),L=ki);for(let H=0;H<L.length;H++){const oe=gt(E,L[H],w||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Nn(),tr(c.i,c.v,c.B,c.l,c.S,c.u)}Pn.prototype.ba=function(c){c=c.target;const p=this.O;p&&zn(c)==3?p.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const ke=zn(this.g),Gt=this.g.ya(),lt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||ke!=4||Gt==7||(Gt==8||lt<=0?Nn(3):Nn(2)),Ei(this);var p=this.g.ca();this.X=p;var E=bs(this);if(this.o=p==200,_s(this.i,this.v,this.B,this.l,this.S,ke,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var H=w;break t}}H=null}if(c=H)In(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,c);else{this.o=!1,this.m=3,Mt(12),_n(this),on(this);break e}}if(this.R){c=!0;let Ct;for(;!this.K&&this.C<E.length;)if(Ct=Ss(this,E),Ct==vt){ke==4&&(this.m=4,Mt(14),c=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Me){this.m=4,Mt(15),In(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else In(this.i,this.l,Ct,null),ei(this,Ct);if(Ts(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,Mt(16),c=!1),this.o=this.o&&c,!c)In(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),on(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),_l(oe),oe.P=!0,Mt(11))}}else In(this.i,this.l,E,null),ei(this,E);ke==4&&_n(this),this.o&&!this.K&&(ke==4?Fu(this.j,this):(this.o=!1,_i(this)))}else x(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),_n(this),on(this)}}}catch{}finally{}};function bs(c){if(!Ts(c))return c.g.la();const p=$t(c.g);if(p==="")return"";let E="";const w=p.length,L=zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),on(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<w;H++)c.h.h=!0,E+=c.h.i.decode(p[H],{stream:!(L&&H==w-1)});return p.length=0,c.h.g+=E,c.C=0,c.h.g}function Ts(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ss(c,p){var E=c.C,w=p.indexOf(`
`,E);return w==-1?vt:(E=Number(p.substring(E,w)),isNaN(E)?Me:(w+=1,w+E>p.length?vt:(p=p.slice(w,w+E),c.C=w+E,p)))}Pn.prototype.cancel=function(){this.K=!0,_n(this)};function _i(c){c.T=Date.now()+c.H,Dr(c,c.H)}function Dr(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Jn(_(c.aa,c),p)}function Ei(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Pn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(vi(this.i,this.B),this.M!=2&&(Nn(),Mt(17)),_n(this),this.m=2,on(this)):Dr(this,this.T-c)};function on(c){c.j.I==0||c.K||Fu(c.j,c)}function _n(c){Ei(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,pa(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ei(c,p){try{var E=c.j;if(E.I!=0&&(E.g==c||ii(E.h,c))){if(!c.L&&ii(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)mo(E),we(E);else break e;Os(E),Mt(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Jn(_(E.Va,E),6e3));ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else lr(E,11)}else if((c.L||E.g==c)&&mo(E),!N(p))for(L=E.Ba.g.parse(p),p=0;p<L.length;p++){let lt=L[p];const Ct=lt[0];if(!(Ct<=E.K))if(E.K=Ct,lt=lt[1],E.I==2)if(lt[0]=="c"){E.M=lt[1],E.ba=lt[2];const wi=lt[3];wi!=null&&(E.ka=wi,E.j.info("VER="+E.ka));const ur=lt[4];ur!=null&&(E.za=ur,E.j.info("SVER="+E.za));const Bi=lt[5];Bi!=null&&typeof Bi=="number"&&Bi>0&&(w=1.5*Bi,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const qi=c.g;if(qi){const js=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var H=w.h;H.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(_a(H,H.h),H.h=null))}if(w.G){const po=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(w.wa=po,rt(w.J,w.G,po))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var oe=c;if(w.na=Ku(w,w.L?w.ba:null,w.W),oe.L){As(w.h,oe);var ke=oe,Gt=w.O;Gt&&(ke.H=Gt),ke.D&&(Ei(ke),_i(ke)),w.g=oe}else qu(w);E.i.length>0&&et(E)}else lt[0]!="stop"&&lt[0]!="close"||lr(E,7);else E.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?lr(E,7):se(E):lt[0]!="noop"&&E.l&&E.l.qa(lt),E.A=0)}}Nn(4)}catch{}}var Tt=class{constructor(c,p){this.g=c,this.map=p}};function ti(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ni(c){return c.h?1:c.g?c.g.size:0}function ii(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function _a(c,p){c.g?c.g.add(p):c.h=p}function As(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ti.prototype.cancel=function(){if(this.i=ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ws(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.G);return p}return G(c.i)}var Or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function de(c,p){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let L,H=null;w>=0?(L=c[E].substring(0,w),H=c[E].substring(w+1)):L=c[E],p(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ae(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof ae?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,nr(this,c.u),this.h=c.h,xs(this,fo(c.i)),this.m=c.m):c&&(p=String(c).match(Or))?(this.l=!1,Ht(this,p[1]||"",!0),this.o=bi(p[2]||""),this.g=bi(p[3]||"",!0),nr(this,p[4]),this.h=bi(p[5]||"",!0),xs(this,p[6]||"",!0),this.m=bi(p[7]||"")):(this.l=!1,this.i=new ir(null,this.l))}ae.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Mr(p,Ea,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Mr(p,Ea,!0),"@"),c.push(qt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Mr(E,E.charAt(0)=="/"?Vr:Rs,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Mr(E,co)),c.join("")},ae.prototype.resolve=function(c){const p=Pt(this);let E=!!c.j;E?Ht(p,c.j):E=!!c.o,E?p.o=c.o:E=!!c.g,E?p.g=c.g:E=c.u!=null;var w=c.h;if(E)nr(p,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=p.h.lastIndexOf("/");L!=-1&&(w=p.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let oe=0;oe<L.length;){const ke=L[oe++];ke=="."?w&&oe==L.length&&H.push(""):ke==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&oe==L.length&&H.push("")):(H.push(ke),w=!0)}w=H.join("/")}else w=L}return E?p.h=w:E=c.i.toString()!=="",E?xs(p,fo(c.i)):E=!!c.m,E&&(p.m=c.m),p};function Pt(c){return new ae(c)}function Ht(c,p,E){c.j=E?bi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function nr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function xs(c,p,E){p instanceof ir?(c.i=p,Ta(c.i,c.l)):(E||(p=Mr(p,Li)),c.i=new ir(p,c.l))}function rt(c,p,E){c.i.set(p,E)}function jr(c){return rt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mr(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,En),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function En(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Rs=/[#\?:]/g,Vr=/[#\?]/g,Li=/[#\?@]/g,co=/#/g;function ir(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&de(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}r=ir.prototype,r.add=function(c,p){bn(this),this.i=null,c=rr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function ho(c,p){bn(c),p=rr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Cs(c,p){return bn(c),p=rr(c,p),c.g.has(p)}r.forEach=function(c,p){bn(this),this.g.forEach(function(E,w){E.forEach(function(L){c.call(p,L,w,this)},this)},this)};function kr(c,p){bn(c);let E=[];if(typeof p=="string")Cs(c,p)&&(E=E.concat(c.g.get(rr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)E=E.concat(c[p]);return E}r.set=function(c,p){return bn(this),this.i=null,c=rr(this,c),Cs(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=kr(this,c),c.length>0?String(c[0]):p):p};function ba(c,p,E){ho(c,p),E.length>0&&(c.i=null,c.g.set(rr(c,p),G(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var E=p[w];const L=qt(E);E=kr(this,E);for(let H=0;H<E.length;H++){let oe=L;E[H]!==""&&(oe+="="+qt(E[H])),c.push(oe)}}return this.i=c.join("&")};function fo(c){const p=new ir;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function rr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ta(c,p){p&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(E,w){const L=w.toLowerCase();w!=L&&(ho(this,w),ba(this,L,E))},c)),c.j=p}function ri(c,p){const E=new kn;if(d.Image){const w=new Image;w.onload=T(Ln,E,"TestLoadImage: loaded",!0,p,w),w.onerror=T(Ln,E,"TestLoadImage: error",!1,p,w),w.onabort=T(Ln,E,"TestLoadImage: abort",!1,p,w),w.ontimeout=T(Ln,E,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function Ns(c,p){const E=new kn,w=new AbortController,L=setTimeout(()=>{w.abort(),Ln(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(H=>{clearTimeout(L),H.ok?Ln(E,"TestPingServer: ok",!0,p):Ln(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Ln(E,"TestPingServer: error",!1,p)})}function Ln(c,p,E,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(E)}catch{}}function ar(){this.g=new Pi}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}R(Ti,ga),Ti.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(c,p){Ot.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Pr,Ot),r=Pr.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,ai(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?sr(this):ai(this),this.readyState==3&&Sa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,sr(this))},r.Na=function(c){this.g&&(this.response=c,sr(this))},r.ga=function(){this.g&&sr(this)};function sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ai(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let p="";return Fe(c,function(E,w){p+=w,p+=":",p+=E,p+=`\r
`}),p}function Ur(c,p,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Dn(E),typeof c=="string"?E!=null&&qt(E):rt(c,p,E))}function ot(c){Ot.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(ot,Ot);var Si=/^https?$/i,Is=["POST","PUT"];r=ot.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yi.g(),this.g.onreadystatechange=j(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){Lr(this,H);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)E.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())E.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Is,p,void 0)>=0)||w||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of E)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Lr(this,H)}};function Lr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ds(c),zi(c)}function Ds(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,jt(this,"complete"),jt(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},r.Xa=function(){zr(this)};function zr(c){if(c.h&&typeof u<"u"){if(c.v&&zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(jt(c,"readystatechange"),zn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var w;if(w=H===0){let oe=String(c.D).match(Or)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),w=!Si.test(oe?oe.toLowerCase():"")}E=w}if(E)jt(c,"complete"),jt(c,"success");else{c.o=6;try{var L=zn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Ds(c)}}finally{zi(c)}}}}function zi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,p||jt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),yl(p)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function x(c){const p={};c=(c.g&&zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(N(c[w]))continue;var E=Es(c[w]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=p[L]||[];p[L]=H,H.push(E)}it(p,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function A(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function Q(c){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=A("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=A("baseRetryDelayMs",5e3,c),this.Za=A("retryDelaySeedMs",1e4,c),this.Ta=A("forwardChannelMaxRetries",2,c),this.va=A("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ti(c&&c.concurrentRequestLimit),this.Ba=new ar,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Q.prototype,r.ka=8,r.I=1,r.connect=function(c,p,E,w){Mt(0),this.W=c,this.H=p||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Ku(this,null,this.W),et(this)};function se(c){if(Ve(c),c.I==3){var p=c.V++,E=Pt(c.J);if(rt(E,"SID",c.M),rt(E,"RID",p),rt(E,"TYPE","terminate"),or(c,E),p=new Pn(c,c.j,p),p.M=2,p.A=jr(Pt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=p.A,E=!0),E||(p.g=Yu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),_i(p)}Qu(c)}function we(c){c.g&&(_l(c),c.g.cancel(),c.g=null)}function Ve(c){we(c),c.v&&(d.clearTimeout(c.v),c.v=null),mo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function et(c){if(!ya(c.h)&&!c.m){c.m=!0;var p=c.Ea;_e||C(),Le||(_e(),Le=!0),I.add(p,c),c.D=0}}function Ft(c,p){return ni(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Jn(_(c.Ea,c,p),Gu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Pn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=k(H),le(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Ai(this,L,p),E=Pt(this.J),rt(E,"RID",c),rt(E,"CVER",22),this.G&&rt(E,"X-HTTP-Session-Id",this.G),or(this,E),H&&(this.R?p="headers="+qt(Dn(H))+"&"+p:this.u&&Ur(E,this.u,H)),_a(this.h,L),this.Ra&&rt(E,"TYPE","init"),this.S?(rt(E,"$req",p),rt(E,"SID","null"),L.U=!0,Wn(L,E,null)):Wn(L,E,p),this.I=2}}else this.I==3&&(c?Rt(this,c):this.i.length==0||ya(this.h)||Rt(this))};function Rt(c,p){var E;p?E=p.l:E=c.V++;const w=Pt(c.J);rt(w,"SID",c.M),rt(w,"RID",E),rt(w,"AID",c.K),or(c,w),c.u&&c.o&&Ur(w,c.u,c.o),E=new Pn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Ai(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),_a(c.h,E),Wn(E,w,p)}function or(c,p){c.H&&Fe(c.H,function(E,w){rt(p,w,E)}),c.l&&Fe({},function(E,w){rt(p,w,E)})}function Ai(c,p,E){E=Math.min(c.i.length,E);const w=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let ke=-1;for(;;){const Gt=["count="+E];ke==-1?E>0?(ke=L[0].g,Gt.push("ofs="+ke)):ke=0:Gt.push("ofs="+ke);let lt=!0;for(let Ct=0;Ct<E;Ct++){var H=L[Ct].g;const wi=L[Ct].map;if(H-=ke,H<0)ke=Math.max(0,L[Ct].g-100),lt=!1;else try{H="req"+H+"_"||"";try{var oe=wi instanceof Map?wi:Object.entries(wi);for(const[ur,Bi]of oe){let qi=Bi;g(Bi)&&(qi=er(Bi)),Gt.push(H+ur+"="+encodeURIComponent(qi))}}catch(ur){throw Gt.push(H+"type="+encodeURIComponent("_badmap")),ur}}catch{w&&w(wi)}}if(lt){oe=Gt.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),p.G=c,oe}function qu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;_e||C(),Le||(_e(),Le=!0),I.add(p,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Jn(_(c.Da,c),Gu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Jn(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),we(this),Hu(this))};function _l(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Pt(c.na);rt(p,"RID","rpc"),rt(p,"SID",c.M),rt(p,"AID",c.K),rt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&rt(p,"TO",c.ia),rt(p,"TYPE","xmlhttp"),or(c,p),c.u&&c.o&&Ur(p,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=jr(Pt(p)),E.u=null,E.R=!0,Ie(E,c)}r.Va=function(){this.C!=null&&(this.C=null,we(this),Os(this),Mt(19))};function mo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Fu(c,p){var E=null;if(c.g==p){mo(c),_l(c),c.g=null;var w=2}else if(ii(c.h,p))E=p.G,As(c.h,p),w=1;else return;if(c.I!=0){if(p.o)if(w==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;w=va(),jt(w,new xe(w,E)),et(c)}else qu(c);else if(L=p.m,L==3||L==0&&p.X>0||!(w==1&&Ft(c,p)||w==2&&Os(c)))switch(E&&E.length>0&&(p=c.h,p.i=p.i.concat(E)),L){case 1:lr(c,5);break;case 4:lr(c,10);break;case 3:lr(c,6);break;default:lr(c,2)}}}function Gu(c,p){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*p}function lr(c,p){if(c.j.info("Error code "+p),p==2){var E=_(c.bb,c),w=c.Ua;const L=!w;w=new ae(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(w,"https"),jr(w),L?ri(w.toString(),E):Ns(w.toString(),E)}else Mt(2);c.I=0,c.l&&c.l.pa(p),Qu(c),Ve(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Qu(c){if(c.I=0,c.ja=[],c.l){const p=ws(c.h);(p.length!=0||c.i.length!=0)&&(ee(c.ja,p),ee(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function Ku(c,p,E){var w=E instanceof ae?Pt(E):new ae(E);if(w.g!="")p&&(w.g=p+"."+w.g),nr(w,w.u);else{var L=d.location;w=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const H=new ae(null);w&&Ht(H,w),p&&(H.g=p),L&&nr(H,L),E&&(H.h=E),w=H}return E=c.G,p=c.wa,E&&p&&rt(w,E,p),rt(w,"VER",c.ka),or(c,w),w}function Yu(c,p,E){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new ot(new Ti({ab:E})):new ot(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}r=$u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Aa(){}Aa.prototype.g=function(c,p){return new On(c,p)};function On(c,p){Ot.call(this),this.g=new Q(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!N(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Br(this)}R(On,Ot),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){se(this.g)},On.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=er(c),c=E);p.i.push(new Tt(p.Ya++,c)),p.I==3&&et(p)},On.prototype.N=function(){this.g.l=null,delete this.j,se(this.g),delete this.g,On.Z.N.call(this)};function Xu(c){Ye.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const E in p){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}R(Xu,Ye);function Ju(){Cn.call(this),this.status=1}R(Ju,Cn);function Br(c){this.g=c}R(Br,$u),Br.prototype.ra=function(){jt(this.g,"a")},Br.prototype.qa=function(c){jt(this.g,new Xu(c))},Br.prototype.pa=function(c){jt(this.g,new Ju)},Br.prototype.oa=function(){jt(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,w1=function(){return new Aa},A1=function(){return va()},S1=bt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,gh=Zn,Ir.COMPLETE="complete",T1=Ir,Cr.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,lu=Cr,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,b1=ot}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const f_="@firebase/firestore",m_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new op("@firebase/firestore");function Go(){return io.logLevel}function ge(r,...e){if(io.logLevel<=Je.DEBUG){const n=e.map(yp);io.debug(`Firestore (${fl}): ${r}`,...n)}}function ua(r,...e){if(io.logLevel<=Je.ERROR){const n=e.map(yp);io.error(`Firestore (${fl}): ${r}`,...n)}}function al(r,...e){if(io.logLevel<=Je.WARN){const n=e.map(yp);io.warn(`Firestore (${fl}): ${r}`,...n)}}function yp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,x1(r,a,n)}function x1(r,e,n){let a=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ua(a),new Error(a)}function ct(r,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||x1(e,l,a)}function je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends da{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class Jx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Zx{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,n(v)):Promise.resolve();let u=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ss,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ss)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ct(typeof a.accessToken=="string",31837,{l:a}),new R1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class Wx{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new Wx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const a=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new p_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=nR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=e.charAt(l[u]%62))}return a}}function Ze(r,e){return r<e?-1:r>e?1:0}function zm(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const l=r.charAt(a),u=e.charAt(a);if(l!==u)return Em(l)===Em(u)?Ze(l,u):Em(l)?1:-1}return Ze(r.length,e.length)}const iR=55296,rR=57343;function Em(r){const e=r.charCodeAt(0);return e>=iR&&e<=rR}function sl(r,e,n){return r.length===e.length&&r.every(((a,l)=>n(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="__name__";class pr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ce(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const u=pr.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ze(e.length,n.length)}static compareSegments(e,n){const a=pr.isNumericId(e),l=pr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?pr.extractNumericId(e).compare(pr.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class _t extends pr{construct(e,n,a){return new _t(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const aR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends pr{construct(e,n,a){return new gn(e,n,a)}static isValidIdentifier(e){return aR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g_}static keyField(){return new gn([g_])}static fromServerFormat(e){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(_t.fromString(e))}static fromName(e){return new Te(_t.fromString(e).popFirst(5))}static empty(){return new Te(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(r,e,n){if(!n)throw new pe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sR(r,e,n,a){if(e===!0&&a===!0)throw new pe(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function v_(r){if(!Te.isDocumentKey(r))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function y_(r){if(Te.isDocumentKey(r))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function N1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function Ki(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Vu(r,e){if(!N1(r))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new pe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=-62135596800,E_=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*E_);return new xt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<__)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E_}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-__;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:nn("string",xt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new xt(0,0))}static max(){return new De(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function oR(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=De.fromTimestamp(a===1e9?new xt(n+1,0):new xt(n,a));return new us(l,Te.empty(),e)}function lR(r){return new us(r.readTime,r.key,Tu)}class us{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new us(De.min(),Te.empty(),Tu)}static max(){return new us(De.max(),Te.empty(),Tu)}}function uR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(r.documentKey,e.documentKey),n!==0?n:Ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==cR)throw r;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,a)=>{n(e)}))}static reject(e){return new W(((n,a)=>{a(e)}))}static waitFor(e){return new W(((n,a)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(v=>a(v)))})),d=!0,u===l&&n()}))}static or(e){let n=W.resolve(!1);for(const a of e)n=n.next((l=>l?W.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(e,n){return new W(((a,l)=>{const u=e.length,d=new Array(u);let g=0;for(let v=0;v<u;v++){const _=v;n(e[_]).next((T=>{d[_]=T,++g,g===u&&a(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new W(((a,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):a()};u()}))}}function dR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function $h(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function fR(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="";function mR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=b_(e)),e=pR(r.get(n),e);return b_(e)}function pR(r,e){let n=e;const a=r.length;for(let l=0;l<a;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case I1:n+="";break;default:n+=u}}return n}function b_(r){return r+I1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function D1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,a,l,u){this.key=e,this.value=n,this.color=a??pn.RED,this.left=l??pn.EMPTY,this.right=u??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,u){return new pn(e??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return pn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,a,l,u){return this}insert(e,n,a){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new mi([])}unionWith(e){let n=new an(gn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new O1("Invalid base64 string: "+u):u}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(ct(!!r,39018),typeof r=="string"){let e=0;const n=gR.exec(r);if(ct(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Yt(r.seconds),nanos:Yt(r.nanos)}}function Yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?vn.fromBase64String(r):vn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="server_timestamp",M1="__type__",V1="__previous_value__",k1="__local_write_time__";function bp(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[M1])==null?void 0:a.stringValue)===j1}function Xh(r){const e=r.mapValue.fields[V1];return bp(e)?Xh(e):e}function Su(r){const e=cs(r.mapValue.fields[k1].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,a,l,u,d,g,v,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=T}}const Oh="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="__type__",yR="__max__",rh={mapValue:{}},U1="__vector__",jh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bp(r)?4:ER(r)?9007199254740991:_R(r)?10:11:Ce(28295,{value:r})}function Sr(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Su(r).isEqual(Su(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=cs(l.timestampValue),g=cs(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return hs(l.bytesValue).isEqual(hs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return Yt(l.geoPointValue.latitude)===Yt(u.geoPointValue.latitude)&&Yt(l.geoPointValue.longitude)===Yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Yt(l.integerValue)===Yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Yt(l.doubleValue),g=Yt(u.doubleValue);return d===g?Dh(d)===Dh(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return sl(r.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(T_(d)!==T_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Sr(d[v],g[v])))return!1;return!0})(r,e);default:return Ce(52216,{left:r})}}function wu(r,e){return(r.values||[]).find((n=>Sr(n,e)))!==void 0}function ol(r,e){if(r===e)return 0;const n=ds(r),a=ds(e);if(n!==a)return Ze(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Yt(u.integerValue||u.doubleValue),v=Yt(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,e);case 3:return A_(r.timestampValue,e.timestampValue);case 4:return A_(Su(r),Su(e));case 5:return zm(r.stringValue,e.stringValue);case 6:return(function(u,d){const g=hs(u),v=hs(d);return g.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const T=Ze(g[_],v[_]);if(T!==0)return T}return Ze(g.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Ze(Yt(u.latitude),Yt(d.latitude));return g!==0?g:Ze(Yt(u.longitude),Yt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return w_(r.arrayValue,e.arrayValue);case 10:return(function(u,d){var j,G,ee,ne;const g=u.fields||{},v=d.fields||{},_=(j=g[jh])==null?void 0:j.arrayValue,T=(G=v[jh])==null?void 0:G.arrayValue,R=Ze(((ee=_==null?void 0:_.values)==null?void 0:ee.length)||0,((ne=T==null?void 0:T.values)==null?void 0:ne.length)||0);return R!==0?R:w_(_,T)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===rh.mapValue&&d===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(d===rh.mapValue)return-1;const g=u.fields||{},v=Object.keys(g),_=d.fields||{},T=Object.keys(_);v.sort(),T.sort();for(let R=0;R<v.length&&R<T.length;++R){const j=zm(v[R],T[R]);if(j!==0)return j;const G=ol(g[v[R]],_[T[R]]);if(G!==0)return G}return Ze(v.length,T.length)})(r.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function A_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ze(r,e);const n=cs(r),a=cs(e),l=Ze(n.seconds,a.seconds);return l!==0?l:Ze(n.nanos,a.nanos)}function w_(r,e){const n=r.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=ol(n[l],a[l]);if(u)return u}return Ze(n.length,a.length)}function ll(r){return Bm(r)}function Bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=cs(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Te.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=Bm(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${Bm(n.fields[d])}`;return l+"}"})(r.mapValue):Ce(61005,{value:r})}function vh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(r);return e?16+vh(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+vh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return gs(a.fields,((u,d)=>{l+=u.length+vh(d)})),l})(r.mapValue);default:throw Ce(13486,{value:r})}}function x_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qm(r){return!!r&&"integerValue"in r}function Tp(r){return!!r&&"arrayValue"in r}function R_(r){return!!r&&"nullValue"in r}function C_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yh(r){return!!r&&"mapValue"in r}function _R(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[P1])==null?void 0:a.stringValue)===U1}function gu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=gu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(r.arrayValue.values[n]);return e}return{...r}}function ER(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=gn.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const v=this.getFieldsMap(n);this.applyChanges(v,a,l),a={},l=[],n=g.popLast()}d?a[g.lastSegment()]=gu(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];yh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){gs(n,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new $n(gu(this.value))}}function L1(r){const e=[];return gs(r.fields,((n,a)=>{const l=new gn([n]);if(yh(a)){const u=L1(a.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,a,l,u,d,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new wn(e,0,De.min(),De.min(),De.min(),$n.empty(),0)}static newFoundDocument(e,n,a,l){return new wn(e,1,n,De.min(),a,l,0)}static newNoDocument(e,n){return new wn(e,2,n,De.min(),De.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,De.min(),De.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function N_(r,e,n){let a=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),n.key):a=ol(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function I_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Sr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function bR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{}class tn extends z1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new SR(e,n,a):n==="array-contains"?new xR(e,a):n==="in"?new RR(e,a):n==="not-in"?new CR(e,a):n==="array-contains-any"?new NR(e,a):new tn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new AR(e,a):new wR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ol(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends z1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xi(e,n)}matches(e){return B1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B1(r){return r.op==="and"}function q1(r){return TR(r)&&B1(r)}function TR(r){for(const e of r.filters)if(e instanceof Xi)return!1;return!0}function Hm(r){if(r instanceof tn)return r.field.canonicalString()+r.op.toString()+ll(r.value);if(q1(r))return r.filters.map((e=>Hm(e))).join(",");{const e=r.filters.map((n=>Hm(n))).join(",");return`${r.op}(${e})`}}function H1(r,e){return r instanceof tn?(function(a,l){return l instanceof tn&&a.op===l.op&&a.field.isEqual(l.field)&&Sr(a.value,l.value)})(r,e):r instanceof Xi?(function(a,l){return l instanceof Xi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&H1(d,l.filters[g])),!0):!1})(r,e):void Ce(19439)}function F1(r){return r instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ll(n.value)}`})(r):r instanceof Xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(F1).join(" ,")+"}"})(r):"Filter"}class SR extends tn{constructor(e,n,a){super(e,n,a),this.key=Te.fromName(a.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class AR extends tn{constructor(e,n){super(e,"in",n),this.keys=G1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wR extends tn{constructor(e,n){super(e,"not-in",n),this.keys=G1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G1(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>Te.fromName(a.referenceValue)))}class xR extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&wu(n.arrayValue,this.value)}}class RR extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class CR extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class NR extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>wu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n=null,a=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function D_(r,e=null,n=[],a=[],l=null,u=null,d=null){return new IR(r,e,n,a,l,u,d)}function Sp(r){const e=je(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Hm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>ll(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>ll(a))).join(",")),e.Te=n}return e.Te}function Ap(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!bR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!H1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!I_(r.startAt,e.startAt)&&I_(r.endAt,e.endAt)}function Fm(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,a=[],l=[],u=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DR(r,e,n,a,l,u,d,g){return new ku(r,e,n,a,l,u,d,g)}function Jh(r){return new ku(r)}function O_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Q1(r){return r.collectionGroup!==null}function vu(r){const e=je(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new an(gn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Vh(u,a))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new Vh(gn.keyField(),a))}return e.Ie}function _r(r){const e=je(r);return e.Ee||(e.Ee=OR(e,vu(r))),e.Ee}function OR(r,e){if(r.limitType==="F")return D_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Vh(l.field,u)}));const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return D_(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Gm(r,e){const n=r.filters.concat([e]);return new ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qm(r,e,n){return new ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Zh(r,e){return Ap(_r(r),_r(e))&&r.limitType===e.limitType}function K1(r){return`${Sp(_r(r))}|lt:${r.limitType}`}function Qo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>F1(l))).join(", ")}]`),$h(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>ll(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>ll(l))).join(",")),`Target(${a})`})(_r(r))}; limitType=${r.limitType})`}function Wh(r,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Te.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,l){for(const u of vu(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const _=N_(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,vu(a),l)||a.endAt&&!(function(d,g,v){const _=N_(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,vu(a),l))})(r,e)}function jR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Y1(r){return(e,n)=>{let a=!1;for(const l of vu(r)){const u=MR(l,e,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function MR(r,e,n){const a=r.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,d,g){const v=d.data.field(u),_=g.data.field(u);return v!==null&&_!==null?ol(v,_):Ce(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return D1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new kt(Te.comparator);function ca(){return VR}const $1=new kt(Te.comparator);function uu(...r){let e=$1;for(const n of r)e=e.insert(n.key,n);return e}function X1(r){let e=$1;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Js(){return yu()}function J1(){return yu()}function yu(){return new so((r=>r.toString()),((r,e)=>r.isEqual(e)))}const kR=new kt(Te.comparator),PR=new an(Te.comparator);function We(...r){let e=PR;for(const n of r)e=e.add(n);return e}const UR=new an(Ze);function LR(){return UR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function Z1(r){return{integerValue:""+r}}function W1(r,e){return fR(e)?Z1(e):wp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this._=void 0}}function zR(r,e,n){return r instanceof kh?(function(l,u){const d={fields:{[M1]:{stringValue:j1},[k1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&bp(u)&&(u=Xh(u)),u&&(d.fields[V1]=u),{mapValue:d}})(n,e):r instanceof xu?tE(r,e):r instanceof Ru?nE(r,e):(function(l,u){const d=eE(l,u),g=j_(d)+j_(l.Ae);return qm(d)&&qm(l.Ae)?Z1(g):wp(l.serializer,g)})(r,e)}function BR(r,e,n){return r instanceof xu?tE(r,e):r instanceof Ru?nE(r,e):n}function eE(r,e){return r instanceof Cu?(function(a){return qm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class kh extends ed{}class xu extends ed{constructor(e){super(),this.elements=e}}function tE(r,e){const n=iE(e);for(const a of r.elements)n.some((l=>Sr(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Ru extends ed{constructor(e){super(),this.elements=e}}function nE(r,e){let n=iE(e);for(const a of r.elements)n=n.filter((l=>!Sr(l,a)));return{arrayValue:{values:n}}}class Cu extends ed{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function j_(r){return Yt(r.integerValue||r.doubleValue)}function iE(r){return Tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.field=e,this.transform=n}}function HR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof xu&&l instanceof xu||a instanceof Ru&&l instanceof Ru?sl(a.elements,l.elements,Sr):a instanceof Cu&&l instanceof Cu?Sr(a.Ae,l.Ae):a instanceof kh&&l instanceof kh})(r.transform,e.transform)}class FR{constructor(e,n){this.version=e,this.transformResults=n}}class Yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class td{}function rE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xp(r.key,Yi.none()):new Pu(r.key,r.data,Yi.none());{const n=r.data,a=$n.empty();let l=new an(gn.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new vs(r.key,a,new mi(l.toArray()),Yi.none())}}function GR(r,e,n){r instanceof Pu?(function(l,u,d){const g=l.value.clone(),v=V_(l.fieldTransforms,u,d.transformResults);g.setAll(v),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):r instanceof vs?(function(l,u,d){if(!_h(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=V_(l.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(aE(l)),v.setAll(g),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function _u(r,e,n,a){return r instanceof Pu?(function(u,d,g,v){if(!_h(u.precondition,d))return g;const _=u.value.clone(),T=k_(u.fieldTransforms,v,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,n,a):r instanceof vs?(function(u,d,g,v){if(!_h(u.precondition,d))return g;const _=k_(u.fieldTransforms,v,d),T=d.data;return T.setAll(aE(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(r,e,n,a):(function(u,d,g){return _h(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,n)}function QR(r,e){let n=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),u=eE(a.transform,l||null);u!=null&&(n===null&&(n=$n.empty()),n.set(a.field,u))}return n||null}function M_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&sl(a,l,((u,d)=>HR(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pu extends td{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vs extends td{constructor(e,n,a,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function aE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function V_(r,e,n){const a=new Map;ct(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=e.data.field(u.field);a.set(u.field,BR(d,g,n[l]))}return a}function k_(r,e,n){const a=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);a.set(l.field,zR(u,d,e))}return a}class xp extends td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KR extends td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&GR(u,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=_u(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=_u(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=J1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const v=rE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(De.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((n,a)=>M_(n,a)))&&sl(this.baseMutations,e.baseMutations,((n,a)=>M_(n,a)))}}class Rp{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){ct(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return kR})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Rp(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,nt;function JR(r){switch(r){case Z.OK:return Ce(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function sE(r){if(r===void 0)return ua("GRPC error has no .code"),Z.UNKNOWN;switch(r){case en.OK:return Z.OK;case en.CANCELLED:return Z.CANCELLED;case en.UNKNOWN:return Z.UNKNOWN;case en.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case en.INTERNAL:return Z.INTERNAL;case en.UNAVAILABLE:return Z.UNAVAILABLE;case en.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case en.NOT_FOUND:return Z.NOT_FOUND;case en.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case en.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case en.ABORTED:return Z.ABORTED;case en.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case en.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case en.DATA_LOSS:return Z.DATA_LOSS;default:return Ce(39323,{code:r})}}(nt=en||(en={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new as([4294967295,4294967295],0);function P_(r){const e=ZR().encode(r),n=new E1;return n.update(e),new Uint8Array(n.digest())}function U_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,a],0),new as([l,u],0)]}class Cp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(a<0)throw new cu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=as.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(as.fromNumber(a)));return l.compare(WR)===1&&(l=new as([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=P_(e),[a,l]=U_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Cp(u,l,n);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=P_(e),[a,l]=U_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,a,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new nd(De.min(),l,new kt(Ze),ca(),We())}}class Uu{constructor(e,n,a,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Uu(a,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class oE{constructor(e,n){this.targetId=e,this.Ce=n}}class lE{constructor(e,n,a=vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class L_{constructor(){this.ve=0,this.Fe=z_(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),a=We();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Ce(38017,{changeType:u})}})),new Uu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=z_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ca(),this.Je=ah(),this.He=ah(),this.Ye=new kt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Fm(u))if(a===0){const d=new Te(u.path);this.et(n,d,wn.newNoDocument(d,De.min()))}else ct(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(n);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=hs(a).toUint8Array()}catch(v){if(v instanceof O1)return al("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Cp(d,l,u)}catch(v){return al(v instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Fm(g.target)){const v=new Te(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,wn.newNoDocument(v,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let a=We();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new nd(e,n,this.Ye,this.je,a);return this.je=ca(),this.Je=ah(),this.He=ah(),this.Ye=new kt(Ze),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new an(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new an(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ah(){return new kt(Te.comparator)}function z_(){return new kt(Te.comparator)}const tC={asc:"ASCENDING",desc:"DESCENDING"},nC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iC={and:"AND",or:"OR"};class rC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(r,e){return r.useProto3Json||$h(e)?e:{value:e}}function Ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aC(r,e){return Ph(r,e.toTimestamp())}function Er(r){return ct(!!r,49232),De.fromTimestamp((function(n){const a=cs(n);return new xt(a.seconds,a.nanos)})(r))}function Np(r,e){return Ym(r,e).canonicalString()}function Ym(r,e){const n=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function cE(r){const e=_t.fromString(r);return ct(pE(e),10190,{key:e.toString()}),e}function $m(r,e){return Np(r.databaseId,e.path)}function bm(r,e){const n=cE(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Te(dE(n))}function hE(r,e){return Np(r.databaseId,e)}function sC(r){const e=cE(r);return e.length===4?_t.emptyPath():dE(e)}function Xm(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dE(r){return ct(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function B_(r,e,n){return{name:$m(r,e),fields:n.value.mapValue.fields}}function oC(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ce(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(ct(T===void 0||typeof T=="string",58123),vn.fromBase64String(T||"")):(ct(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),vn.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?Z.UNKNOWN:sE(_.code);return new pe(T,_.message||"")})(d);n=new lE(a,l,u,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=bm(r,a.document.name),u=Er(a.document.updateTime),d=a.document.createTime?Er(a.document.createTime):De.min(),g=new $n({mapValue:{fields:a.document.fields}}),v=wn.newFoundDocument(l,u,d,g),_=a.targetIds||[],T=a.removedTargetIds||[];n=new Eh(_,T,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=bm(r,a.document),u=a.readTime?Er(a.readTime):De.min(),d=wn.newNoDocument(l,u),g=a.removedTargetIds||[];n=new Eh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=bm(r,a.document),u=a.removedTargetIds||[];n=new Eh([],u,l,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new XR(l,u),g=a.targetId;n=new oE(g,d)}}return n}function lC(r,e){let n;if(e instanceof Pu)n={update:B_(r,e.key,e.value)};else if(e instanceof xp)n={delete:$m(r,e.key)};else if(e instanceof vs)n={update:B_(r,e.key,e.data),updateMask:vC(e.fieldMask)};else{if(!(e instanceof KR))return Ce(16599,{Vt:e.type});n={verify:$m(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof kh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof xu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Cu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ce(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:aC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)})(r,e.precondition)),n}function uC(r,e){return r&&r.length>0?(ct(e!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?Er(l.updateTime):Er(u);return d.isEqual(De.min())&&(d=Er(u)),new FR(d,l.transformResults||[])})(n,e)))):[]}function cC(r,e){return{documents:[hE(r,e.path)]}}function hC(r,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=hE(r,l);const u=(function(_){if(_.length!==0)return mE(Xi.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(j){return{field:Ko(j.field),direction:mC(j.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Km(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:l}}function dC(r){let e=sC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){ct(a===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(R){const j=fE(R);return j instanceof Xi&&q1(j)?j.getFilters():[j]})(n.where));let d=[];n.orderBy&&(d=(function(R){return R.map((j=>(function(ee){return new Vh(Yo(ee.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(j)))})(n.orderBy));let g=null;n.limit&&(g=(function(R){let j;return j=typeof R=="object"?R.value:R,$h(j)?null:j})(n.limit));let v=null;n.startAt&&(v=(function(R){const j=!!R.before,G=R.values||[];return new Mh(G,j)})(n.startAt));let _=null;return n.endAt&&(_=(function(R){const j=!R.before,G=R.values||[];return new Mh(G,j)})(n.endAt)),DR(e,l,d,u,g,"F",v,_)}function fC(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Yo(n.unaryFilter.field);return tn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Yo(n.unaryFilter.field);return tn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Yo(n.unaryFilter.field);return tn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Yo(n.unaryFilter.field);return tn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(r):r.fieldFilter!==void 0?(function(n){return tn.create(Yo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Xi.create(n.compositeFilter.filters.map((a=>fE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(r):Ce(30097,{filter:r})}function mC(r){return tC[r]}function pC(r){return nC[r]}function gC(r){return iC[r]}function Ko(r){return{fieldPath:r.canonicalString()}}function Yo(r){return gn.fromServerFormat(r.fieldPath)}function mE(r){return r instanceof tn?(function(n){if(n.op==="=="){if(C_(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C_(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:pC(n.op),value:n.value}}})(r):r instanceof Xi?(function(n){const a=n.getFilters().map((l=>mE(l)));return a.length===1?a[0]:{compositeFilter:{op:gC(n.op),filters:a}}})(r):Ce(54877,{filter:r})}function vC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,a,l,u=De.min(),d=De.min(),g=vn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.yt=e}}function _C(r){const e=dC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.Cn=new bC}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(us.min())}updateCollectionGroup(e,n,a){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class bC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new an(_t.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new an(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(gE,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",TC=1048576;function F_([r,e],[n,a]){const l=Ze(r,n);return l===0?Ze(e,a):l}class SC{constructor(e){this.Ir=e,this.buffer=new an(F_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();F_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AC{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(H_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?ge(H_,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)}))}}class wC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Yh.ce);const a=new SC(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(q_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,u,d,g,v,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(e,l)))).next((R=>(a=R,g=Date.now(),this.removeTargets(e,a,n)))).next((R=>(u=R,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((R=>(_=Date.now(),Go()<=Je.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(v-g)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:R}))))}}function xC(r,e){return new wC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.changes=new so((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?W.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&_u(a.mutation,l,mi.empty(),xt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,We()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=We()){const l=Js();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((u=>{let d=uu();return u.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=Js();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,We())))}populateOverlays(e,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,a,l){let u=ca();const d=yu(),g=(function(){return yu()})();return n.forEach(((v,_)=>{const T=a.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof vs)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),_u(T.mutation,_,T.mutation.getFieldMask(),xt.now())):d.set(_.key,mi.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((_,T)=>d.set(_,T))),n.forEach(((_,T)=>g.set(_,new CC(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,n){const a=yu();let l=new kt(((d,g)=>d-g)),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=n.get(v);if(_===null)return;let T=a.get(v)||mi.empty();T=g.applyToLocalView(_,T),a.set(v,T);const R=(l.get(g.batchId)||We()).add(v);l=l.insert(g.batchId,R)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,T=v.value,R=J1();T.forEach((j=>{if(!u.has(j)){const G=rE(n.get(j),a.get(j));G!==null&&R.set(j,G),u=u.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-u.size):W.resolve(Js());let g=Tu,v=u;return d.next((_=>W.forEach(_,((T,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((j=>{v=v.insert(T,j)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,v,_,We()))).next((T=>({batchId:g,changes:X1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((a=>{let l=uu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const u=n.collectionGroup;let d=uu();return this.indexManager.getCollectionParents(e,u).next((g=>W.forEach(g,(v=>{const _=(function(R,j){return new ku(j,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((T=>{T.forEach(((R,j)=>{d=d.insert(R,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,l)))).next((d=>{u.forEach(((v,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,wn.newInvalidDocument(T)))}));let g=uu();return d.forEach(((v,_)=>{const T=u.get(v);T!==void 0&&_u(T.mutation,_,mi.empty(),xt.now()),Wh(n,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Er(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:_C(l.bundledQuery),readTime:Er(l.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.overlays=new kt(Te.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Js();return W.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,u)=>{this.St(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(e,n,a){const l=Js(),u=n.length+1,d=new Te(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&v.largestBatchId>a&&l.set(v.getKey(),v)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let u=new kt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let T=u.get(_.largestBatchId);T===null&&(T=Js(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Js(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return W.resolve(g)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new $R(n,a));let u=this.qr.get(n);u===void 0&&(u=We(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.Qr=new an(un.$r),this.Ur=new an(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new un(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Te(new _t([])),a=new un(n,e),l=new un(n,e+1),u=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new _t([])),a=new un(n,e),l=new un(n,e+1);let u=We();return this.Ur.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new un(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new an(un.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YR(u,n,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new un(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Ep:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new un(n,0),l=new un(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new an(Ze);return n.forEach((l=>{const u=new un(l,0),d=new un(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{a=a.add(g.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let u=a;Te.isDocumentKey(u)||(u=u.child(""));const d=new un(new Te(u),0);let g=new an(Ze);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(v.Yr)),!0)}),d),W.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(n.mutations,(l=>{const u=new un(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new un(n,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.ri=e,this.docs=(function(){return new kt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return W.resolve(a?a.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let a=ca();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():wn.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let u=ca();const d=n.path,g=new Te(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:T}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||uR(lR(T),a)<=0||(l.has(T.key)||Wh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,a,l){Ce(9500)}ii(e,n){return W.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new VC(this)}getSize(e){return W.resolve(this.size)}}class VC extends RC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.persistence=e,this.si=new so((n=>Sp(n)),Ap),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Ip,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ul(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,a){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return W.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),W.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return W.resolve(a)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new OC,this.referenceDelegate=e(this),this.Pi=new kC(this),this.indexManager=new EC,this.remoteDocumentCache=(function(l){return new MC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new yC(n),this.Ii=new IC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new jC(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ge("MemoryPersistence","Starting transaction:",e);const l=new PC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class PC extends hR{constructor(e){super(),this.currentSequenceNumber=e}}class Dp{constructor(e){this.persistence=e,this.Ri=new Ip,this.Vi=null}static mi(e){return new Dp(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),W.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=Te.fromPath(a);return this.gi(e,l).next((u=>{u||n.removeEntry(l,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.pi=new so((a=>mR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=xC(this,n)}static mi(e,n){return new Uh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((a,l)=>this.br(e,a,l).next((u=>u?W.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((g=>{g||(a++,u.removeEntry(d,De.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,a){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=We(),l=We();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Op(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gS()?8:dR(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new UC;return this.Ss(e,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>u.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(Go()<=Je.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Go()<=Je.DEBUG&&ge("QueryEngine","Query:",Qo(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Go()<=Je.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):W.resolve())}ys(e,n){if(O_(n))return W.resolve(null);let a=_r(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Qm(n,null,"F"),a=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=We(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(n,g);return this.Cs(n,_,d,v.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,_,n,v)}))))})))))}ws(e,n,a,l){return O_(n)||l.isEqual(De.min())?W.resolve(null):this.ps.getDocuments(e,a).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,a,l)?W.resolve(null):(Go()<=Je.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qo(n)),this.vs(e,d,n,oR(l,Tu)).next((g=>g)))}))}Ds(e,n){let a=new an(Y1(e));return n.forEach(((l,u)=>{Wh(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,a){return Go()<=Je.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.ps.getDocumentsMatchingQuery(e,n,us.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",zC=3e8;class BC{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new kt(Ze),this.xs=new so((u=>Sp(u)),Ap),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qC(r,e,n,a){return new BC(r,e,n,a)}async function yE(r,e){const n=je(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let v=We();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)v=v.add(T.key)}for(const _ of u){g.push(_.batchId);for(const T of _.mutations)v=v.add(T.key)}return n.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function HC(r,e){const n=je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,T){const R=_.batch,j=R.keys();let G=W.resolve();return j.forEach((ee=>{G=G.next((()=>T.getEntry(v,ee))).next((ne=>{const te=_.docVersions.get(ee);ct(te!==null,48541),ne.version.compareTo(te)<0&&(R.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),T.addEntry(ne)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(v,R)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=We();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function _E(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FC(r,e){const n=je(r),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((T,R)=>{const j=l.get(R);if(!j)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,R).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,R))));let G=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?G=G.withResumeToken(vn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,a)),l=l.insert(R,G),(function(ne,te,ie){return ne.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=zC?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(j,G,T)&&g.push(n.Pi.updateTargetData(u,G))}));let v=ca(),_=We();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(GC(u,d,e.documentUpdates).next((T=>{v=T.ks,_=T.qs}))),!a.isEqual(De.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((R=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(T)}return W.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,v,_))).next((()=>v))})).then((u=>(n.Ms=l,u)))}function GC(r,e,n){let a=We(),l=We();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let d=ca();return n.forEach(((g,v)=>{const _=u.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(De.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):ge(jp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function QC(r,e){const n=je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function KC(r,e){const n=je(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((u=>u?(l=u,W.resolve(l)):n.Pi.allocateTargetId(a).next((d=>(l=new ts(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Jm(r,e,n){const a=je(r),l=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!pl(d))throw d;ge(jp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function G_(r,e,n){const a=je(r);let l=De.min(),u=We();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,T){const R=je(v),j=R.xs.get(T);return j!==void 0?W.resolve(R.Ms.get(j)):R.Pi.getTargetData(_,T)})(a,d,_r(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{u=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,n?l:De.min(),n?u:We()))).next((g=>(YC(a,jR(e),g),{documents:g,Qs:u})))))}function YC(r,e,n){let a=r.Os.get(e)||De.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class Q_{constructor(){this.activeTargetIds=LR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $C{constructor(){this.Mo=new Q_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class Y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(K_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function Zm(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",JC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Oh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,u){const d=Zm(),g=this.zo(e,n.toUriEncodedString());ge(Tm,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,u);const{host:_}=new URL(g),T=hl(_);return this.Jo(e,g,v,a,T).then((R=>(ge(Tm,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw al(Tm,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",a),R}))}Ho(e,n,a,l,u,d){return this.Go(e,n,a,l,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const a=JC[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class eN extends ZC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,u){const d=Zm();return new Promise(((g,v)=>{const _=new b1;_.setWithCredentials(!0),_.listenOnce(T1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case gh.NO_ERROR:const R=_.getResponseJson();ge(Sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case gh.TIMEOUT:ge(Sn,`RPC '${e}' ${d} timed out`),v(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const j=_.getStatus();if(ge(Sn,`RPC '${e}' ${d} failed with status:`,j,"response text:",_.getResponseText()),j>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const ee=G==null?void 0:G.error;if(ee&&ee.status&&ee.message){const ne=(function(ie){const ce=ie.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ce)>=0?ce:Z.UNKNOWN})(ee.status);v(new pe(ne,ee.message))}else v(new pe(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ge(Sn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);ge(Sn,`RPC '${e}' ${d} sending request:`,l),_.send(n,"POST",T,a,15)}))}T_(e,n,a){const l=Zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=w1(),g=A1(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,n,a),v.encodeInitMessageHeaders=!0;const T=u.join("");ge(Sn,`Creating RPC '${e}' stream ${l}: ${T}`,v);const R=d.createWebChannel(T,v);this.I_(R);let j=!1,G=!1;const ee=new WC({Yo:te=>{G?ge(Sn,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(j||(ge(Sn,`Opening RPC '${e}' stream ${l} transport.`),R.open(),j=!0),ge(Sn,`RPC '${e}' stream ${l} sending:`,te),R.send(te))},Zo:()=>R.close()}),ne=(te,ie,ce)=>{te.listen(ie,(he=>{try{ce(he)}catch(Be){setTimeout((()=>{throw Be}),0)}}))};return ne(R,lu.EventType.OPEN,(()=>{G||(ge(Sn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),ne(R,lu.EventType.CLOSE,(()=>{G||(G=!0,ge(Sn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(R))})),ne(R,lu.EventType.ERROR,(te=>{G||(G=!0,al(Sn,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),ee.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))})),ne(R,lu.EventType.MESSAGE,(te=>{var ie;if(!G){const ce=te.data[0];ct(!!ce,16349);const he=ce,Be=(he==null?void 0:he.error)||((ie=he[0])==null?void 0:ie.error);if(Be){ge(Sn,`RPC '${e}' stream ${l} received error:`,Be);const _e=Be.status;let Le=(function(D){const P=en[D];if(P!==void 0)return sE(P)})(_e),I=Be.message;Le===void 0&&(Le=Z.INTERNAL,I="Unknown error status: "+_e+" with message "+Be.message),G=!0,ee.a_(new pe(Le,I)),R.close()}else ge(Sn,`RPC '${e}' stream ${l} received:`,ce),ee.u_(ce)}})),ne(g,S1.STAT_EVENT,(te=>{te.stat===Lm.PROXY?ge(Sn,`RPC '${e}' stream ${l} detected buffering proxy`):te.stat===Lm.NOPROXY&&ge(Sn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(r){return new rC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,a=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="PersistentStream";class bE{constructor(e,n,a,l,u,d,g,v){this.Mi=e,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ua(n.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new pe(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge($_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge($_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tN extends bE{constructor(e,n,a,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oC(this.serializer,e),a=(function(u){if(!("targetChange"in u))return De.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?De.min():d.readTime?Er(d.readTime):De.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Xm(this.serializer),n.addTarget=(function(u,d){let g;const v=d.target;if(g=Fm(v)?{documents:cC(u,v)}:{query:hC(u,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=uE(u,d.resumeToken);const _=Km(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(De.min())>0){g.readTime=Ph(u,d.snapshotVersion.toTimestamp());const _=Km(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=fC(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.q_(n)}}class nN extends bE{constructor(e,n,a,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uC(e.writeResults,e.commitTime),a=Er(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>lC(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{}class rN extends iN{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Ym(n,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(Z.UNKNOWN,u.toString())}))}Ho(e,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Ym(n,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ua(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class sN{constructor(e,n,a,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{oo(this)&&(ge(ro,"Restarting streams for network reachability change."),await(async function(v){const _=je(v);_.Ea.add(4),await Lu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await rd(_)})(this))}))})),this.Ra=new aN(a,l)}}async function rd(r){if(oo(r))for(const e of r.da)await e(!0)}async function Lu(r){for(const e of r.da)await e(!1)}function TE(r,e){const n=je(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pp(n)?kp(n):gl(n).O_()&&Vp(n,e))}function Mp(r,e){const n=je(r),a=gl(n);n.Ia.delete(e),a.O_()&&SE(n,e),n.Ia.size===0&&(a.O_()?a.L_():oo(n)&&n.Ra.set("Unknown"))}function Vp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(r).Y_(e)}function SE(r,e){r.Va.Ue(e),gl(r).Z_(e)}function kp(r){r.Va=new eC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),gl(r).start(),r.Ra.ua()}function Pp(r){return oo(r)&&!gl(r).x_()&&r.Ia.size>0}function oo(r){return je(r).Ea.size===0}function AE(r){r.Va=void 0}async function oN(r){r.Ra.set("Online")}async function lN(r){r.Ia.forEach(((e,n)=>{Vp(r,e)}))}async function uN(r,e){AE(r),Pp(r)?(r.Ra.ha(e),kp(r)):r.Ra.set("Unknown")}async function cN(r,e,n){if(r.Ra.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(a){ge(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Lh(r,a)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof oE?r.Va.st(e):r.Va.tt(e),!n.isEqual(De.min()))try{const a=await _E(r.localStore);n.compareTo(a)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const T=u.Ia.get(v);if(!T)return;u.Ia.set(v,T.withResumeToken(vn.EMPTY_BYTE_STRING,T.snapshotVersion)),SE(u,v);const R=new ts(T.target,v,_,T.sequenceNumber);Vp(u,R)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(a){ge(ro,"Failed to raise snapshot:",a),await Lh(r,a)}}async function Lh(r,e,n){if(!pl(e))throw e;r.Ea.add(1),await Lu(r),r.Ra.set("Offline"),n||(n=()=>_E(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ge(ro,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await rd(r)}))}function wE(r,e){return e().catch((n=>Lh(r,n,e)))}async function ad(r){const e=je(r),n=fs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ep;for(;hN(e);)try{const l=await QC(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,dN(e,l)}catch(l){await Lh(e,l)}xE(e)&&RE(e)}function hN(r){return oo(r)&&r.Ta.length<10}function dN(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function xE(r){return oo(r)&&!fs(r).x_()&&r.Ta.length>0}function RE(r){fs(r).start()}async function fN(r){fs(r).ra()}async function mN(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function pN(r,e,n){const a=r.Ta.shift(),l=Rp.from(a,e,n);await wE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await ad(r)}async function gN(r,e){e&&fs(r).X_&&await(async function(a,l){if((function(d){return JR(d)&&d!==Z.ABORTED})(l.code)){const u=a.Ta.shift();fs(a).B_(),await wE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await ad(a)}})(r,e),xE(r)&&RE(r)}async function X_(r,e){const n=je(r);n.asyncQueue.verifyOperationInProgress(),ge(ro,"RemoteStore received new credentials");const a=oo(n);n.Ea.add(3),await Lu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rd(n)}async function vN(r,e){const n=je(r);e?(n.Ea.delete(2),await rd(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function gl(r){return r.ma||(r.ma=(function(n,a,l){const u=je(n);return u.sa(),new tN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:oN.bind(null,r),t_:lN.bind(null,r),r_:uN.bind(null,r),H_:cN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Pp(r)?kp(r):r.Ra.set("Unknown")):(await r.ma.stop(),AE(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,a,l){const u=je(n);return u.sa(),new nN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:fN.bind(null,r),r_:gN.bind(null,r),ta:mN.bind(null,r),na:pN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ad(r)):(await r.fa.stop(),r.Ta.length>0&&(ge(ro,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,a,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,u){const d=Date.now()+a,g=new Up(e,n,d,l,u);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(r,e){if(ua("AsyncQueue",`${e}: ${r}`),pl(r))return new pe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Te.comparator(n.key,a.key):(n,a)=>Te.comparator(n.key,a.key),this.keyedMap=uu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new tl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.ga=new kt(Te.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class cl{constructor(e,n,a,l,u,d,g,v,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new cl(e,n,tl.emptySet(n),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _N{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=je(n),u=l.queries;l.queries=Z_(),u.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function Z_(){return new so((r=>K1(r)),Zh)}async function CE(r,e){const n=je(r);let a=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(a=2):(u=new yN,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Lp(d,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&zp(n)}async function NE(r,e){const n=je(r),a=e.query;let l=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function EN(r,e){const n=je(r);let a=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&zp(n)}function bN(r,e,n){const a=je(r),l=a.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);a.queries.delete(e)}function zp(r){r.Ca.forEach((e=>{e.next()}))}var Wm,W_;(W_=Wm||(Wm={})).Ma="default",W_.Cache="cache";class IE{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new cl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.key=e}}class OE{constructor(e){this.key=e}}class TN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=Y1(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new J_,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,R)=>{const j=l.get(T),G=Wh(this.query,R)?R:null,ee=!!j&&this.mutatedKeys.has(j.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let te=!1;j&&G?j.data.isEqual(G.data)?ee!==ne&&(a.track({type:3,doc:G}),te=!0):this.su(j,G)||(a.track({type:2,doc:G}),te=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(g=!0)):!j&&G?(a.track({type:0,doc:G}),te=!0):j&&!G&&(a.track({type:1,doc:j}),te=!0,(v||_)&&(g=!0)),te&&(G?(d=d.add(G),u=ne?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,R)=>(function(G,ee){const ne=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:te})}};return ne(G)-ne(ee)})(T.type,R.type)||this.eu(T.doc,R.doc))),this.ou(a),l=l??!1;const g=n&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new cl(this.query,e.tu,u,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new OE(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new DE(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bp="SyncEngine";class SN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class AN{constructor(e){this.key=e,this.hu=!1}}class wN{constructor(e,n,a,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new so((g=>K1(g)),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Te.comparator),this.Au=new Map,this.Ru=new Ip,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xN(r,e,n=!0){const a=UE(r);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await jE(a,e,n,!0),l}async function RN(r,e){const n=UE(r);await jE(n,e,!0,!1)}async function jE(r,e,n,a){const l=await KC(r.localStore,_r(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return a&&(g=await CN(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&TE(r.remoteStore,l),g}async function CN(r,e,n,a,l){r.pu=(R,j,G)=>(async function(ne,te,ie,ce){let he=te.view.ru(ie);he.Cs&&(he=await G_(ne.localStore,te.query,!1).then((({documents:I})=>te.view.ru(I,he))));const Be=ce&&ce.targetChanges.get(te.targetId),_e=ce&&ce.targetMismatches.get(te.targetId)!=null,Le=te.view.applyChanges(he,ne.isPrimaryClient,Be,_e);return t2(ne,te.targetId,Le.au),Le.snapshot})(r,R,j,G);const u=await G_(r.localStore,e,!0),d=new TN(e,u.Qs),g=d.ru(u.documents),v=Uu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,v);t2(r,n,_.au);const T=new SN(e,n,d);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),_.snapshot}async function NN(r,e,n){const a=je(r),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((d=>!Zh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Mp(a.remoteStore,l.targetId),ep(a,l.targetId)})).catch(ml)):(ep(a,l.targetId),await Jm(a.localStore,l.targetId,!0))}async function IN(r,e){const n=je(r),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Mp(n.remoteStore,a.targetId))}async function DN(r,e,n){const a=UN(r);try{const l=await(function(d,g){const v=je(d),_=xt.now(),T=g.reduce(((G,ee)=>G.add(ee.key)),We());let R,j;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ee=ca(),ne=We();return v.Ns.getEntries(G,T).next((te=>{ee=te,ee.forEach(((ie,ce)=>{ce.isValidDocument()||(ne=ne.add(ie))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,ee))).next((te=>{R=te;const ie=[];for(const ce of g){const he=QR(ce,R.get(ce.key).overlayedDocument);he!=null&&ie.push(new vs(ce.key,he,L1(he.value.mapValue),Yi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,ie,g)})).next((te=>{j=te;const ie=te.applyToLocalDocumentSet(R,ne);return v.documentOverlayCache.saveOverlays(G,te.batchId,ie)}))})).then((()=>({batchId:j.batchId,changes:X1(R)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new kt(Ze)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,n),await zu(a,l.changes),await ad(a.remoteStore)}catch(l){const u=Lp(l,"Failed to persist write");n.reject(u)}}async function ME(r,e){const n=je(r);try{const a=await FC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(ct(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ct(d.hu,14607):l.removedDocuments.size>0&&(ct(d.hu,42227),d.hu=!1))})),await zu(n,a,e)}catch(a){await ml(a)}}function e2(r,e,n){const a=je(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=je(d);v.onlineState=g;let _=!1;v.queries.forEach(((T,R)=>{for(const j of R.Sa)j.va(g)&&(_=!0)})),_&&zp(v)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ON(r,e,n){const a=je(r);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),u=l&&l.key;if(u){let d=new kt(Te.comparator);d=d.insert(u,wn.newNoDocument(u,De.min()));const g=We().add(u),v=new nd(De.min(),new Map,new kt(Ze),d,g);await ME(a,v),a.du=a.du.remove(u),a.Au.delete(e),qp(a)}else await Jm(a.localStore,e,!1).then((()=>ep(a,e,n))).catch(ml)}async function jN(r,e){const n=je(r),a=e.batch.batchId;try{const l=await HC(n.localStore,e);kE(n,a,null),VE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await zu(n,l)}catch(l){await ml(l)}}async function MN(r,e,n){const a=je(r);try{const l=await(function(d,g){const v=je(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return v.mutationQueue.lookupMutationBatch(_,g).next((R=>(ct(R!==null,37113),T=R.keys(),v.mutationQueue.removeMutationBatch(_,R)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>v.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);kE(a,e,n),VE(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await zu(a,l)}catch(l){await ml(l)}}function VE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function kE(r,e,n){const a=je(r);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function ep(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||PE(r,a)}))}function PE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Mp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),qp(r))}function t2(r,e,n){for(const a of n)a instanceof DE?(r.Ru.addReference(a.key,e),VN(r,a)):a instanceof OE?(ge(Bp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||PE(r,a.key)):Ce(19791,{wu:a})}function VN(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ge(Bp,"New document in limbo: "+n),r.Eu.add(a),qp(r))}function qp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Te(_t.fromString(e)),a=r.fu.next();r.Au.set(a,new AN(n)),r.du=r.du.insert(n,a),TE(r.remoteStore,new ts(_r(Jh(n.path)),a,"TargetPurposeLimboResolution",Yh.ce))}}async function zu(r,e,n){const a=je(r),l=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,n).then((_=>{var T;if((_||n)&&a.isPrimaryClient){const R=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(v.targetId))==null?void 0:T.current;a.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(_){l.push(_);const R=Op.As(v.targetId,_);u.push(R)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,_){const T=je(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>W.forEach(_,(j=>W.forEach(j.Es,(G=>T.persistence.referenceDelegate.addReference(R,j.targetId,G))).next((()=>W.forEach(j.ds,(G=>T.persistence.referenceDelegate.removeReference(R,j.targetId,G)))))))))}catch(R){if(!pl(R))throw R;ge(jp,"Failed to update sequence numbers: "+R)}for(const R of _){const j=R.targetId;if(!R.fromCache){const G=T.Ms.get(j),ee=G.snapshotVersion,ne=G.withLastLimboFreeSnapshotVersion(ee);T.Ms=T.Ms.insert(j,ne)}}})(a.localStore,u))}async function kN(r,e){const n=je(r);if(!n.currentUser.isEqual(e)){ge(Bp,"User change. New user:",e.toKey());const a=await yE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((v=>{v.reject(new pe(Z.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await zu(n,a.Ls)}}function PN(r,e){const n=je(r),a=n.Au.get(e);if(a&&a.hu)return We().add(a.key);{let l=We();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function UE(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ON.bind(null,e),e.Pu.H_=EN.bind(null,e.eventManager),e.Pu.yu=bN.bind(null,e.eventManager),e}function UN(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MN.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qC(this.persistence,new LC,e.initialUser,this.serializer)}Cu(e){return new vE(Dp.mi,this.serializer)}Du(e){return new $C}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class LN extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new AC(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new vE((a=>Uh.mi(a,n)),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>e2(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=kN.bind(null,this.syncEngine),await vN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _N})()}createDatastore(e){const n=id(e.databaseInfo.databaseId),a=(function(u){return new eN(u)})(e.databaseInfo);return(function(u,d,g,v){return new rN(u,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,u,d,g){return new sN(a,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>e2(this.syncEngine,n,0)),(function(){return Y_.v()?new Y_:new XC})())}createSyncEngine(e,n){return(function(l,u,d,g,v,_,T){const R=new wN(l,u,d,g,v,_);return T&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=je(l);ge(ro,"RemoteStore shutting down."),u.Ea.add(5),await Lu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}tp.provider={build:()=>new tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class zN{constructor(e,n,a,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=An.UNAUTHENTICATED,this.clientId=_p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{ge(ms,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ge(ms,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Lp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Am(r,e){r.asyncQueue.verifyOperationInProgress(),ge(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await yE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function n2(r,e){r.asyncQueue.verifyOperationInProgress();const n=await BN(r);ge(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>X_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>X_(e.remoteStore,l))),r._onlineComponents=e}async function BN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(ms,"Using user provided OfflineComponentProvider");try{await Am(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),await Am(r,new zh)}}else ge(ms,"Using default OfflineComponentProvider"),await Am(r,new LN(void 0));return r._offlineComponents}async function zE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(ms,"Using user provided OnlineComponentProvider"),await n2(r,r._uninitializedComponentsProvider._online)):(ge(ms,"Using default OnlineComponentProvider"),await n2(r,new tp))),r._onlineComponents}function qN(r){return zE(r).then((e=>e.syncEngine))}async function np(r){const e=await zE(r),n=e.eventManager;return n.onListen=xN.bind(null,e.syncEngine),n.onUnlisten=NN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IN.bind(null,e.syncEngine),n}function HN(r,e,n={}){const a=new ss;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,v,_){const T=new LE({next:j=>{T.Nu(),d.enqueueAndForget((()=>NE(u,R)));const G=j.docs.has(g);!G&&j.fromCache?_.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&j.fromCache&&v&&v.source==="server"?_.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(j)},error:j=>_.reject(j)}),R=new IE(Jh(g.path),T,{includeMetadataChanges:!0,qa:!0});return CE(u,R)})(await np(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firestore.googleapis.com",r2=!0;class a2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=r2}else this.host=e.host,this.ssl=e.ssl??r2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TC)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Xx;switch(a.type){case"firstParty":return new eR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=i2.get(n);a&&(ge("ComponentProvider","Removing Datastore"),i2.delete(n),a.terminate())})(this),Promise.resolve()}}function FN(r,e,n,a={}){var _;r=Ki(r,sd);const l=hl(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(D2(`https://${g}`),O2("Firestore",!0)),u.host!==qE&&u.host!==g&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:g,ssl:l,emulatorOptions:a};if(!Ws(v,d)&&(r._setSettings(v),a.mockUserToken)){let T,R;if(typeof a.mockUserToken=="string")T=a.mockUserToken,R=An.MOCK_USER;else{T=oS(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const j=a.mockUserToken.sub||a.mockUserToken.user_id;if(!j)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new An(j)}r._authCredentials=new Jx(new R1(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class Bt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Vu(n,Bt._jsonSchema))return new Bt(e,a||null,new Te(_t.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:nn("string",Bt._jsonSchemaVersion),referencePath:nn("string")};class os extends vl{constructor(e,n,a){super(e,n,Jh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Te(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function s2(r,e,...n){if(r=It(r),C1("collection","path",e),r instanceof sd){const a=_t.fromString(e,...n);return y_(a),new os(r,null,a)}{if(!(r instanceof Bt||r instanceof os))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...n));return y_(a),new os(r.firestore,null,a)}}function mn(r,e,...n){if(r=It(r),arguments.length===1&&(e=_p.newId()),C1("doc","path",e),r instanceof sd){const a=_t.fromString(e,...n);return v_(a),new Bt(r,null,new Te(a))}{if(!(r instanceof Bt||r instanceof os))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...n));return v_(a),new Bt(r.firestore,r instanceof os?r.converter:null,new Te(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="AsyncQueue";class l2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EE(this,"async_queue_retry"),this._c=()=>{const a=Sm();a&&ge(o2,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;ge(o2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ua("INTERNAL UNHANDLED ERROR: ",u2(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Up.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ce(47125,{Pc:u2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function u2(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ao extends sd{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new l2,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l2(e),this._firestoreClient=void 0,await e}}}function GN(r,e){const n=typeof r=="object"?r:k2(),a=typeof r=="string"?r:Oh,l=up(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=aS("firestore");u&&FN(l,...u)}return l}function Hp(r){if(r._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QN(r),r._firestoreClient}function QN(r){var a,l,u;const e=r._freezeSettings(),n=(function(g,v,_,T){return new vR(g,v,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,BE(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new zN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vi(vn.fromBase64String(e))}catch(n){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vi(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Vi._jsonSchema))return Vi.fromBase64String(e.bytes)}}Vi._jsonSchemaVersion="firestore/bytes/1.0",Vi._jsonSchema={type:nn("string",Vi._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:nn("string",br._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Tr(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:nn("string",Tr._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=/^__.*__$/;class YN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class HE{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class Fp{constructor(e,n,a,l,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FE(this.Ac)&&KN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $N{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||id(e)}Cc(e,n,a,l=!1){return new Fp({Ac:e,methodName:n,Dc:a,path:gn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gp(r){const e=r._freezeSettings(),n=id(r._databaseId);return new $N(r._databaseId,!!e.ignoreUndefinedProperties,n)}function XN(r,e,n,a,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);Kp("Data must be an object, but it was:",d,a);const g=GE(a,d);let v,_;if(u.merge)v=new mi(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const R of u.mergeFields){const j=ip(e,R,n);if(!d.contains(j))throw new pe(Z.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);KE(T,j)||T.push(j)}v=new mi(T),_=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,_=d.fieldTransforms;return new YN(new $n(g),v,_)}class ud extends ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ud}}class Qp extends ld{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Cu(e.serializer,W1(e.serializer,this.Fc));return new qR(e.path,n)}isEqual(e){return e instanceof Qp&&this.Fc===e.Fc}}function JN(r,e,n,a){const l=r.Cc(1,e,n);Kp("Data must be an object, but it was:",l,a);const u=[],d=$n.empty();gs(a,((v,_)=>{const T=Yp(e,v,n);_=It(_);const R=l.yc(T);if(_ instanceof ud)u.push(T);else{const j=Bu(_,R);j!=null&&(u.push(T),d.set(T,j))}}));const g=new mi(u);return new HE(d,g,l.fieldTransforms)}function ZN(r,e,n,a,l,u){const d=r.Cc(1,e,n),g=[ip(e,a,n)],v=[l];if(u.length%2!=0)throw new pe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)g.push(ip(e,u[j])),v.push(u[j+1]);const _=[],T=$n.empty();for(let j=g.length-1;j>=0;--j)if(!KE(_,g[j])){const G=g[j];let ee=v[j];ee=It(ee);const ne=d.yc(G);if(ee instanceof ud)_.push(G);else{const te=Bu(ee,ne);te!=null&&(_.push(G),T.set(G,te))}}const R=new mi(_);return new HE(T,R,d.fieldTransforms)}function WN(r,e,n,a=!1){return Bu(n,r.Cc(a?4:3,e))}function Bu(r,e){if(QE(r=It(r)))return Kp("Unsupported field value:",e,r),GE(r,e);if(r instanceof ld)return(function(a,l){if(!FE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let v=Bu(g,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}})(r,e)}return(function(a,l){if((a=It(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return W1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=xt.fromDate(a);return{timestampValue:Ph(l.serializer,u)}}if(a instanceof xt){const u=new xt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ph(l.serializer,u)}}if(a instanceof br)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vi)return{bytesValue:uE(l.serializer,a._byteString)};if(a instanceof Bt){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Np(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Tr)return(function(d,g){return{mapValue:{fields:{[P1]:{stringValue:U1},[jh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return wp(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Kh(a)}`)})(r,e)}function GE(r,e){const n={};return D1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((a,l)=>{const u=Bu(l,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function QE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xt||r instanceof br||r instanceof Vi||r instanceof Bt||r instanceof ld||r instanceof Tr)}function Kp(r,e,n){if(!QE(n)||!N1(n)){const a=Kh(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function ip(r,e,n){if((e=It(e))instanceof od)return e._internalPath;if(typeof e=="string")return Yp(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const eI=new RegExp("[~\\*/\\[\\]]");function Yp(r,e,n){if(e.search(eI)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new od(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new pe(Z.INVALID_ARGUMENT,g+r+v)}function KE(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,a,l,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tI extends YE{data(){return super.data()}}function $p(r,e){return typeof e=="string"?Yp(r,e):e instanceof od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class iI extends Xp{}function h2(r,e,...n){let a=[];e instanceof Xp&&a.push(e),a=a.concat(n),(function(u){const d=u.filter((v=>v instanceof Jp)).length,g=u.filter((v=>v instanceof cd)).length;if(d>1||d>0&&g>0)throw new pe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class cd extends iI{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new cd(e,n,a)}_apply(e){const n=this._parse(e);return $E(e._query,n),new vl(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=Gp(e.firestore);return(function(u,d,g,v,_,T,R){let j;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){f2(R,T);const ee=[];for(const ne of R)ee.push(d2(v,u,ne));j={arrayValue:{values:ee}}}else j=d2(v,u,R)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||f2(R,T),j=WN(g,d,R,T==="in"||T==="not-in");return tn.create(_,T,j)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rI(r,e,n){const a=e,l=$p("where",r);return cd._create(l,a,n)}class Jp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const v of g)$E(d,v),d=Gm(d,v)})(e._query,n),new vl(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function d2(r,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new pe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q1(e)&&n.indexOf("/")!==-1)throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(_t.fromString(n));if(!Te.isDocumentKey(a))throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return x_(r,new Te(a))}if(n instanceof Bt)return x_(r,n._key);throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function f2(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $E(r,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aI{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return gs(e,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(e){var a,l,u;const n=(u=(l=(a=e.fields)==null?void 0:a[jh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((d=>Yt(d.doubleValue)));return new Tr(n)}convertGeoPoint(e){return new br(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Xh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=cs(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=_t.fromString(e);ct(pE(a),9688,{name:e});const l=new Au(a.get(1),a.get(3)),u=new Te(a.popFirst(5));return l.isEqual(n)||ua(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends YE{constructor(e,n,a,l,u,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field($p("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:nn("string",Zs._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class bh extends Zs{data(e={}){return super.data(e)}}class nl{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new hu(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new bh(this._firestore,this._userDataWriter,a.key,a,new hu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new bh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const v=new bh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:oI(g.type),doc:v,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r){r=Ki(r,Bt);const e=Ki(r.firestore,ao);return HN(Hp(e),r._key).then((n=>JE(e,r,n)))}nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:nn("string",nl._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class XE extends aI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function oh(r,e,n){r=Ki(r,Bt);const a=Ki(r.firestore,ao),l=sI(r.converter,e,n);return Zp(a,[XN(Gp(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Yi.none())])}function Qn(r,e,n,...a){r=Ki(r,Bt);const l=Ki(r.firestore,ao),u=Gp(l);let d;return d=typeof(e=It(e))=="string"||e instanceof od?ZN(u,"updateDoc",r._key,e,n,a):JN(u,"updateDoc",r._key,e),Zp(l,[d.toMutation(r._key,Yi.exists(!0))])}function lI(r){return Zp(Ki(r.firestore,ao),[new xp(r._key,Yi.none())])}function xm(r,...e){var v,_,T;r=It(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||c2(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(c2(e[a])){const R=e[a];e[a]=(v=R.next)==null?void 0:v.bind(R),e[a+1]=(_=R.error)==null?void 0:_.bind(R),e[a+2]=(T=R.complete)==null?void 0:T.bind(R)}let u,d,g;if(r instanceof Bt)d=Ki(r.firestore,ao),g=Jh(r._key.path),u={next:R=>{e[a]&&e[a](JE(d,r,R))},error:e[a+1],complete:e[a+2]};else{const R=Ki(r,vl);d=Ki(R.firestore,ao),g=R._query;const j=new XE(d);u={next:G=>{e[a]&&e[a](new nl(d,j,R,G))},error:e[a+1],complete:e[a+2]},nI(r._query)}return(function(j,G,ee,ne){const te=new LE(ne),ie=new IE(G,te,ee);return j.asyncQueue.enqueueAndForget((async()=>CE(await np(j),ie))),()=>{te.Nu(),j.asyncQueue.enqueueAndForget((async()=>NE(await np(j),ie)))}})(Hp(d),g,l,u)}function Zp(r,e){return(function(a,l){const u=new ss;return a.asyncQueue.enqueueAndForget((async()=>DN(await qN(a),l,u))),u.promise})(Hp(r),e)}function JE(r,e,n){const a=n.docs.get(e._key),l=new XE(r);return new Zs(r,l,e._key,a,new hu(n.hasPendingWrites,n.fromCache),e.converter)}function uI(r){return new Qp("increment",r)}(function(e,n=!0){(function(l){fl=l})(dl),il(new eo("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new ao(new Zx(a.getProvider("auth-internal")),new tR(d,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(_.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),rs(f_,m_,e),rs(f_,m_,"esm2020")})();const cI=["2020-02-24","2020-02-25","2020-04-10","2020-04-21","2020-05-01","2020-06-11","2020-06-12","2020-09-07","2020-09-08","2020-10-12","2020-11-02","2020-11-03","2020-11-15","2020-12-11","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-02-16","2021-04-01","2021-04-02","2021-04-21","2021-05-01","2021-06-03","2021-06-04","2021-09-06","2021-09-07","2021-09-08","2021-10-11","2021-10-12","2021-11-01","2021-11-02","2021-11-15","2021-12-17","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-02-28","2022-03-01","2022-04-14","2022-04-15","2022-04-21","2022-04-22","2022-05-01","2022-06-16","2022-06-17","2022-09-07","2022-09-08","2022-09-09","2022-10-12","2022-10-31","2022-11-01","2022-11-02","2022-11-14","2022-11-15","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-07","2023-01-08","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-14","2023-01-15","2023-01-16","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-02-20","2023-02-21","2023-04-06","2023-04-07","2023-04-21","2023-05-01","2023-06-08","2023-06-09","2023-09-07","2023-09-08","2023-10-12","2023-10-13","2023-10-28","2023-11-02","2023-11-03","2023-11-15","2023-12-08","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-23","2023-12-24","2023-12-25","2023-12-26","2023-12-27","2023-12-28","2023-12-29","2023-12-30","2023-12-31","2024-01-01","2024-01-02","2024-01-03","2024-01-04","2024-01-05","2024-01-06","2024-01-07","2024-01-08","2024-01-09","2024-01-10","2024-01-11","2024-01-12","2024-01-13","2024-01-14","2024-01-15","2024-01-16","2024-01-17","2024-01-18","2024-01-19","2024-01-20","2024-02-12","2024-02-13","2024-03-28","2024-03-29","2024-04-21","2024-05-01","2024-05-30","2024-05-31","2024-09-07","2024-09-08","2024-10-12","2024-10-16","2024-11-02","2024-11-15","2024-11-20","2024-12-08","2024-12-18","2024-12-19","2024-12-20","2024-12-21","2024-12-22","2024-12-23","2024-12-24","2024-12-25","2024-12-26","2024-12-27","2024-12-28","2024-12-29","2024-12-30","2024-12-31","2025-01-01","2025-01-02","2025-01-03","2025-01-04","2025-01-05","2025-01-06","2025-01-07","2025-01-08","2025-01-09","2025-01-10","2025-01-11","2025-01-12","2025-01-13","2025-01-14","2025-01-15","2025-01-16","2025-01-17","2025-01-18","2025-01-19","2025-01-20","2025-03-03","2025-03-04","2025-04-17","2025-04-18","2025-04-21","2025-05-01","2025-06-19","2025-06-20","2025-09-07","2025-09-08","2025-10-12","2025-10-28","2025-11-02","2025-11-15","2025-11-20","2025-12-08","2025-12-19"],hI=["2020-05-11","2020-06-30","2021-08-02","2021-09-13","2022-03-21","2022-03-22","2022-04-01","2022-06-13","2022-06-27","2022-08-08","2022-08-22","2022-08-31","2022-09-14","2022-09-27","2022-11-08","2022-11-24","2022-12-02","2022-12-05","2022-12-09","2022-12-13","2023-07-13","2023-07-31","2023-08-01","2023-08-30","2023-08-31","2023-09-01","2023-09-04","2023-09-05","2024-04-23","2024-06-21","2024-07-24","2024-09-13"],dI=[{start:"2013-02-01",value:131.87},{start:"2014-03-07",value:139.2},{start:"2015-02-06",value:148.12},{start:"2016-02-19",value:163.92},{start:"2017-02-02",value:174.23},{start:"2018-02-02",value:179.37},{start:"2019-02-01",value:186.1},{start:"2020-02-01",value:194.12},{start:"2021-02-01",value:202.89},{start:"2022-02-01",value:223.3},{start:"2023-02-01",value:236.23},{start:"2023-07-04",value:236.23},{start:"2024-02-01",value:247.14},{start:"2025-02-03",value:259.08}],fI=[{start:"2014-01-29",value:153.86},{start:"2014-05-28",value:153.86},{start:"2015-01-19",value:163.8},{start:"2015-06-16",value:163.8},{start:"2016-02-11",value:181.34},{start:"2016-06-13",value:181.34},{start:"2018-01-25",value:198.95},{start:"2018-04-25",value:198.95},{start:"2018-09-20",value:198.95},{start:"2018-12-18",value:198.95},{start:"2019-03-07",value:206.63},{start:"2020-01-20",value:214.71},{start:"2020-02-14",value:214.71},{start:"2021-06-02",value:223.79},{start:"2024-05-15",value:1022}],mI=[{start:"2014-01-01",value:37.33},{start:"2015-01-01",value:39.89},{start:"2016-01-01",value:43.65},{start:"2017-01-01",value:47.34},{start:"2018-01-01",value:48.54},{start:"2019-01-01",value:50.73},{start:"2020-01-01",value:52.17},{start:"2022-01-01",value:59.31},{start:"2024-01-01",value:66.85}],m2=""+new URL("WhatsApp Image 2025-12-16 at 16.54.26-CihH5Q5F.jpeg",import.meta.url).href,Rm="triario_state_v2",pI=3,gI=1e3*60*60*24*30,Kn="users",ru="adminRequests",p2="triario_remember_login",du={apiKey:"AIzaSyCNUcWaY7_LfXKmnQ7O72_x1iCrt-7EJ1w",authDomain:"simba-99aa9.firebaseapp.com",projectId:"simba-99aa9",storageBucket:"simba-99aa9.firebasestorage.app",messagingSenderId:"551435844538",appId:"1:551435844538:web:3664ee17b9a6f1f728fb83"},rp=!!(du.apiKey&&du.authDomain&&du.projectId&&du.appId),qh=rp?V2(du):null,qe=qh?Yx(qh):null,ze=qh?GN(qh):null;qe&&(qe.languageCode="pt-BR");const fi="tjpr.jus.br".trim().toLowerCase(),Xo={tipo:"",acordo:"",valido:"",desist:"",valida:"",sigla:"",interp:"",decrec:"",camara:"",camaraArea:"",camaraNumero:"",emaberto:"",sfh:"no",envio:"",consulta:"no",leitura:"",emdobro:"",eca:"no",multa:"",motivo:"",dispensa:"",gratuidade:"",deferida:"",movdef:"",requerida:"",movped:"",atoincomp:"",comprova:"",apos16:"",grumov:"",grumovComp:"",gruProc:"",valorst:"",guiavinc:"",guia:"",guiorig:"",comp:"",funjusmov:"",funjusProc:"",comptipo:"",codbar:"",valorfj:"",funjusObs:"",parcialTipo:"",parcialOutro:"",usarIntegral:!1,subscritor:"",nomemovi:"",movis:"",cadeia:"",faltante:"",suspefeito:"",autuado:"",exclusivi:"",exclusNome:"",cadastrada:"",regular:"",contrarra:"",contramovis:"",intimado:"",intimovi:"",crraberto:"",decursocrr:"",semadv:"",emepe:"",mani:"",teormani:"",manimovis:"",decursomp:"",remetido:"",anotacoes:""},ZE=r=>new Date(`${r}T00:00:00`),WE=r=>{const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0");return`${r.getFullYear()}-${n}-${e}`},Wp=r=>[...r].sort((e,n)=>new Date(e.start).getTime()-new Date(n.start).getTime()),vI=Wp(dI),yI=Wp(fI),_I=Wp(mI),EI=new Set(cI),bI=new Set(hI),TI=r=>new Date(r.getFullYear(),r.getMonth(),r.getDate()),es=(r,e)=>{const n=new Date(r);return n.setDate(n.getDate()+e),n},SI=r=>EI.has(WE(r)),ap=r=>bI.has(WE(r)),eg=r=>{const e=r.getDay();return e===0||e===6?!1:!SI(r)},AI=r=>eg(r),lh=(r,e={})=>{let n=TI(r);for(;!eg(n)||e.skipProrrogacao&&ap(n);)n=es(n,1);return n},Cm=(r,e)=>{if(!r)return{value:0};let n;for(const a of e)if(r>=ZE(a.start))n=a;else break;return n?{value:n.value,start:n.start}:{value:0}},Xs=r=>{if(!r)return"";const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),a=r.getFullYear();return`${e}.${n}.${a}`},wI=r=>r?r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",g2=r=>r?Xs(ZE(r)):"",xI=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),gr=r=>Number.isFinite(r)?xI.format(r):"R$ 0,00",sa=r=>r?new Date(`${r}T00:00:00`):null,RI=r=>{if(!r)return null;const e=new Date(r);return Number.isNaN(e.getTime())?null:e},CI=r=>r.trim().replace(/[\\/:*?"<>|]/g,"-").replace(/\s+/g,"_"),NI=r=>{try{const e=localStorage.getItem(r);if(!e)return{state:Xo,savedAt:null};const n=JSON.parse(e),a=RI(n.savedAt);if(a&&Date.now()-a.getTime()>gI)return localStorage.removeItem(r),{state:Xo,savedAt:null};const l=n.state||n,u={...Xo,...l};if(!u.parcialTipo&&(l!=null&&l.parcial)){const d=l.parcial;u.parcialTipo=d==="sim"?"COHAB Londrina":d==="no"?"no":""}if(!u.grumov){const d=l==null?void 0:l.guiast,g=l==null?void 0:l.compst;d&&g&&d!==g?u.grumov=`${d}; ${g}`:u.grumov=d||g||""}if(u.grumovComp||(u.grumovComp=u.grumov||""),!u.funjusmov){const d=l==null?void 0:l.guiamov,g=l==null?void 0:l.compmov;d&&g&&d!==g?u.funjusmov=`${d}; ${g}`:u.funjusmov=d||g||""}return u.usarIntegral===void 0&&(u.usarIntegral=!1),u.consulta===""&&(u.consulta="no"),{state:u,savedAt:a}}catch{return{state:Xo,savedAt:null}}},Jo=r=>r.trim().toLowerCase(),uh=r=>r==="dark"||r==="light"||r==="system"?r:"system",II=r=>(r.email?Jo(r.email):"")||r.uid,v2=r=>{const e=Date.parse(r);return Number.isNaN(e)?0:e},DI=(r,e)=>{if(r.role!==e.role)return e.role==="admin"?e:r;if(r.active!==e.active)return e.active?e:r;const n=v2(r.updatedAt),a=v2(e.updatedAt);if(a!==n)return a>n?e:r;const l=r.triageCount||0,u=e.triageCount||0;return u!==l&&u>l?e:r},OI=r=>{const e=new Map;return r.forEach(n=>{const a=II(n),l=e.get(a);if(!l){e.set(a,n);return}e.set(a,DI(l,n))}),Array.from(e.values())},au=r=>Jo(r).endsWith(`@${fi}`),y2=r=>{const e=r.trim().split(/\s+/).filter(Boolean);return e.length===0?"U":e.length===1?e[0].slice(0,2).toUpperCase():`${e[0][0]}${e[e.length-1][0]}`.toUpperCase()},wt=r=>{const e=r;switch(e.code){case"auth/invalid-email":return"E-mail invlido.";case"auth/user-not-found":return"Usurio no encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/invalid-credential":return"Credenciais invlidas.";case"auth/email-already-in-use":return"Este e-mail j est cadastrado.";case"auth/weak-password":return"A senha precisa ter pelo menos 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case"auth/network-request-failed":return"Falha de rede. Verifique sua conexo.";case"permission-denied":return"Permisso negada para esta ao.";default:return e.message||"Falha ao autenticar."}},jI=(r,e)=>{if(e<=1)return r;let n=r,a=1;for(;a<e;)n=es(n,1),AI(n)&&(a+=1);return n},MI=r=>{const e=sa(r.envio),n=sa(r.interp);if(!e||!n)return{status:"pendente",mensagem:"Preencha envio da intimao e interposio."};const a=r.eca==="sim"?10:15,l=r.emdobro==="em dobro"?a*2:a,u=r.eca==="sim"?"corridos":"teis",d=r.consulta==="sim"?sa(r.leitura):null,g=es(e,10),v=d&&d<=g?d:g,_=lh(v);let T=es(_,1);u==="teis"?T=lh(T,{skipProrrogacao:!0}):ap(T)&&(T=lh(es(T,1),{skipProrrogacao:!0}));let R=u==="corridos"?es(T,Math.max(0,l-1)):jI(T,l);return(!eg(R)||ap(R))&&(R=lh(es(R,1),{skipProrrogacao:!0})),{status:n<=R?"tempestivo":"intempestivo",intim:_,comeco:T,venc:R,prazo:l,prazoTipo:u}},mr=r=>{const e=r.trim();return e?e.toLowerCase().startsWith("mov.")?e:`Mov. ${e}`:""},VI=r=>r==="tempestivo"?"Sim":r==="intempestivo"?"No":"",kI=r=>{switch(r){case"mera cincia":return"cincia";case"pela admisso":return"admisso";case"pela inadmisso":return"inadmisso";case"ausncia de interesse":return"sem interesse";default:return""}},PI=r=>{if(!r)return"";const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),a=r.getFullYear();return`${e}/${n}/${a}`},eb=(r,e)=>{var ie;const n=`${((ie=r.sigla)==null?void 0:ie.trim())||""}  ${BI(r)}`,a=sa(r.interp),l=PI(a??void 0),u=r.contrarra?r.contrarra==="apresentadas"||r.contrarra==="ausente alguma"?r.contramovis.trim()?mr(r.contramovis):"Apresentadas":r.contrarra==="ausentes"?r.semadv==="sim"?"Sem advogado":r.intimado==="no"?"No intimado":r.crraberto==="sim"?"Prazo em aberto":"Ausentes":"":"",d=(()=>{if(r.emepe==="no")return"no";if(r.mani==="sim"){const ce=r.manimovis.trim()?mr(r.manimovis):"",he=kI(r.teormani),Be=r.tipo==="Especial"?"Resp":r.tipo==="Extraordinrio"?"Rext":"",_e=Be&&ce?` (${Be})`:"";return ce&&he?`${ce}${_e} (${he})`:ce?`${ce}${_e}`:he||"sim"}return""})(),g=r.dispensa==="sim"?"Dispensado":r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"?"JG presumida":r.gratuidade==="j  ou afirma ser beneficirio"?r.deferida==="sim"?r.movdef.trim()?`JG Ok. Mov: ${r.movdef.trim()}`:"JG Ok.":r.requerida==="sim"&&r.movped.trim()?`JG requerida. Mov: ${r.movped.trim()}`:"JG requerida":r.gratuidade==="requer no recurso em anlise"?"JG requerida no recurso":r.gratuidade===" o prprio objeto do recurso"?"JG  objeto do recurso":"",v=(()=>{if(g)return g;const ce=r.grumov.trim(),he=r.grumovComp.trim();return ce&&he?ce===he?`Guia + Comp : Mov. ${ce}`:`Guia ${mr(ce)}; Comp ${mr(he)}`:ce||he?mr(ce||he):""})(),_=(()=>{if(g)return g;const ce=r.funjusmov.trim();return r.guia==="sim"&&r.comp==="sim"?ce?`Guia + Comp : Mov. ${ce}`:"Guia + Comp":r.guia==="sim"&&r.comp==="no"?ce?`Guia ${mr(ce)}; Comp ausente`:"Guia ok; Comp ausente":r.guia==="no"&&r.comp==="sim"?ce?`Comp ${mr(ce)}; Guia ausente`:"Comp ok; Guia ausente":ce?mr(ce):""})(),T=r.subscritor==="procurador pblico"||r.subscritor==="advogado em causa prpria"?r.subscritor?r.subscritor:"":r.subscritor==="procurador nomeado"?r.nomemovi.trim()?mr(r.nomemovi):"":r.subscritor==="advogado particular"&&r.movis.trim()?mr(r.movis):"",R=r.exclusivi==="no requerida"?"No":r.exclusivi==="requerida"?r.exclusNome.trim()||"Requerida":"",j=r.decrec==="colegiada/acrdo"?"sim":r.decrec==="monocrtica/singular"?"no":"",G=[...e.observacoes];r.funjusObs.trim()&&G.push(`Justificativa Funjus: ${r.funjusObs.trim()}`);const ee=G.length?G.join(" | "):"",ne=ee?`OBS: ${ee}`:"OBS: //",te=[{label:e.tempest.status==="pendente"?"Tempestivo?":"Tempestivo",value:VI(e.tempest.status)},{label:"Contrarrazes",value:u},{label:"Ministrio Pblico?",value:d},{label:"GRU:",value:v},{label:"Funjus:",value:_},{label:"Procurao:",value:T},{label:"Exclusividade na intimao?",value:R},{label:"Deciso colegiada?",value:j},{label:ne,value:ne}];return{headerLeft:n,headerRight:l,rows:te}},UI=(r,e)=>{const{headerLeft:n,headerRight:a,rows:l}=eb(r,e);return[`${n} | ${a}`,...l.map(u=>`${u.label} | ${u.value}`)].join(`
`)},LI=r=>r.dispensa==="sim"?"dispensado (CPC, art. 1.007, 1)":r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp!=="sim"?r.deferida==="sim"?`justia gratuita mov. ${r.movdef||"?"}`:r.requerida==="sim"?`justia gratuita mov. ${r.movped||"?"}`:"justia gratuita requerida no recurso":r.gratuidade==="requer no recurso em anlise"?"justia gratuita requerida no recurso":r.gratuidade===" o prprio objeto do recurso"?"justia gratuita  o prprio objeto":r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"?"justia gratuita presumida (defensor pblico, dativo ou NPJ)":null,zI=r=>{const e=MI(r),n=sa(r.interp),a=r.tipo==="Especial"?"STJ":r.tipo==="Extraordinrio"?"STF":"STJ/STF",l=r.tipo==="Especial"?Cm(n,vI):r.tipo==="Extraordinrio"?Cm(n,yI):{value:0},u=Cm(n,_I),d=l.value,g=u.value,v=LI(r),_=r.contrarra==="apresentadas"?r.contramovis?`mov(s). ${r.contramovis}`:"apresentadas":r.contrarra==="ausente alguma"?r.contramovis?`mov(s). ${r.contramovis}`:"ausente alguma":r.contrarra==="ausentes"?r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="sim"?"no":r.intimado==="no"&&r.semadv==="sim"?"sem adv.":"vide obs.":"vide obs.",T=(()=>{if(r.emepe==="no")return"N/A";if(r.mani==="sim"){const M=r.teormani||"mera cincia";return r.manimovis?`${M}; mov. ${r.manimovis}`:M}return r.remetido==="sim"&&r.decursomp==="sim"?"deixou de se manifestar":"vide obs."})(),R=(()=>{var N,He;if(v)return v;const M=(N=r.grumov)==null?void 0:N.trim(),S=(He=r.grumovComp)==null?void 0:He.trim();return M&&S&&M!==S?`GRU guia mov. ${M}; comprovante mov. ${S}`:M||S?`GRU mov. ${M||S}`:"GRU no localizada"})(),j=(()=>{if(v)return v;const M=r.guia==="sim"?`guia mov. ${r.funjusmov||"?"}`:"guia no localizada",S=r.comp==="sim"?`comprovante mov. ${r.funjusmov||"?"}`:"comprovante no localizado";return`${M}; ${S}`})(),G=!r.parcialTipo||r.parcialTipo==="no"?"No informado":r.parcialTipo==="outros"?r.parcialOutro?`Parcial: ${r.parcialOutro}`:"Parcial: outros (especificar)":`Parcial: ${r.parcialTipo}`,ee=r.subscritor==="procurador pblico"||r.subscritor==="advogado em causa prpria"?r.subscritor||"N/A":r.subscritor==="procurador nomeado"?r.nomemovi?`mov. ${r.nomemovi}`:"nomeao no localizada":r.subscritor==="advogado particular"&&r.movis?`mov(s). ${r.movis}`:r.subscritor==="advogado particular"?"movimentos no informados":"N/A",ne=r.exclusivi==="no requerida"?"no requerida":r.exclusivi==="requerida"&&r.cadastrada==="sim"?"requerida e j cadastrada":r.exclusivi==="requerida"&&r.regular==="sim"?"requerida":r.exclusivi==="requerida"&&r.regular==="no"?"requerida, mas sem poderes":"N/A",te=r.suspefeito?r.suspefeito==="requerido em petio apartada"&&r.autuado==="sim"?"requerido em petio apartada e autuado":r.suspefeito:"N/A",ie=[],ce=!!v,he=r.dispensa==="sim"||r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||r.subscritor==="procurador nomeado"||r.subscritor==="procurador pblico",Be=r.emdobro==="em dobro"&&!he,_e=he&&r.emdobro!=="em dobro",Le=sa(r.envio),I=r.consulta==="sim"?sa(r.leitura):null;if(Le&&I){const M=es(Le,10);I>M&&ie.push("Leitura aps 10 dias: considerar intimao automtica.")}r.decrec==="monocrtica/singular"&&ie.push("Deciso monocrtica: REsp/RExt incabvel (nulidade)."),r.acordo==="sim"&&(r.valido==="sim"?ie.push("Acordo vlido: encerrar o processo sem anlise do mrito."):r.valido==="no"&&ie.push("Acordo invlido: verificar poderes expressamente outorgados e partes.")),r.desist==="sim"&&(r.valida==="sim"?ie.push("Desistncia vlida: encerrar o processo sem anlise do mrito."):r.valida==="no"&&ie.push("Desistncia invlida: verificar poderes expressamente outorgados e partes.")),Be?ie.push("Prazo em dobro: apenas MP/Defensoria/NPJ/dativo."):_e&&ie.push("Prazo em dobro aplicvel (MP/Defensoria/NPJ/dativo/ente pblico)."),r.sfh==="sim"&&ie.push("SFH ps 24/03/2024: enviar para filtro especfico."),r.emaberto!=="sim"&&r.contrarra&&r.contrarra!=="ausentes"&&!r.contramovis.trim()&&ie.push("Informar movimento da juntada das contrarrazes/renncia."),!ce&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"&&(r.grumov||ie.push("Informar movimento da GRU (guia/comprovante).")),!ce&&r.guia==="sim"&&(r.guiorig==="no"?ie.push("Guia FUNJUS no  original do recurso; verificar reutilizao."):r.guiorig===""&&ie.push("Informar se a guia FUNJUS  original do recurso.")),!ce&&r.comp==="sim"&&r.codbar==="diverge ou guia ausente"&&ie.push("Cdigo de barras divergente/guia ausente: conferir preparo FUNJUS."),!ce&&r.gruProc==="diverge"&&ie.push("Nmero do processo divergente na GRU: conferir guia."),!ce&&r.funjusProc==="diverge"&&ie.push("Nmero do processo divergente na guia FUNJUS."),!ce&&r.comp==="sim"&&r.comptipo==="de agendamento"&&ie.push("Comprovante de agendamento no comprova pagamento; exigir comprovante."),r.emaberto==="sim"&&ie.push("H prazo em aberto na Cmara de origem; sugere-se devolver para aguardar decurso."),r.emaberto!=="sim"&&(r.contrarra!=="apresentadas"&&r.intimado==="no"&&r.semadv==="no"?ie.push("Determinar intimao do(s) recorrido(s) para contrarrazes."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="sim"?ie.push("Prazo de contrarrazes em aberto; aguardar decurso."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="no"&&ie.push("Determinar certificao do decurso do prazo para contrarrazes.")),r.emepe==="sim"&&r.mani==="no"&&(r.remetido==="sim"&&r.decursomp==="no"?ie.push("Aguardar decurso do prazo para manifestao da PGJ."):r.remetido==="no"&&ie.push("Encaminhar autos  PGJ."));const C=r.dispensa==="no"&&r.gratuidade==="no invocada"&&(r.comprova==="ausente"||r.comprova==="posteriormente"||r.comprova==="no dia til seguinte ao trmino do prazo"&&r.apos16==="no"),D=Number(r.valorst||0),P=Number(r.valorfj||0);if(C&&(d||g))ie.push(`Caso de recolhimento em dobro; intimar para regularizar. Valores: ${a} ${gr(d*2)}, FUNJUS ${gr(g*2)}`);else if(r.dispensa==="no"&&r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp==="sim")ie.push(`Ato incompatvel com justia gratuita; intimar para recolher preparo. Valores: ${a} ${gr(d)}, FUNJUS ${gr(g)}`);else if(r.dispensa==="no"&&(r.gratuidade==="no invocada"||r.atoincomp==="sim")&&(D<d||P<g)){const M=[];D<d&&M.push(`${a} ${gr(d-D)}`),P<g&&M.push(`Funjus ${gr(g-P)}`),M.length&&ie.push(`Complementar preparo: ${M.join(" | ")}`)}return r.subscritor==="advogado particular"&&r.cadeia==="no"?ie.push("Regularizar cadeia de procuraes para o subscritor."):r.subscritor==="advogado particular"&&r.cadeia==="sim"&&!r.movis&&ie.push("Informar movimentos completos da cadeia de poderes."),r.exclusivi==="requerida"&&r.cadastrada==="no"&&r.regular==="sim"&&ie.push("Deferir pedido de exclusividade e cadastrar procurador nas partes."),r.suspefeito==="requerido em petio apartada"&&r.autuado==="no"&&ie.push("Autuar separadamente o pedido de efeito suspensivo."),{tempest:e,deverST:d,deverFJ:g,stLabel:a,stRateStart:l.start,fjRateStart:u.start,controut:_,mpout:T,grout:R,funjout:j,procurout:ee,exclusout:ne,suspefout:te,parcialout:G,observacoes:ie}},BI=r=>r.camaraArea&&r.camaraNumero?`${r.camaraArea} ${r.camaraNumero}`:r.camara||"",qI=(r,e)=>{const n=[`Tempestividade: ${e.tempest.status==="tempestivo"?"prazo ok":e.tempest.status==="intempestivo"?"avaliar intempestividade":"preencha datas"}`,`Preparo (${e.stLabel}/FUNJUS): ${e.grout}`,`Funjus: ${e.funjout}`,`Pagamento parcial: ${e.parcialout}`,`Contrarrazes: ${e.controut}`,`Ministrio Pblico: ${e.mpout}`,`Representao: ${e.procurout}`,`Exclusividade na intimao: ${e.exclusout}`,`Efeito suspensivo: ${e.suspefout||"N/A"}`];return e.observacoes.forEach(a=>n.push(a)),n},HI=(r,e)=>{var _,T;const n={},a=(R,j)=>{j&&(n[R]=!0)};a("tipo",!r.tipo),a("acordo",r.acordo===""),r.acordo==="sim"&&a("valido",!r.valido),a("desist",r.desist===""),r.desist==="sim"&&a("valida",!r.valida),a("sigla",!r.sigla),a("interp",!r.interp),a("decrec",!r.decrec),a("camaraArea",!r.camaraArea),a("camaraNumero",!r.camaraNumero),a("emaberto",r.emaberto===""),a("envio",!r.envio),a("consulta",r.consulta===""),r.consulta==="sim"&&a("leitura",!r.leitura),a("emdobro",!r.emdobro);const l=sa(r.envio),u=sa(r.interp);if(u&&l&&u<l&&(n.envio=!0,n.interp=!0),a("multa",r.multa===""),r.multa==="sim, no recolhida"&&a("motivo",!r.motivo),a("dispensa",r.dispensa===""),r.dispensa==="no"&&(a("gratuidade",r.gratuidade===""),r.gratuidade==="j  ou afirma ser beneficirio"&&(a("deferida",r.deferida===""),r.deferida==="sim"&&a("movdef",!r.movdef),r.deferida==="no"&&(a("requerida",r.requerida===""),r.requerida==="sim"&&a("movped",!r.movped)),a("atoincomp",r.atoincomp==="")),r.gratuidade==="no invocada"&&(a("comprova",r.comprova===""),r.comprova==="no dia til seguinte ao trmino do prazo"&&a("apos16",r.apos16===""))),r.guia==="sim"&&a("guiorig",r.guiorig===""),r.dispensa!=="sim"&&(r.guia==="sim"||r.comp==="sim")&&a("funjusmov",!r.funjusmov),r.dispensa==="no"&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"){const R=(_=r.grumov)==null?void 0:_.trim(),j=(T=r.grumovComp)==null?void 0:T.trim();a("grumov",!R&&!j),(R||j)&&a("gruProc",!r.gruProc)}r.comp==="sim"&&(a("comptipo",!r.comptipo),a("codbar",!r.codbar)),r.guia==="sim"&&a("funjusProc",!r.funjusProc);const d=r.valorfj.trim(),g=Number(d||0);return r.dispensa==="no"&&r.gratuidade==="no invocada"&&d!==""&&Number.isFinite(g)&&g<e.deverFJ&&a("funjusObs",!r.funjusObs.trim()),a("subscritor",!r.subscritor),r.subscritor==="procurador nomeado"&&a("nomemovi",!r.nomemovi),r.subscritor==="advogado particular"&&(a("movis",!r.movis),a("cadeia",r.cadeia===""),r.cadeia==="no"&&a("faltante",!r.faltante)),a("suspefeito",r.suspefeito===""),r.suspefeito==="requerido em petio apartada"&&a("autuado",r.autuado===""),a("exclusivi",r.exclusivi===""),r.exclusivi==="requerida"&&(a("exclusNome",!r.exclusNome.trim()),a("cadastrada",r.cadastrada===""),r.cadastrada==="no"&&a("regular",r.regular==="")),r.emaberto!=="sim"&&(a("contrarra",r.contrarra===""),r.contrarra!=="apresentadas"&&(a("intimado",r.intimado===""),r.intimado==="sim"?(a("crraberto",r.crraberto===""),r.crraberto==="no"&&a("decursocrr",r.decursocrr==="")):r.intimado==="no"&&a("semadv",r.semadv===""))),a("emepe",r.emepe===""),r.emepe==="sim"&&(a("mani",r.mani===""),r.mani==="sim"?(a("teormani",r.teormani===""),a("manimovis",!r.manimovis),r.teormani==="mera cincia"&&a("decursomp",r.decursomp==="")):r.mani==="no"&&(a("remetido",r.remetido===""),r.remetido==="sim"&&a("decursomp",r.decursomp===""))),n},$a=[{id:"recurso",label:"Recurso",icon:S2},{id:"dados",label:"Dados iniciais",icon:KT},{id:"tempest",label:"Tempestividade",icon:Nm},{id:"preparo",label:"Preparo e custas",icon:XT},{id:"processo",label:"Representao e pedidos",icon:A2},{id:"resumo",label:"Resumo",icon:T2}],_2={recurso:["tipo","acordo","valido","desist","valida","sigla"],dados:["interp","decrec","camaraArea","camaraNumero","emaberto"],tempest:["envio","consulta","leitura","emdobro"],preparo:["multa","motivo","dispensa","gratuidade","deferida","movdef","requerida","movped","atoincomp","comprova","apos16","grumov","gruProc","funjusmov","guia","guiorig","comp","comptipo","codbar","funjusProc","funjusObs"],processo:["subscritor","nomemovi","movis","cadeia","faltante","suspefeito","autuado","exclusivi","exclusNome","cadastrada","regular","contrarra","contramovis","intimado","intimovi","crraberto","decursocrr","semadv","emepe","mani","teormani","manimovis","decursomp","remetido"],resumo:[]},fe=({label:r,children:e})=>m.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-600",children:[m.jsx("span",{className:"min-h-[2.5rem] leading-tight",children:r}),e]}),Vt=({title:r,children:e})=>m.jsxs("div",{className:"card-surface relative bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-42px_rgba(15,23,42,0.55)] overflow-hidden",children:[m.jsx("div",{className:"absolute inset-x-6 top-0 h-[2px] bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 opacity-80"}),m.jsx("div",{className:"absolute -right-12 -top-10 h-28 w-28 rounded-full bg-amber-200/30 blur-3xl"}),m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-base font-semibold text-slate-900 font-display tracking-tight",children:r}),m.jsx("span",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-[0.22em]",children:"Ficha"})]}),m.jsx("div",{className:"grid gap-4",children:e})]})]}),zt=({children:r,tone:e="neutral"})=>{const n={neutral:"bg-white/80 border-slate-200 text-slate-700",success:"bg-emerald-50/90 border-emerald-200 text-emerald-800",warning:"bg-amber-50/90 border-amber-200 text-amber-800"};return m.jsx("span",{className:`pill inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold shadow-sm ${n[e]}`,children:r})},E2=({label:r,value:e,helper:n,tone:a="neutral"})=>{const l={neutral:"border-white/70 bg-white/85 text-slate-900 shadow-[0_16px_40px_-30px_rgba(15,23,42,0.45)]",positive:"border-emerald-200/80 bg-emerald-50/90 text-emerald-900 shadow-[0_18px_40px_-30px_rgba(16,185,129,0.35)]",negative:"border-amber-200/80 bg-amber-50/90 text-amber-900 shadow-[0_18px_40px_-30px_rgba(245,158,11,0.35)]"};return m.jsxs("div",{className:`metric-surface rounded-2xl border px-4 py-3 ${l[a]}`,children:[m.jsx("p",{className:"text-[11px] uppercase tracking-[0.24em] font-semibold text-slate-500",children:r}),m.jsx("p",{className:"text-lg font-semibold leading-tight mt-1",children:e}),n&&m.jsx("p",{className:"text-xs mt-1 text-slate-600",children:n})]})},FI=({label:r,icon:e,active:n,onClick:a})=>m.jsxs("button",{type:"button",onClick:a,"aria-current":n?"step":void 0,className:`step-chip group inline-flex items-center gap-2 rounded-full border px-3 py-2 text-xs font-semibold transition shadow-sm whitespace-nowrap ${n?"border-slate-900 bg-slate-900 text-white shadow-[0_12px_30px_-20px_rgba(15,23,42,0.6)]":"border-slate-200 bg-white/80 text-slate-700 hover:border-slate-300 hover:shadow-md"}`,children:[m.jsx(e,{className:`h-4 w-4 ${n?"text-amber-200":"text-slate-500 group-hover:text-slate-700"}`}),m.jsx("span",{children:r})]}),ch=()=>m.jsx("div",{className:"watermark pointer-events-none fixed bottom-4 right-4 z-30 max-w-[320px] text-right text-[9px] leading-tight opacity-80",children:m.jsxs("div",{className:"flex flex-col gap-[1px]",children:[m.jsx("span",{children:"Desenvolvido por :"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"P-SEP-AR - GESTO 2025/2026"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Assessoria de Recursos aos Tribunais Superiores"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"(STF e STJ) da Secretaria Especial da Presidncia"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Elvertoni Martelli Coimbra"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Lus Gustavo Arruda Lanoni"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{className:"font-bold",children:"Narley Almeida de Sousa"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Rodrigo Louzano"})]})}),GI=()=>{const[r,e]=re.useState(null),[n,a]=re.useState(null),[l,u]=re.useState(!1),[d,g]=re.useState("login"),[v,_]=re.useState(""),[T,R]=re.useState(()=>{try{const x=localStorage.getItem(p2);return x?x==="true":!0}catch{return!0}}),[j,G]=re.useState(""),[ee,ne]=re.useState(""),[te,ie]=re.useState(""),[ce,he]=re.useState(!1),[Be,_e]=re.useState(""),[Le,I]=re.useState(""),[C,D]=re.useState(""),[P,M]=re.useState(`${Rm}_anon`),[S,N]=re.useState(Xo),[He,Et]=re.useState(0),[K,ue]=re.useState(!1),[Ee,Fe]=re.useState(!1),[it,k]=re.useState(null),$=re.useRef(!1),le=re.useRef(!1),me=re.useRef(new Set),Se=re.useRef(!1),[Ne,Ge]=re.useState(!1),[Dt,gt]=re.useState({name:""}),[Ji,yn]=re.useState(""),[wr,xr]=re.useState(!1),[Xn,Mn]=re.useState(""),[Zi,Rr]=re.useState(!1),[ma,Ot]=re.useState(!1),[jt,pi]=re.useState(""),[ys,gi]=re.useState(""),[sn,Wi]=re.useState(!1),[ki,pa]=re.useState("system"),[er,yl]=re.useState(()=>typeof window>"u"||!window.matchMedia?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[Pi,ga]=re.useState(0),[Cr,Rn]=re.useState(!1),[Ye,Cn]=re.useState([]),[bt,lo]=re.useState(""),[va,Nr]=re.useState({}),[Nn,Vn]=re.useState(null),[Mt,xe]=re.useState(""),[Jn,kn]=re.useState(!1),[tr,_s]=re.useState([]),[In,vi]=re.useState(null),[uo,Zn]=re.useState(null),[Ir,yi]=re.useState(""),[Ui,qt]=re.useState(""),[Es,Pn]=re.useState(null),Un=re.useRef(null),Me=(n==null?void 0:n.role)==="admin",vt=v?`${v.trim().toLowerCase()}@${fi}`:"",Wn=ki==="dark"||ki==="system"&&er;re.useEffect(()=>{if(!rp||!qe||!ze){u(!0);return}let x=!0;const A=Pw(qe,async Q=>{if(e(Q),a(null),u(!1),!Q){x&&u(!0);return}try{const se=Q.email||"";if(!au(se)){x&&D(`Acesso restrito a contas @${fi}.`),await Ya(qe);return}try{await Pm(Q)}catch(Rt){x&&_e(wt(Rt))}if(!Q.emailVerified){x&&D("Confirme o e-mail para acessar a plataforma."),Se.current||await Ya(qe);return}const we=new Date().toISOString(),Ve=mn(ze,Kn,Q.uid),et=await wm(Ve);let Ft;if(!et.exists())Ft={uid:Q.uid,email:se,name:Q.displayName||"",photoURL:Q.photoURL||"",role:"user",active:!0,triageCount:0,theme:"system",createdAt:we,updatedAt:we},await oh(Ve,Ft);else{const Rt=et.data();Ft={uid:Q.uid,email:Rt.email??se,name:Rt.name??Q.displayName??"",photoURL:Rt.photoURL??Q.photoURL??"",role:Rt.role??"user",active:Rt.active??!0,triageCount:Rt.triageCount??0,theme:uh(Rt.theme),createdAt:Rt.createdAt??we,updatedAt:we},(!Rt.email||!Rt.name||!Rt.role||Rt.active===void 0||!Rt.createdAt)&&!Rt.name&&Ft.name&&await Qn(Ve,{name:Ft.name,updatedAt:we})}if(!Ft.active){x&&D("Conta desativada. Procure um administrador."),await Ya(qe);return}x&&(a(Ft),_e(""),I(""),D(""))}catch(se){if(x){const we=wt(se);_e(we),se.code==="permission-denied"&&I("Aplique as regras do Firestore e tente novamente.")}}finally{x&&u(!0)}});return()=>{x=!1,A()}},[]),re.useEffect(()=>{const x=r!=null&&r.uid?`${Rm}_${r.uid}`:`${Rm}_anon`;M(x)},[r==null?void 0:r.uid]),re.useEffect(()=>{const x=NI(P);N(x.state),k(x.savedAt),Et(0)},[P]),re.useEffect(()=>{if(!r||!ze||!qe)return;const x=mn(ze,Kn,r.uid),A=xm(x,Q=>{if(!r.emailVerified)return;if(!Q.exists()){D("Perfil no encontrado. Procure um administrador."),Ya(qe);return}const se=Q.data(),we=se.role==="admin"?"admin":"user",Ve={uid:r.uid,email:se.email??r.email??"",name:se.name??r.displayName??"",photoURL:se.photoURL??r.photoURL??"",role:we,active:se.active??!0,triageCount:se.triageCount??0,theme:uh(se.theme),createdAt:se.createdAt??"",updatedAt:se.updatedAt??""};if(!Ve.active){D("Conta desativada. Procure um administrador."),Ya(qe);return}a(Ve)},Q=>{_e(wt(Q))});return()=>A()},[r==null?void 0:r.uid,r==null?void 0:r.emailVerified,ze,qe]),re.useEffect(()=>{if(!Me||!ze){Cn([]);return}const x=h2(s2(ze,Kn)),A=xm(x,Q=>{const se=Q.docs.map(Ve=>{const et=Ve.data(),Ft=et.role==="admin"?"admin":"user";return{uid:Ve.id,email:et.email??"",name:et.name??"",photoURL:et.photoURL??"",role:Ft,active:et.active??!0,triageCount:et.triageCount??0,theme:uh(et.theme),createdAt:et.createdAt??"",updatedAt:et.updatedAt??""}}),we=OI(se);we.sort((Ve,et)=>{const Ft=Ve.name.localeCompare(et.name,"pt-BR",{sensitivity:"base"});return Ft!==0?Ft:Ve.email.localeCompare(et.email,"pt-BR",{sensitivity:"base"})}),Cn(we)},Q=>{xe(wt(Q))});return()=>A()},[Me]),re.useEffect(()=>{if(!Me||!ze){_s([]);return}const x=h2(s2(ze,ru),rI("status","==","pending")),A=xm(x,Q=>{const se=Q.docs.map(we=>{const Ve=we.data(),et=Ve.status==="approved"||Ve.status==="rejected"?Ve.status:"pending";return{id:we.id,uid:Ve.uid??we.id,email:Ve.email??"",name:Ve.name??"",status:et,createdAt:Ve.createdAt,updatedAt:Ve.updatedAt}});_s(se)},Q=>{xe(wt(Q))});return()=>A()},[Me,ze]),re.useEffect(()=>{Me||(Rn(!1),Zn(null),yi(""),qt(""))},[Me]),re.useEffect(()=>{Cr||(Zn(null),yi(""),qt(""))},[Cr]),re.useEffect(()=>{Ne||(Ot(!1),pi(""),gi(""))},[Ne]),re.useEffect(()=>{if(!n)return;gt({name:n.name??""});const x=uh(n.theme),A=x!==n.theme;if(pa(x),Mn(""),A&&ze&&r){const se=new Date().toISOString();Qn(mn(ze,Kn,r.uid),{theme:x,updatedAt:se}).then(()=>{a(we=>we&&{...we,theme:x,updatedAt:se})}).catch(()=>{})}},[n==null?void 0:n.uid]),re.useEffect(()=>{if(!window.matchMedia)return;const x=window.matchMedia("(prefers-color-scheme: dark)"),A=()=>yl(x.matches);return A(),x.addEventListener?x.addEventListener("change",A):x.addListener(A),()=>{x.removeEventListener?x.removeEventListener("change",A):x.removeListener(A)}},[]),re.useEffect(()=>{if(Pi<=0)return;const x=window.setTimeout(()=>{ga(A=>Math.max(0,A-1))},1e3);return()=>window.clearTimeout(x)},[Pi]),re.useEffect(()=>{try{localStorage.setItem(p2,String(T))}catch{}},[T]),re.useEffect(()=>{document.documentElement.classList.toggle("theme-dark",Wn);const A=r!=null&&r.uid?`triario_theme_${r.uid}`:"triario_theme_anon";try{localStorage.setItem(A,ki)}catch{}},[ki,Wn,r==null?void 0:r.uid]);const Ie=re.useMemo(()=>zI(S),[S]),bs=re.useMemo(()=>qI(S,Ie),[S,Ie]),Ts=re.useMemo(()=>HI(S,Ie),[S,Ie]),Ss=()=>UI(S,Ie),_i=re.useMemo(()=>{const x={recurso:0,dados:0,tempest:0,preparo:0,processo:0,resumo:0};return Object.keys(_2).forEach(A=>{x[A]=_2[A].reduce((Q,se)=>Q+(Ts[se]?1:0),0)}),x},[Ts]),Dr=re.useMemo(()=>{const x=bt.trim().toLowerCase();return x?Ye.filter(A=>`${A.name} ${A.email}`.toLowerCase().includes(x)):Ye},[bt,Ye]),Ei=re.useMemo(()=>Ye.reduce((x,A)=>x+(A.triageCount||0),0),[Ye]),on=re.useMemo(()=>Ye.filter(x=>x.role==="admin"&&x.active).length,[Ye]),_n=re.useMemo(()=>{const x=[...Ye];return x.sort((A,Q)=>(Q.triageCount||0)-(A.triageCount||0)),x},[Ye]),ei=re.useMemo(()=>{if(tr.length===0)return[];const x=new Set(Ye.filter(Q=>Q.role==="admin").map(Q=>Jo(Q.email))),A=new Set(Ye.filter(Q=>Q.role==="admin").map(Q=>Q.uid));return tr.filter(Q=>{if(A.has(Q.uid))return!1;const se=Jo(Q.email||"");return!(se&&x.has(se))})},[tr,Ye]),Tt=ei.length;re.useEffect(()=>{if(!Me||!ze||tr.length===0)return;const x=new Set(Ye.filter(se=>se.role==="admin").map(se=>Jo(se.email))),A=new Set(Ye.filter(se=>se.role==="admin").map(se=>se.uid)),Q=tr.filter(se=>{if(me.current.has(se.id))return!1;if(A.has(se.uid))return!0;const we=Jo(se.email||"");return we?x.has(we):!1});Q.length&&Q.forEach(se=>{me.current.add(se.id),Qn(mn(ze,ru,se.id),{status:"approved",updatedAt:new Date().toISOString()}).catch(()=>{me.current.delete(se.id)})})},[tr,Ye,Me,ze]);const ti=S.dispensa==="sim",ya=S.eca==="sim",ni=S.valorfj.trim(),ii=Number(ni||0),_a=S.dispensa==="no"&&S.gratuidade==="no invocada"&&ni!==""&&Number.isFinite(ii)&&ii<Ie.deverFJ,As=_a&&!S.funjusObs.trim();S.funjusObs.trim();const ws=$a[He].id,Or=_i[ws]??0,de=(x,A)=>{N(Q=>{var se;if(x==="funjusmov"){const Ve=String(A).trim()?"sim":"";return{...Q,[x]:A,guia:Ve,comp:Ve}}if(x==="grumov"){const we=String(A),Ve=!((se=Q.grumovComp)!=null&&se.trim())||Q.grumovComp===Q.grumov;return{...Q,[x]:A,grumovComp:Ve?we:Q.grumovComp}}return{...Q,[x]:A}})},ae=(x,A)=>{const Q=S[x],we=(typeof Q=="string"?Q.trim()!=="":!!Q)?"input input-success":"input";return A?`${we} ${A}`:we};re.useEffect(()=>{const x=window.setTimeout(()=>{try{const A=new Date,Q={__version:pI,state:S,savedAt:A.toISOString()};localStorage.setItem(P,JSON.stringify(Q)),k(A)}catch{}},400);return()=>window.clearTimeout(x)},[S,P]),re.useEffect(()=>{if(!S.usarIntegral)return;const x=Ie.deverST?Ie.deverST.toFixed(2):"",A=Ie.deverFJ?Ie.deverFJ.toFixed(2):"";N(Q=>!Q.usarIntegral||Q.valorst===x&&Q.valorfj===A?Q:{...Q,valorst:x,valorfj:A})},[S.usarIntegral,Ie.deverST,Ie.deverFJ]),re.useEffect(()=>{ti&&N(x=>{if(x.dispensa!=="sim")return x;let A=!1;const Q={...x};return Q.emdobro!=="em dobro"&&(Q.emdobro="em dobro",A=!0),Q.subscritor!=="procurador pblico"&&(Q.subscritor="procurador pblico",A=!0),A?Q:x})},[ti]),re.useEffect(()=>{S.consulta!=="sim"&&S.leitura&&N(x=>x.leitura?{...x,leitura:""}:x)},[S.consulta,S.leitura]),re.useEffect(()=>{S.emdobro||(S.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||S.subscritor==="procurador nomeado")&&N(x=>x.emdobro?x:{...x,emdobro:"em dobro"})},[S.emdobro,S.gratuidade,S.subscritor]),re.useEffect(()=>{var Q;const x=Un.current;if(!x)return;const A=(Q=window.matchMedia)==null?void 0:Q.call(window,"(prefers-reduced-motion: reduce)").matches;x.scrollIntoView({behavior:A?"auto":"smooth",block:"start"})},[He]);const Pt=()=>{kr();const x=Ss(),A=new Blob([x],{type:"text/plain"}),Q=URL.createObjectURL(A),se=document.createElement("a");se.href=Q;const we=CI(S.sigla);se.download=`resumo-triagem-${we||"triario"}.txt`,se.click(),window.setTimeout(()=>URL.revokeObjectURL(Q),1e3)},Ht=async x=>{if(!x)return!1;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(x);else{const A=document.createElement("textarea");A.value=x,document.body.appendChild(A),A.select(),document.execCommand("copy"),document.body.removeChild(A)}return!0}catch{return!1}},nr=async()=>{kr();const x=Ss();await Ht(x)?(ue(!0),setTimeout(()=>ue(!1),1500)):ue(!1)},xs=async()=>{const x=bs.join(`
`);await Ht(x)?(Fe(!0),setTimeout(()=>Fe(!1),1500)):Fe(!1)},rt=async x=>{if(!qe)return null;const A=qe.currentUser;return A||(v.trim()?j.trim()?au(vt)?(await ym(qe,T?fh:pu),(await e_(qe,vt,j)).user):(_e(`Use um e-mail @${fi} para continuar.`),null):(_e(x),null):(_e(`Informe seu usurio @${fi}.`),null))},jr=async()=>{if(qe){if(he(!0),_e(""),I(""),!v.trim()){_e(`Informe seu usurio @${fi}.`),he(!1);return}if(!au(vt)){_e(`Use um e-mail @${fi} para entrar.`),he(!1);return}try{await ym(qe,T?fh:pu),await e_(qe,vt,j)}catch(x){_e(wt(x))}finally{he(!1)}}},bi=async()=>{if(qe){if(he(!0),_e(""),I(""),!v.trim()){_e(`Informe seu usurio @${fi}.`),he(!1);return}if(!au(vt)){_e(`O cadastro  permitido apenas para e-mails @${fi}.`),he(!1);return}if(j.trim().length<6){_e("A senha precisa ter pelo menos 6 caracteres."),he(!1);return}if(j!==ee){_e("As senhas no conferem."),he(!1);return}try{await ym(qe,T?fh:pu);const x=await jw(qe,vt,j);te.trim()&&await n_(x.user,{displayName:te.trim()});try{await t_(x.user)}catch(A){_e(wt(A))}I("Conta criada. Confirme o e-mail para entrar."),G(""),ne(""),g("login")}catch(x){_e(wt(x))}finally{he(!1)}}},Mr=async()=>{if(qe){if(he(!0),_e(""),I(""),!v.trim()){_e(`Informe seu usurio @${fi}.`),he(!1);return}if(!au(vt)){_e(`Use um e-mail @${fi} para redefinir a senha.`),he(!1);return}try{await vm(qe,vt),I("Enviamos um e-mail para redefinir sua senha.")}catch(x){_e(wt(x))}finally{he(!1)}}},En=async()=>{if(qe&&!(Pi>0)){he(!0),_e(""),I(""),Se.current=!0;try{const x=await rt("Informe sua senha para reenviar a confirmao.");if(!x)return;await t_(x),ga(15),I("E-mail de confirmao reenviado.")}catch(x){_e(wt(x))}finally{const x=qe.currentUser;if(x&&!x.emailVerified)try{await Ya(qe)}catch{}Se.current=!1,he(!1)}}},Ea=async()=>{if(qe){he(!0),_e(""),I(""),Se.current=!0;try{const x=await rt("Informe sua senha para confirmar o e-mail.");if(!x)return;await Pm(x),x.emailVerified?I("E-mail confirmado. Voc j pode entrar."):_e("E-mail ainda no confirmado.")}catch(x){_e(wt(x))}finally{const x=qe.currentUser;if(x&&!x.emailVerified)try{await Ya(qe)}catch{}Se.current=!1,he(!1)}}},Rs=async()=>{if(!qe)return;const x=P;await Ya(qe),Dn(x),Rn(!1),Ge(!1),yn(""),Mn(""),Rr(!1),ga(0),$.current=!1,le.current=!1},Vr=(x,A)=>{Nr(Q=>{const se=Q[x.uid]??{name:x.name,role:x.role,active:x.active};return{...Q,[x.uid]:{...se,...A}}})},Li=x=>va[x.uid]??{name:x.name,role:x.role,active:x.active},co=async x=>{if(!ze||!qe)return;if(!Me){xe("Acesso restrito a admins.");return}const A=Li(x),Q=(r==null?void 0:r.uid)===x.uid,se=x.role==="admin"&&x.active,we=A.role==="admin"&&A.active,Ve=on-(se?1:0)+(we?1:0);if(Q&&Ve<1){xe("Voc  o ltimo admin ativo. No  possvel remover seu prprio acesso.");return}if(Ve<1){xe(" necessrio manter pelo menos um admin ativo.");return}if(A.name===x.name&&A.role===x.role&&A.active===x.active){xe("Nenhuma alterao pendente para salvar.");return}Vn(x.uid),xe("");try{await Qn(mn(ze,Kn,x.uid),{name:A.name,role:A.role,active:A.active,updatedAt:new Date().toISOString()}),xe("Cadastro atualizado.")}catch(et){xe(wt(et))}finally{Vn(null)}},ir=async x=>{if(qe){if(!Me){xe("Acesso restrito a admins.");return}xe("");try{await vm(qe,x),xe(`E-mail de redefinio enviado para ${x}.`)}catch(A){xe(wt(A))}}},bn=async x=>{if(!ze)return;if(!Me){xe("Acesso restrito a admins.");return}if((r==null?void 0:r.uid)===x.uid){xe("Voc no pode remover seu prprio acesso de admin.");return}if(x.active&&on<=1){xe(" necessrio manter pelo menos um admin ativo.");return}xe(""),Vn(x.uid);try{await Qn(mn(ze,Kn,x.uid),{role:"user",updatedAt:new Date().toISOString()}),xe(`${x.email||"Usurio"} removido do perfil admin.`),Nr(Q=>Q[x.uid]?{...Q,[x.uid]:{...Q[x.uid],role:"user"}}:Q)}catch(Q){xe(wt(Q))}finally{Vn(null)}},ho=async x=>{if(ze){if(!Me){xe("Acesso restrito a admins.");return}xe(""),vi(x.id);try{const A=new Date().toISOString(),Q=mn(ze,Kn,x.uid);(await wm(Q)).exists()?await Qn(Q,{role:"admin",updatedAt:A}):await oh(Q,{uid:x.uid,email:x.email??"",name:x.name??"",photoURL:"",role:"admin",active:!0,triageCount:0,theme:"system",createdAt:A,updatedAt:A}),await Qn(mn(ze,ru,x.id),{status:"approved",updatedAt:A}),xe(`${x.email||"Usurio"} aprovado como admin.`)}catch(A){xe(wt(A))}finally{vi(null)}}},Cs=async x=>{if(ze){if(!Me){xe("Acesso restrito a admins.");return}xe(""),vi(x.id);try{await Qn(mn(ze,ru,x.id),{status:"rejected",updatedAt:new Date().toISOString()}),xe(`${x.email||"Usurio"} rejeitado.`)}catch(A){xe(wt(A))}finally{vi(null)}}},kr=async()=>{if(!(!ze||!r)&&!($.current||le.current)){le.current=!0;try{await Qn(mn(ze,Kn,r.uid),{triageCount:uI(1),updatedAt:new Date().toISOString()}),$.current=!0,a(x=>x&&{...x,triageCount:(x.triageCount||0)+1})}catch(x){xe(wt(x))}finally{le.current=!1}}},ba=async()=>{if(!qe||!r||!ze||!n)return;const x=Dt.name.trim(),A={};if(x!==n.name&&(A.name=x),Object.keys(A).length===0){yn("Nenhuma alterao para salvar.");return}xr(!0),yn("");try{await n_(r,{displayName:x||null}),await Qn(mn(ze,Kn,r.uid),{...A,updatedAt:new Date().toISOString()}),a(Q=>Q&&{...Q,...A}),yn("Perfil atualizado.")}catch(Q){yn(wt(Q))}finally{xr(!1)}},fo=async()=>{if(!(!qe||!(r!=null&&r.email))){yn("");try{await vm(qe,r.email),yn("Enviamos um e-mail para redefinir sua senha.")}catch(x){yn(wt(x))}}},rr=async()=>{if(!(!r||!ze)){Mn(""),Rr(!0);try{const x=mn(ze,ru,r.uid),A=await wm(x),Q=new Date().toISOString();if(A.exists()){const se=A.data();se.status==="approved"?Mn("Seu acesso j foi aprovado. Saia e entre novamente."):se.status==="pending"?Mn("Solicitao j enviada. Aguarde aprovao."):(await oh(x,{uid:r.uid,email:r.email??"",name:r.displayName??"",status:"pending",updatedAt:Q},{merge:!0}),Mn("Solicitao reenviada com sucesso."))}else await oh(x,{uid:r.uid,email:r.email??"",name:r.displayName??"",status:"pending",createdAt:Q,updatedAt:Q}),Mn("Solicitao enviada. Aguarde aprovao do admin.")}catch(x){Mn(wt(x))}finally{Rr(!1)}}},Ta=()=>{Ot(x=>!x),pi(""),gi("")},ri=async()=>{if(!(!qe||!r||!ze)){if(!r.email){gi("E-mail do usurio indisponvel.");return}if(!jt.trim()){gi("Informe sua senha para confirmar a excluso.");return}gi(""),Wi(!0);try{const x=ls.credential(r.email,jt);await W0(r,x),await lI(mn(ze,Kn,r.uid)),await Uw(r)}catch(x){gi(wt(x))}finally{Wi(!1)}}},Ns=async x=>{if(pa(x),!(!ze||!r||!n))try{await Qn(mn(ze,Kn,r.uid),{theme:x,updatedAt:new Date().toISOString()}),a(A=>A&&{...A,theme:x})}catch(A){yn(wt(A))}},Ln=async x=>{if(ze){if(!Me){xe("Acesso restrito a admins.");return}xe(""),Vn(x.uid);try{await Qn(mn(ze,Kn,x.uid),{role:"admin",updatedAt:new Date().toISOString()}),xe(`${x.email||"Usurio"} promovido a admin.`),Nr(A=>A[x.uid]?{...A,[x.uid]:{...A[x.uid],role:"admin"}}:A)}catch(A){xe(wt(A))}finally{Vn(null)}}},ar=x=>{if(uo===x.uid){Zn(null),yi(""),qt("");return}Zn(x.uid),yi(""),qt("")},Ti=async x=>{if(!(!qe||!r||!ze)){if(!Me){qt("Ao restrita a admins.");return}if(r.uid===x.uid){qt("No  possvel desativar o prprio usurio.");return}if(!r.email){qt("E-mail do administrador indisponvel.");return}if(!Ir.trim()){qt("Informe sua senha para confirmar a desativao.");return}qt(""),Pn(x.uid);try{const A=ls.credential(r.email,Ir);await W0(r,A);const Q=new Date().toISOString();await Qn(mn(ze,Kn,x.uid),{active:!1,updatedAt:Q,deletedAt:Q}),xe("Usurio desativado."),Zn(null),yi(""),Nr(se=>se[x.uid]?{...se,[x.uid]:{...se[x.uid],active:!1}}:se)}catch(A){qt(wt(A))}finally{Pn(null)}}},Pr=async()=>{if(!ze)return;if(!Me){xe("Acesso restrito a admins.");return}const x=Ye.filter(A=>{var Q;return(Q=A.photoURL)==null?void 0:Q.trim()});if(x.length===0){xe("Nenhuma foto de perfil para remover.");return}if(window.confirm(`Isso vai remover ${x.length} foto(s) de perfil. Continuar?`)){kn(!0),xe("");try{for(const A of x)await Qn(mn(ze,Kn,A.uid),{photoURL:"",updatedAt:new Date().toISOString()});xe("Fotos de perfil removidas.")}catch(A){xe(wt(A))}finally{kn(!1)}}},Sa=x=>{x.preventDefault(),d==="login"?jr():d==="register"?bi():Mr()},sr=()=>Et(x=>Math.min($a.length-1,x+1)),ai=()=>Et(x=>Math.max(0,x-1)),Dn=(x=P)=>{try{localStorage.removeItem(x)}catch{}N(Xo),Et(0),k(null),$.current=!1,le.current=!1},Ur=()=>{Dn()},ot=(x,A)=>{window.confirm(x)&&(A==null||A(),Ur())},Si=()=>{const x=!!(r&&!n&&!C);return m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 page-enter",children:[m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"w-full max-w-2xl space-y-4",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"mx-auto h-14 w-14 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:m.jsx("img",{src:m2,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),m.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Simba-JUD"}),m.jsx("h1",{className:"text-2xl font-semibold text-slate-900 font-display",children:"Acesso ao Portal de Triagem"})]}),m.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[{id:"login",label:"Entrar"},{id:"register",label:"Criar conta"},{id:"reset",label:"Redefinir senha"}].map(A=>m.jsx("button",{type:"button",onClick:()=>{g(A.id),_e(""),I("")},className:`px-4 py-2 rounded-full text-xs font-semibold border transition ${d===A.id?"bg-slate-900 text-white border-slate-900 shadow-sm":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"}`,children:A.label},A.id))}),x&&m.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:[m.jsx("p",{className:"font-semibold",children:"Perfil no carregado."}),m.jsx("p",{className:"mt-1",children:"Verifique as regras do Firestore e domnios autorizados. Se quiser, saia e entre novamente."}),m.jsx("button",{type:"button",onClick:Rs,className:"mt-3 inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-amber-200 bg-white text-amber-800 hover:shadow-sm transition",children:"Sair"})]}),m.jsx(Vt,{title:"Credenciais",children:m.jsxs("form",{className:"grid gap-4",onSubmit:Sa,autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",children:[C&&m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:C}),Be&&m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:Be}),Le&&m.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:Le}),d==="register"&&m.jsx(fe,{label:"Nome completo",children:m.jsx("input",{className:"input",value:te,onChange:A=>ie(A.target.value),placeholder:"Digite seu nome",autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"})}),m.jsx(fe,{label:"E-mail",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{className:"input rounded-r-none",type:"text",value:v,onChange:A=>{const se=A.target.value.split("@")[0].replace(/\s+/g,"");_(se)},placeholder:"usuario",autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0}),m.jsxs("span",{className:"px-3 py-[0.6rem] border border-l-0 border-slate-200 rounded-r-lg bg-slate-50 text-sm text-slate-600",children:["@",fi]})]})}),d!=="reset"&&m.jsx(fe,{label:"Senha",children:m.jsx("input",{className:"input",type:"password",value:j,onChange:A=>G(A.target.value),placeholder:"",autoComplete:"new-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0})}),d!=="reset"&&m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:T,onChange:A=>R(A.target.checked)}),"Lembrar login neste dispositivo"]}),d==="register"&&m.jsx(fe,{label:"Confirme a senha",children:m.jsx("input",{className:"input",type:"password",value:ee,onChange:A=>ne(A.target.value),placeholder:"",autoComplete:"new-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0})}),d==="reset"&&m.jsx("p",{className:"text-xs text-slate-500",children:"Enviaremos um link de redefinio de senha para o seu e-mail."}),d==="login"&&C.includes("Confirme")&&m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:En,disabled:ce||Pi>0,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:Pi>0?`Reenviar em ${Pi}s`:"Reenviar confirmao"}),m.jsx("button",{type:"button",onClick:Ea,disabled:ce,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"J confirmei"})]}),m.jsx("button",{type:"submit",disabled:ce,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:ce?"Aguarde...":d==="login"?"Entrar":d==="register"?"Criar conta":"Enviar link"})]})}),m.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Cadastro aberto apenas para contas @",fi,"."]})]})}),m.jsx(ch,{})]})},Is=()=>{if(!Ne||!n)return null;const x=Dt.name||n.email;return m.jsx("div",{className:"mb-6",children:m.jsx(Vt,{title:"Meu perfil",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[m.jsx("div",{className:"avatar-surface h-16 w-16 rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center overflow-hidden",children:m.jsx("span",{className:"text-lg font-semibold text-slate-700",children:y2(x)})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:x}),m.jsx("p",{className:"text-xs text-slate-500",children:n.email}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",n.triageCount||0]})]})]}),Ji&&m.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:Ji}),Xn&&m.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:Xn}),m.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:m.jsx(fe,{label:"Nome",children:m.jsx("input",{className:"input",value:Dt.name,onChange:A=>gt(Q=>({...Q,name:A.target.value}))})})}),m.jsxs(fe,{label:"Tema",children:[m.jsxs("select",{className:"input",value:ki,onChange:A=>Ns(A.target.value),children:[m.jsx("option",{value:"system",children:"Sistema"}),m.jsx("option",{value:"light",children:"Modo claro"}),m.jsx("option",{value:"dark",children:"Modo escuro"})]}),m.jsx("span",{className:"text-xs text-slate-500",children:"Preferncia salva neste dispositivo e no perfil."})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:ba,disabled:wr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:wr?"Salvando...":"Salvar perfil"}),m.jsx("button",{type:"button",onClick:fo,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Enviar reset de senha"}),!Me&&m.jsx("button",{type:"button",onClick:rr,disabled:Zi,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 transition shadow-sm disabled:opacity-60",children:Zi?"Enviando...":"Solicitar acesso admin"}),m.jsx("button",{type:"button",onClick:Ta,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm",children:ma?"Cancelar excluso":"Excluir minha conta"})]}),ma&&m.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[m.jsx("p",{className:"font-semibold",children:"Confirmao de excluso"}),m.jsx("p",{className:"mt-1",children:"Esta ao  permanente. Informe sua senha para apagar sua conta."}),ys&&m.jsx("p",{className:"mt-2 text-xs text-rose-700",children:ys}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[200px]",type:"password",value:jt,onChange:A=>{pi(A.target.value),ys&&gi("")},placeholder:"Senha atual",autoComplete:"current-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"}),m.jsx("button",{type:"button",onClick:ri,disabled:sn,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:sn?"Excluindo...":"Excluir conta"})]})]})]})})})},Lr=()=>!Me||!Cr?null:m.jsxs("div",{className:"mb-6 space-y-4",children:[m.jsx(Vt,{title:"Dashboard de triagens",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs(zt,{children:[Ei," triagem(ns) registradas"]}),m.jsxs(zt,{children:[Ye.length," usurio(s)"]})]}),_n.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhuma triagem registrada."}):m.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:_n.map(x=>m.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-white/80 px-4 py-3 text-sm text-slate-700",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-semibold text-slate-900 truncate",children:x.name||x.email||"Sem nome"}),m.jsx("p",{className:"text-xs text-slate-500 truncate",children:x.email})]}),m.jsx("span",{className:"font-semibold",children:x.triageCount||0})]},x.uid))})]})}),Tt>0&&m.jsx(Vt,{title:"Solicitaes de admin",children:m.jsxs("div",{className:"grid gap-3",children:[m.jsx("p",{className:"text-xs text-slate-500",children:"Aprove ou rejeite as solicitaes pendentes."}),m.jsxs(zt,{tone:"warning",children:[Tt," solicitao(es) pendente(s)"]}),m.jsx("div",{className:"grid gap-2",children:ei.map(x=>m.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[m.jsx("p",{className:"font-semibold",children:x.name||x.email||"Usurio"}),m.jsx("p",{className:"text-[11px] text-amber-700",children:x.email||x.uid}),m.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>ho(x),disabled:In===x.id,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-emerald-200 bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm disabled:opacity-60",children:In===x.id?"Processando...":"Aprovar"}),m.jsx("button",{type:"button",onClick:()=>Cs(x),disabled:In===x.id,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-rose-200 bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:In===x.id?"Processando...":"Rejeitar"})]})]},x.id))})]})}),m.jsx(Vt,{title:"Administrao de usurios",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[220px]",placeholder:"Buscar por nome ou e-mail",value:bt,onChange:x=>lo(x.target.value)}),m.jsxs(zt,{children:[Ye.length," usurio(s)"]}),m.jsxs(zt,{tone:"success",children:[on," admin(s) ativos"]}),m.jsx("button",{type:"button",onClick:Pr,disabled:Jn,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm disabled:opacity-60",children:Jn?"Limpando fotos...":"Remover fotos de perfil"})]}),Mt&&m.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:Mt}),Dr.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum usurio encontrado."}):m.jsx("div",{className:"grid gap-3",children:Dr.map(x=>{const A=Li(x),Q=(r==null?void 0:r.uid)===x.uid,se=x.role==="admin"&&x.active,we=Q&&se&&on<=1,Ve=uo===x.uid,et=Q,Ft=x.role!=="admin"&&A.role!=="admin",Rt=x.role==="admin"&&A.role==="admin",or=Q||se&&on<=1;return m.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 shadow-sm",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:x.name||"Sem nome"}),m.jsx("p",{className:"text-xs text-slate-500",children:x.email||"E-mail no informado"}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",x.triageCount||0]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[Q&&m.jsx(zt,{children:"Voc"}),x.role==="admin"&&m.jsx(zt,{tone:"success",children:"Admin"}),!x.active&&m.jsx(zt,{tone:"warning",children:"Desativado"})]})]}),m.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[m.jsx(fe,{label:"Nome",children:m.jsx("input",{className:"input",value:A.name,onChange:Ai=>Vr(x,{name:Ai.target.value})})}),m.jsxs(fe,{label:"Perfil",children:[m.jsxs("select",{className:"input",value:A.role,disabled:we,onChange:Ai=>Vr(x,{role:Ai.target.value}),children:[m.jsx("option",{value:"user",children:"Usurio"}),m.jsx("option",{value:"admin",children:"Admin"})]}),we&&m.jsx("span",{className:"text-xs text-slate-500",children:"Voc  o nico admin ativo."})]}),m.jsx(fe,{label:"Status",children:m.jsxs("select",{className:"input",value:A.active?"ativo":"inativo",onChange:Ai=>Vr(x,{active:Ai.target.value==="ativo"}),children:[m.jsx("option",{value:"ativo",children:"Ativo"}),m.jsx("option",{value:"inativo",children:"Desativado"})]})})]}),m.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>co(x),disabled:Nn===x.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:Nn===x.uid?"Salvando...":"Salvar"}),Ft&&m.jsx("button",{type:"button",onClick:()=>Ln(x),disabled:Nn===x.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm disabled:opacity-60",children:"Promover a admin"}),Rt&&m.jsx("button",{type:"button",onClick:()=>bn(x),disabled:Nn===x.uid||or,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-amber-200 bg-amber-50 text-amber-700 hover:bg-amber-100 transition shadow-sm disabled:opacity-60",children:"Remover admin"}),m.jsx("button",{type:"button",onClick:()=>ir(x.email),disabled:!x.email,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"Enviar reset de senha"}),m.jsx("button",{type:"button",onClick:()=>ar(x),disabled:et,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm disabled:opacity-60",children:Ve?"Cancelar desativao":"Desativar usurio"})]}),Ve&&m.jsxs("div",{className:"mt-3 rounded-xl border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[m.jsx("p",{className:"font-semibold",children:"Confirmao de desativao"}),m.jsx("p",{className:"mt-1",children:"Para desativar este usurio, informe sua senha de administrador."}),Ui&&m.jsx("p",{className:"mt-2 text-xs text-rose-700",children:Ui}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[200px]",type:"password",value:Ir,onChange:Ai=>{yi(Ai.target.value),Ui&&qt("")},placeholder:"Senha do admin",autoComplete:"current-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"}),m.jsx("button",{type:"button",onClick:()=>Ti(x),disabled:Es===x.uid,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:Es===x.uid?"Desativando...":"Desativar"})]})]})]},x.uid)})})]})})]}),Ds=()=>{const x=(()=>{switch($a[He].id){case"recurso":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Vt,{title:"Triar um novo recurso",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Tipo",children:m.jsxs("select",{className:ae("tipo"),value:S.tipo,onChange:A=>de("tipo",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Especial",children:"Especial"}),m.jsx("option",{value:"Extraordinrio",children:"Extraordinrio"})]})}),m.jsx(fe,{label:"Sigla para minutas",children:m.jsx("input",{className:ae("sigla"),placeholder:"AR-99",value:S.sigla,onChange:A=>{const Q=A.target.value;de("sigla",Q.replace(/^[aA][rR]/,"AR"))}})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Acordo",children:m.jsxs("select",{className:ae("acordo"),value:S.acordo,onChange:A=>de("acordo",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.acordo==="sim"&&m.jsx(fe,{label:"Acordo vlido?",children:m.jsxs("select",{className:ae("valido"),value:S.valido,onChange:A=>de("valido",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Desistncia",children:m.jsxs("select",{className:ae("desist"),value:S.desist,onChange:A=>de("desist",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.desist==="sim"&&m.jsx(fe,{label:"Desistncia vlida?",children:m.jsxs("select",{className:ae("valida"),value:S.valida,onChange:A=>de("valida",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]}),m.jsx(Vt,{title:"Ajuda rpida",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsxs("li",{children:[m.jsx(zt,{children:"Importante"})," Confirme a validade de acordos e desistncias antes de prosseguir."]}),m.jsxs("li",{children:[m.jsx(zt,{children:"Tipificao"})," Especial aplica tabela STJ; Extraordinrio aplica tabela STF."]}),m.jsxs("li",{children:[m.jsx(zt,{children:"Sigla"})," Use o padro interno (ex.: AR-130E+T) para a minuta/post-it."]})]})})]});case"dados":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Vt,{title:"Dados iniciais",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Interposio (data)",children:m.jsx("input",{type:"date",className:ae("interp"),value:S.interp,onChange:A=>de("interp",A.target.value)})}),m.jsx(fe,{label:"Deciso recorrida",children:m.jsxs("select",{className:ae("decrec"),value:S.decrec,onChange:A=>de("decrec",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"colegiada/acrdo",children:"colegiada/acrdo"}),m.jsx("option",{value:"monocrtica/singular",children:"Monocrtica/singular"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Cmara (ramo)",children:m.jsxs("select",{className:ae("camaraArea"),value:S.camaraArea,onChange:A=>de("camaraArea",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Cvel",children:"Cvel"}),m.jsx("option",{value:"Crime",children:"Crime"})]})}),m.jsx(fe,{label:"Nmero da Cmara",children:m.jsx("input",{className:ae("camaraNumero","no-spinner"),type:"number",min:1,placeholder:"Ex.: 7",value:S.camaraNumero,onChange:A=>de("camaraNumero",A.target.value)})}),m.jsx(fe,{label:"Prazo em aberto na origem?",children:m.jsxs("select",{className:ae("emaberto"),value:S.emaberto,onChange:A=>de("emaberto",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),m.jsx(fe,{label:"SFH ps 24/03/2024 (filtro especfico)?",children:m.jsxs("select",{className:ae("sfh"),value:S.sfh,onChange:A=>de("sfh",A.target.value),children:[m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"sim",children:"Sim"})]})})]})]}),m.jsx(Vt,{title:"Checklist rpido",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Se for deciso monocrtica, o fluxo deve seguir at a etapa de custas."}),m.jsx("li",{children:" Prazo em aberto ignora contrarrazes (sero tratadas depois)."})]})})]});case"tempest":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Vt,{title:"Tempestividade",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Envio (expedio) da intimao",children:m.jsx("input",{type:"date",className:ae("envio"),value:S.envio,onChange:A=>de("envio",A.target.value)})}),m.jsx(fe,{label:"Consulta eletrnica (leitura)",children:m.jsxs("select",{className:ae("consulta"),value:S.consulta,onChange:A=>de("consulta",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.consulta==="sim"&&m.jsx(fe,{label:"Data da leitura",children:m.jsx("input",{type:"date",className:ae("leitura"),value:S.leitura,onChange:A=>de("leitura",A.target.value)})}),m.jsx(fe,{label:"Regime do prazo",children:m.jsxs("select",{className:ae("eca"),value:S.eca,onChange:A=>de("eca",A.target.value),children:[m.jsx("option",{value:"no",children:"CPC (dias teis)"}),m.jsx("option",{value:"sim",children:"ECA (dias corridos)"})]})}),m.jsx(fe,{label:"Prazo",children:m.jsxs("select",{className:ae("emdobro"),value:S.emdobro,disabled:ti,onChange:A=>de("emdobro",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"simples",children:ya?"Simples (10 dias corridos)":"Simples (15 dias teis)"}),m.jsx("option",{value:"em dobro",children:ya?"Em dobro (20 dias corridos)":"Em dobro (30 dias teis)"})]})}),ti&&m.jsx("p",{className:"text-xs text-slate-500",children:"rgo pblico informado: prazo em dobro aplicado automaticamente."}),m.jsx("p",{className:"md:col-span-2 text-xs text-slate-500",children:"Use prazo em dobro apenas para Defensoria Pblica, MP, NPJ, dativo ou ente pblico."})]}),m.jsxs("div",{className:"mt-4 bg-slate-50 border border-slate-200 rounded-xl p-4",children:[m.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Resultado parcial"}),Ie.tempest.status==="pendente"?m.jsx("div",{className:"text-sm text-slate-500",children:Ie.tempest.mensagem}):m.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-slate-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Intimao:"})," ",Xs(Ie.tempest.intim)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Comeo do prazo:"})," ",Xs(Ie.tempest.comeco)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Prazo:"})," ",Ie.tempest.prazo," dias ",Ie.tempest.prazoTipo??""]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Vencimento:"})," ",Xs(Ie.tempest.venc)]}),m.jsxs("div",{className:"col-span-full flex items-center gap-2 text-sm",children:[Ie.tempest.status==="tempestivo"?m.jsx(T2,{className:"w-4 h-4 text-green-600"}):m.jsx(A2,{className:"w-4 h-4 text-amber-500"}),m.jsx("span",{className:"font-semibold uppercase tracking-tight",children:Ie.tempest.status})]})]})]}),m.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:m.jsxs("a",{href:"https://assessoria-tjpr.github.io/prazos.tjpr.p-sep-ar.interno/",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-red-200 bg-red-600 text-white hover:bg-red-700 hover:shadow-sm transition",children:["Abrir calculadora de prazos",m.jsx(D0,{className:"w-4 h-4"})]})})]}),m.jsx(Vt,{title:"Critrios usados",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Intimao presumida 10 dias aps expedio (aps vinculao no DJEN), salvo leitura antes disso."}),m.jsx("li",{children:" ECA: 10 dias corridos (20 em dobro, quando aplicvel)."}),m.jsx("li",{children:" Considere feriados e decretos de suspenso comprovados no perodo."}),m.jsx("li",{children:" Instabilidade do PROJUDI prorroga apenas se incio ou trmino cair no dia."}),m.jsx("li",{children:" Prazo em dobro: apenas Defensoria Pblica, MP, NPJ, dativo ou ente pblico."})]})})]});case"preparo":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsx(Vt,{title:"Preparo e custas",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Multa por embargos protelatrios",children:m.jsxs("select",{className:ae("multa"),value:S.multa,onChange:A=>de("multa",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"sim, recolhida",children:"Sim, recolhida"}),m.jsx("option",{value:"sim, no recolhida",children:"Sim, no recolhida"})]})}),S.multa==="sim, no recolhida"&&m.jsx(fe,{label:"Motivo",children:m.jsxs("select",{className:ae("motivo"),value:S.motivo,onChange:A=>de("motivo",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Fazenda Pblica ou justia gratuita",children:"Fazenda Pblica ou justia gratuita"}),m.jsx("option",{value:" o prprio objeto do recurso",children:" o prprio objeto do recurso"}),m.jsx("option",{value:"no identificado",children:"No identificado"})]})}),m.jsx(fe,{label:"Dispensa (MP/ente pblico/autarquia)",children:m.jsxs("select",{className:ae("dispensa"),value:S.dispensa,onChange:A=>de("dispensa",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.dispensa==="sim"&&m.jsx("p",{className:"text-xs text-slate-500",children:"Dispensa informada: justia gratuita no  necessria."}),S.dispensa==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Justia gratuita",children:m.jsxs("select",{className:ae("gratuidade"),value:S.gratuidade,onChange:A=>de("gratuidade",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no invocada",children:"No invocada"}),m.jsx("option",{value:"j  ou afirma ser beneficirio",children:"J  ou afirma ser beneficirio"}),m.jsx("option",{value:"requer no recurso em anlise",children:"Requer no recurso em anlise"}),m.jsx("option",{value:" o prprio objeto do recurso",children:" o prprio objeto do recurso"}),m.jsx("option",{value:"presumida (defensor pblico, dativo ou NPJ)",children:"Presumida (defensor pblico, dativo ou NPJ)"})]})}),S.gratuidade==="j  ou afirma ser beneficirio"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Deferida expressamente?",children:m.jsxs("select",{className:ae("deferida"),value:S.deferida,onChange:A=>de("deferida",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.deferida==="sim"&&m.jsx(fe,{label:"Movimento (deferimento)",children:m.jsx("input",{className:ae("movdef"),placeholder:"Ex.: 9.1",value:S.movdef,onChange:A=>de("movdef",A.target.value)})}),S.deferida==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Requerida anteriormente?",children:m.jsxs("select",{className:ae("requerida"),value:S.requerida,onChange:A=>de("requerida",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.requerida==="sim"&&m.jsx(fe,{label:"Movimento (pedido)",children:m.jsx("input",{className:ae("movped"),placeholder:"Ex.: 9.1",value:S.movped,onChange:A=>de("movped",A.target.value)})})]}),m.jsx(fe,{label:"Ato incompatvel (pagamento prvio)?",children:m.jsxs("select",{className:ae("atoincomp"),value:S.atoincomp,onChange:A=>de("atoincomp",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),S.gratuidade==="no invocada"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Comprovao de preparo",children:m.jsxs("select",{className:ae("comprova"),value:S.comprova,onChange:A=>de("comprova",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no prazo para interposio do recurso",children:"No prazo para interposio do recurso"}),m.jsx("option",{value:"no dia til seguinte ao trmino do prazo",children:"No dia til seguinte ao trmino do prazo"}),m.jsx("option",{value:"posteriormente",children:"Posteriormente"}),m.jsx("option",{value:"ausente",children:"Ausente"})]})}),S.comprova==="no dia til seguinte ao trmino do prazo"&&m.jsx(fe,{label:"Recurso interposto no ltimo dia, aps as 16h?",children:m.jsxs("select",{className:ae("apos16"),value:S.apos16,onChange:A=>de("apos16",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})]})}),!ti&&m.jsxs(Vt,{title:"Documentos e valores",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsx(fe,{label:"Movimento GRU (guia/comprovante)",children:m.jsx("input",{className:ae("grumov"),placeholder:"Ex.: 1.2",value:S.grumov,onChange:A=>de("grumov",A.target.value)})}),m.jsx(fe,{label:"Movimento GRU (auto)",children:m.jsx("input",{className:ae("grumovComp"),placeholder:"Ex.: 1.2",value:S.grumovComp,onChange:A=>de("grumovComp",A.target.value)})}),(S.grumov.trim()||S.grumovComp.trim())&&m.jsx(fe,{label:"Nmero do processo na GRU",children:m.jsxs("select",{className:ae("gruProc"),value:S.gruProc,onChange:A=>de("gruProc",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"confere",children:"Confere"}),m.jsx("option",{value:"diverge",children:"Diverge"})]})}),m.jsx("div",{className:"md:col-span-2",children:m.jsxs(fe,{label:`Valor pago ${Ie.stLabel}/FUNJUS`,children:[m.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 mb-2",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:S.usarIntegral,onChange:A=>de("usarIntegral",A.target.checked)}),m.jsx("span",{children:"Usar valor integral devido (preenche automtico)"})]}),m.jsxs("div",{className:"grid gap-2",children:[m.jsx("input",{className:ae("valorst"),type:"number",step:"0.01",placeholder:"STJ/STF",value:S.valorst,onChange:A=>de("valorst",A.target.value)}),m.jsx("input",{className:ae("valorfj"),type:"number",step:"0.01",placeholder:"Funjus",value:S.valorfj,onChange:A=>de("valorfj",A.target.value)})]})]})}),_a&&m.jsx("div",{className:"md:col-span-2",children:m.jsxs(fe,{label:"Justificativa Funjus (valor abaixo do padro)",children:[m.jsx("textarea",{className:ae("funjusObs","h-24 resize-none"),maxLength:400,placeholder:"Descreva o motivo do valor menor.",value:S.funjusObs,onChange:A=>de("funjusObs",A.target.value)}),As&&m.jsx("span",{className:"text-xs text-rose-600",children:"Informe o motivo do valor menor."})]})}),m.jsx(fe,{label:"Movimento FUNJUS (guia/comprovante)",children:m.jsx("input",{className:ae("funjusmov"),placeholder:"Ex.: 1.5",value:S.funjusmov,onChange:A=>de("funjusmov",A.target.value)})}),m.jsx(fe,{label:"Juntou guia?",children:m.jsxs("select",{className:ae("guia"),value:S.guia,onChange:A=>de("guia",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.guia==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Guia original para o recurso?",children:m.jsxs("select",{className:ae("guiorig"),value:S.guiorig,onChange:A=>de("guiorig",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),m.jsx(fe,{label:"Nmero do processo na guia",children:m.jsxs("select",{className:ae("funjusProc"),value:S.funjusProc,onChange:A=>de("funjusProc",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"confere",children:"Confere"}),m.jsx("option",{value:"diverge",children:"Diverge"})]})})]}),m.jsx(fe,{label:"Juntou comprovante?",children:m.jsxs("select",{className:ae("comp"),value:S.comp,onChange:A=>de("comp",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.comp==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Tipo de comprovante",children:m.jsxs("select",{className:ae("comptipo"),value:S.comptipo,onChange:A=>de("comptipo",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"de pagamento",children:"De pagamento"}),m.jsx("option",{value:"de agendamento",children:"De agendamento"})]})}),m.jsx(fe,{label:"Cdigo de barras",children:m.jsxs("select",{className:ae("codbar"),value:S.codbar,onChange:A=>de("codbar",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"confere",children:"Confere"}),m.jsx("option",{value:"diverge ou guia ausente",children:"Diverge ou guia ausente"})]})})]}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(fe,{label:"COHAB LD? (parcial Funjus)",children:m.jsxs("select",{className:ae("parcialTipo"),value:S.parcialTipo,onChange:A=>de("parcialTipo",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"JG parcial",children:"JG parcial"}),m.jsx("option",{value:"COHAB Londrina",children:"COHAB Londrina"}),m.jsx("option",{value:"outros",children:"Outros (especificar)"})]})})}),S.parcialTipo==="outros"&&m.jsx("div",{className:"md:col-span-2",children:m.jsx(fe,{label:"Descrever pagamento parcial",children:m.jsx("input",{className:ae("parcialOutro"),placeholder:"Ex.: parcelamento, precatrio, etc.",value:S.parcialOutro,onChange:A=>de("parcialOutro",A.target.value)})})})]}),S.interp?m.jsxs("div",{className:"mt-4 space-y-1 text-sm text-slate-600",children:[m.jsxs("div",{children:["Valores devidos agora: ",Ie.stLabel," ",gr(Ie.deverST)," | FUNJUS"," ",gr(Ie.deverFJ)]}),m.jsxs("div",{className:"text-xs text-slate-500",children:["Base aplicada: ",Ie.stLabel," ",g2(Ie.stRateStart)," | FUNJUS"," ",g2(Ie.fjRateStart)]})]}):m.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Informe a data de interposio para calcular as custas automaticamente."})]}),!ti&&m.jsx(Vt,{title:"Notas prticas",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Marque de agendamento se o comprovante no tem autenticao."}),m.jsx("li",{children:" Se houver ato incompatvel com a gratuidade, o preparo ser exigido."}),m.jsx("li",{children:" Campos de movimento ajudam a gerar a minuta/post-it automaticamente."})]})})]});case"processo":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[S.emaberto==="sim"&&m.jsx("div",{className:"lg:col-span-2 rounded-2xl border border-slate-200/80 bg-white/80 text-slate-700 p-4 text-sm shadow-sm",children:"Prazo em aberto na origem: contrarrazes podem ser tratadas depois. Preencha apenas se j houver dados."}),m.jsx(Vt,{title:"Representao",children:ti?m.jsx("p",{className:"text-sm text-slate-600",children:"rgo pblico informado: procurao dispensada."}):m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Subscritor",children:m.jsxs("select",{className:ae("subscritor"),value:S.subscritor,onChange:A=>de("subscritor",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"advogado particular",children:"Advogado particular"}),m.jsx("option",{value:"procurador pblico",children:"Procurador pblico"}),m.jsx("option",{value:"procurador nomeado",children:"Procurador nomeado"}),m.jsx("option",{value:"advogado em causa prpria",children:"Advogado em causa prpria"})]})}),S.subscritor==="procurador nomeado"&&m.jsx(fe,{label:"Movimento (nomeao)",children:m.jsx("input",{className:ae("nomemovi"),placeholder:"Ex.: 9.1",value:S.nomemovi,onChange:A=>de("nomemovi",A.target.value)})}),S.subscritor==="advogado particular"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Movimentos (cadeia de poderes)",children:m.jsx("input",{className:ae("movis"),placeholder:"Ex.: 1.1; 9.1; via sistema",value:S.movis,onChange:A=>de("movis",A.target.value)})}),m.jsx(fe,{label:"Cadeia completa?",children:m.jsxs("select",{className:ae("cadeia"),value:S.cadeia,onChange:A=>de("cadeia",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.cadeia==="no"&&m.jsx(fe,{label:"Poderes faltantes",children:m.jsxs("select",{className:ae("faltante"),value:S.faltante,onChange:A=>de("faltante",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"ao prprio subscritor",children:"Ao prprio subscritor"}),m.jsx("option",{value:"a outro elo da cadeia",children:"A outro elo da cadeia"})]})})]})]})}),m.jsx(Vt,{title:"Pedidos",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Efeito suspensivo",children:m.jsxs("select",{className:ae("suspefeito"),value:S.suspefeito,onChange:A=>de("suspefeito",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no requerido",children:"No requerido"}),m.jsx("option",{value:"requerido no corpo do recurso",children:"Requerido no corpo do recurso"}),m.jsx("option",{value:"requerido em petio apartada",children:"Requerido em petio apartada"})]})}),S.suspefeito==="requerido em petio apartada"&&m.jsx(fe,{label:"Autuado?",children:m.jsxs("select",{className:ae("autuado"),value:S.autuado,onChange:A=>de("autuado",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),m.jsx(fe,{label:"Exclusividade na intimao",children:m.jsxs("select",{className:ae("exclusivi"),value:S.exclusivi,onChange:A=>de("exclusivi",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"requerida",children:"Requerida"}),m.jsx("option",{value:"no requerida",children:"No requerida"})]})}),S.exclusivi==="requerida"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Nome indicado para exclusividade",children:m.jsx("input",{className:ae("exclusNome"),placeholder:"Ex.: CARLOS AUGUSTO TORTORO JUNIOR",value:S.exclusNome,onChange:A=>de("exclusNome",A.target.value)})}),m.jsx(fe,{label:"Procurador j cadastrado?",children:m.jsxs("select",{className:ae("cadastrada"),value:S.cadastrada,onChange:A=>de("cadastrada",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.cadastrada==="no"&&m.jsx(fe,{label:"Advogado regularmente constitudo?",children:m.jsxs("select",{className:ae("regular"),value:S.regular,onChange:A=>de("regular",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})}),m.jsx(Vt,{title:"Processamento",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(fe,{label:"Contrarrazes",children:m.jsxs("select",{className:ae("contrarra"),value:S.contrarra,onChange:A=>de("contrarra",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"apresentadas",children:"Apresentadas"}),m.jsx("option",{value:"ausente alguma",children:"Ausente alguma"}),m.jsx("option",{value:"ausentes",children:"Ausentes"})]})}),S.contrarra!==""&&S.contrarra!=="ausentes"&&m.jsx(fe,{label:"Movimentos das contrarrazes/renncia",children:m.jsx("input",{className:ae("contramovis"),placeholder:"Ex.: 6.1; 7.1 (renncia)",value:S.contramovis,onChange:A=>de("contramovis",A.target.value)})}),S.contrarra!=="apresentadas"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Recorrido(s) intimado(s)?",children:m.jsxs("select",{className:ae("intimado"),value:S.intimado,onChange:A=>de("intimado",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.intimado==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Movimento de intimao",children:m.jsx("input",{className:ae("intimovi"),placeholder:"Ex.: 3.1",value:S.intimovi,onChange:A=>de("intimovi",A.target.value)})}),m.jsx(fe,{label:"Prazo em aberto para algum recorrido?",children:m.jsxs("select",{className:ae("crraberto"),value:S.crraberto,onChange:A=>de("crraberto",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.crraberto==="no"&&m.jsx(fe,{label:"Decurso certificado?",children:m.jsxs("select",{className:ae("decursocrr"),value:S.decursocrr,onChange:A=>de("decursocrr",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),S.intimado==="no"&&m.jsx(fe,{label:"Recorrido(s) sem advogado constitudo?",children:m.jsxs("select",{className:ae("semadv"),value:S.semadv,onChange:A=>de("semadv",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),m.jsx(fe,{label:"Interveno do MP?",children:m.jsxs("select",{className:ae("emepe"),value:S.emepe,onChange:A=>de("emepe",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.emepe==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Manifestao nos autos?",children:m.jsxs("select",{className:ae("mani"),value:S.mani,onChange:A=>de("mani",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.mani==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Teor da manifestao",children:m.jsxs("select",{className:ae("teormani"),value:S.teormani,onChange:A=>de("teormani",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"mera cincia",children:"Mera cincia"}),m.jsx("option",{value:"pela admisso",children:"Pela admisso"}),m.jsx("option",{value:"pela inadmisso",children:"Pela inadmisso"}),m.jsx("option",{value:"ausncia de interesse",children:"Ausncia de interesse"})]})}),m.jsx(fe,{label:"Movimento",children:m.jsx("input",{className:ae("manimovis"),placeholder:"Ex.: 9.1",value:S.manimovis,onChange:A=>de("manimovis",A.target.value)})}),S.teormani==="mera cincia"&&m.jsx(fe,{label:"Decurso do prazo?",children:m.jsxs("select",{className:ae("decursomp"),value:S.decursomp,onChange:A=>de("decursomp",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),S.mani==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(fe,{label:"Autos remetidos?",children:m.jsxs("select",{className:ae("remetido"),value:S.remetido,onChange:A=>de("remetido",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.remetido==="sim"&&m.jsx(fe,{label:"Decurso do prazo?",children:m.jsxs("select",{className:ae("decursomp"),value:S.decursomp,onChange:A=>de("decursomp",A.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})]})})]});case"resumo":return m.jsxs("div",{className:"space-y-4",children:[m.jsx(Vt,{title:"Resultado da triagem",children:(()=>{const A=eb(S,Ie),Q=se=>{if(!se)return"";const we=se.split(`
`);return we.map((Ve,et)=>m.jsxs(kT.Fragment,{children:[Ve,et<we.length-1?m.jsx("br",{}):null]},`${Ve}-${et}`))};return m.jsx("div",{className:"space-y-3 text-sm text-slate-800",children:m.jsxs("table",{className:"w-full border-collapse text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 bg-white/80 px-3 py-2 text-left font-semibold text-slate-800",children:A.headerLeft}),m.jsx("th",{className:"border border-slate-200 bg-white/80 px-3 py-2 text-right font-semibold text-slate-800",children:A.headerRight})]})}),m.jsx("tbody",{children:A.rows.map((se,we)=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-200 px-3 py-2 font-semibold text-slate-700",children:Q(se.label)}),m.jsx("td",{className:"border border-slate-200 px-3 py-2 text-slate-800",children:Q(se.value)})]},`${se.label}-${we}`))})]})})})()}),m.jsx("div",{className:"grid lg:grid-cols-2 gap-4",children:m.jsx(Vt,{title:"Notas rpidas (salvas no navegador)",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("textarea",{className:ae("anotacoes","h-32 resize-none"),maxLength:900,placeholder:"Pendncias especficas, nomes de partes, nmeros de telefone...",value:S.anotacoes,onChange:A=>de("anotacoes",A.target.value)}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[m.jsx("span",{children:"Anotaes guardadas apenas neste dispositivo."}),m.jsxs("span",{children:[S.anotacoes.length,"/900"]})]})]})})}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("button",{onClick:nr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[m.jsx(Nm,{className:"w-4 h-4"}),K?"Copiado!":"Copiar resumo"]}),m.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:K?"Resumo copiado para a rea de transferncia.":""})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[m.jsxs(zt,{children:[Ie.stLabel,": ",gr(Ie.deverST)," | FUNJUS: ",gr(Ie.deverFJ)]}),m.jsxs(zt,{children:["Intimao: ",Xs(Ie.tempest.intim)]}),m.jsxs(zt,{children:["Comeo do prazo: ",Xs(Ie.tempest.comeco)]})]})]});default:return null}})();return x?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsx(zt,{tone:Or===0?"success":"warning",children:Or===0?"Etapa completa":`${Or} campo(s) pendente(s)`}),Or>0&&m.jsx("span",{className:"text-xs text-slate-500",children:"Complete os campos pendentes para avanar."})]}),x]}):null},zr=Ie.tempest.status==="tempestivo"?"positive":Ie.tempest.status==="intempestivo"?"negative":"neutral",zi=S.contrarra==="apresentadas"?"positive":S.contrarra==="ausentes"||S.contrarra==="ausente alguma"?"negative":"neutral",zn=it?`Salvo s ${wI(it)}`:"Salvamento local",$t=Math.round(He/($a.length-1)*100);return rp?l?!r||!n?Si():m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 relative page-enter",children:[m.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[m.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-amber-200/30 blur-3xl"}),m.jsx("div",{className:"absolute top-6 right-[-5rem] h-64 w-64 rounded-full bg-teal-200/30 blur-3xl"}),m.jsx("div",{className:"absolute bottom-[-8rem] left-10 h-80 w-80 rounded-full bg-sky-200/30 blur-3xl"})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("header",{className:"header-surface border-b border-white/60 bg-white/75 backdrop-blur-2xl shadow-[0_25px_70px_-50px_rgba(15,23,42,0.55)]",children:[m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-5 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-11 w-11 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:m.jsx("img",{src:m2,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs uppercase tracking-[0.22em] text-slate-500",children:"Simba-JUD"}),m.jsx("h1",{className:"text-xl font-semibold text-slate-900 leading-tight font-display",children:"Admissibilidade Recursal"})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[m.jsx(zt,{children:zn}),m.jsxs("div",{className:"user-chip flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1 shadow-sm",children:[m.jsx("div",{className:"avatar-surface h-6 w-6 rounded-full overflow-hidden border border-slate-200 bg-white flex items-center justify-center",children:m.jsx("span",{className:"text-[10px] font-semibold text-slate-600",children:y2(n.name||n.email)})}),m.jsx("span",{className:"text-xs font-semibold text-slate-700",children:n.name||n.email})]}),m.jsxs(zt,{children:["Triagens: ",n.triageCount||0]}),Me&&m.jsx(zt,{tone:"success",children:"Admin"})]}),m.jsx("button",{onClick:()=>Ge(x=>!x),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:Ne?"Fechar perfil":"Perfil"}),Me&&m.jsxs("button",{onClick:()=>Rn(x=>!x),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition inline-flex items-center",children:[Cr?"Fechar admin":"Administrao",Tt>0&&m.jsx("span",{className:"ml-2 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[10px] px-2 py-0.5",children:Tt})]}),m.jsx("button",{onClick:Rs,className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Sair"}),m.jsx("button",{onClick:()=>ot("Isso vai limpar a triagem atual. Deseja continuar?"),className:"text-sm px-3 py-2 rounded-lg border border-slate-900 bg-slate-900 text-white hover:bg-black transition shadow-sm",children:"Recomear"})]})]}),m.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-4",children:[m.jsx("div",{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":$t,"aria-label":"Progresso da triagem",className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 transition-all",style:{width:`${$t}%`}})}),m.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Etapa ",He+1," de ",$a.length,": ",$a[He].label]}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 md:hidden",children:[m.jsx(zt,{children:zn}),m.jsx(zt,{children:n.name||n.email}),m.jsxs(zt,{children:["Triagens: ",n.triageCount||0]}),Me&&m.jsx(zt,{tone:"success",children:"Admin"})]}),m.jsx("div",{className:"mt-4 flex items-center gap-2 overflow-x-auto pb-2","aria-label":"Etapas",children:$a.map((x,A)=>m.jsx(FI,{label:x.label,icon:x.icon,active:He===A,onClick:()=>Et(A)},x.id))})]})]}),m.jsxs("main",{ref:Un,className:"max-w-7xl mx-auto px-4 py-8",children:[Is(),Lr(),m.jsxs("div",{className:"grid lg:grid-cols-[2fr_1fr] gap-5 items-start",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"main-surface bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-40px_rgba(15,23,42,0.5)]",children:[m.jsx("div",{className:"animate-fade-in",children:Ds()}),m.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[m.jsxs("button",{onClick:ai,disabled:He===0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-300 text-slate-800 bg-white disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-sm transition",children:[m.jsx(YT,{className:"w-4 h-4"}),"Voltar"]}),He<$a.length-1?m.jsxs("button",{onClick:sr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-slate-900 to-slate-800 text-white hover:from-slate-950 hover:to-slate-900 transition shadow-sm",children:["Avanar",m.jsx($T,{className:"w-4 h-4"})]}):m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("button",{onClick:()=>ot("Isso vai limpar a triagem atual. Deseja iniciar outra?",()=>{kr()}),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 transition shadow-sm",children:["Nova triagem",m.jsx(D0,{className:"w-4 h-4"})]}),m.jsxs("button",{onClick:Pt,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-red-300 bg-red-600 text-white hover:bg-red-700 hover:shadow-sm transition",children:[m.jsx(S2,{className:"w-4 h-4"}),"Baixar resumo"]})]})]})]})}),m.jsxs("aside",{className:"space-y-3 lg:sticky lg:top-20",children:[m.jsx(Vt,{title:"Resumo",children:m.jsxs("div",{className:"grid gap-3",children:[m.jsx(E2,{label:"Tempestividade",value:Ie.tempest.status,helper:`Vencimento: ${Xs(Ie.tempest.venc)}`,tone:zr}),m.jsx(E2,{label:"Contrarrazes",value:Ie.controut,helper:S.emaberto==="sim"?"Prazo em aberto na origem":"Fluxo em andamento",tone:zi})]})}),m.jsxs(Vt,{title:"Consequncias automticas",children:[bs.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum comando gerado at agora."}):m.jsx("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-700",children:bs.map((x,A)=>m.jsx("li",{children:x},A))}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsxs("button",{onClick:xs,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[m.jsx(Nm,{className:"w-4 h-4"}),Ee?"Copiado!":"Copiar consequncias"]}),m.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:Ee?"Consequncias copiadas para a rea de transferncia.":""})]})]})]})]})]})]}),m.jsx(ch,{})]}):m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:[m.jsx(Vt,{title:"Carregando",children:m.jsx("p",{className:"text-sm text-slate-600",children:"Preparando o acesso seguro..."})}),m.jsx(ch,{})]}):m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:[m.jsx(Vt,{title:"Configurao necessria",children:m.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[m.jsx("p",{children:"Configure as variveis do Firebase para habilitar autenticao e perfis de usurio."}),m.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[m.jsx("li",{children:"`VITE_FIREBASE_API_KEY`"}),m.jsx("li",{children:"`VITE_FIREBASE_AUTH_DOMAIN`"}),m.jsx("li",{children:"`VITE_FIREBASE_PROJECT_ID`"}),m.jsx("li",{children:"`VITE_FIREBASE_APP_ID`"})]}),m.jsx("p",{children:"Depois reinicie o servidor."})]})}),m.jsx(ch,{})]})},QI=HT.createRoot(document.getElementById("root"));QI.render(m.jsx(GI,{}));const tb=document.createElement("style");tb.innerHTML=`
.page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(249, 115, 22, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(20, 184, 166, 0.12), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(56, 189, 248, 0.12), transparent 40%),
    linear-gradient(180deg, #f8fafc 0%, #eef2f7 55%, #f1f5f9 100%);
  background-size: 200% 200%;
  animation: flowDrift 18s ease-in-out infinite alternate;
  transition: background 0.35s ease;
}
.page-bg ::selection {
  background: rgba(249, 115, 22, 0.18);
  color: #0f172a;
}
.watermark {
  color: #0f172a;
}
.page-enter {
  animation: pageIn 0.45s ease both;
}
@keyframes pageIn {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes flowDrift {
  0% {
    background-position: 0% 20%;
  }
  100% {
    background-position: 100% 80%;
  }
}
@keyframes flowIn {
  from {
    opacity: 0;
    transform: translateY(18px) scale(0.985);
    filter: blur(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}
.animate-fade-in {
  animation: flowIn 0.55s cubic-bezier(0.22, 1, 0.36, 1) both;
}
.card-surface,
.main-surface,
.header-surface,
.metric-surface,
.pill,
.step-chip,
.input {
  transition: background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease,
    color 0.25s ease, transform 0.2s ease;
  will-change: transform;
}
.card-surface:hover,
.main-surface:hover {
  transform: translateY(-3px);
}
.metric-surface:hover {
  transform: translateY(-2px);
}
.step-chip:hover {
  transform: translateY(-1px);
}
button:active {
  transform: translateY(1px);
}
.theme-dark body {
  color: #e2e8f0;
  background: #0b1220;
}
.theme-dark {
  color-scheme: dark;
}
.theme-dark .page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(148, 163, 184, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(56, 189, 248, 0.08), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(45, 212, 191, 0.1), transparent 40%),
    linear-gradient(180deg, #0b1220 0%, #0f172a 60%, #111827 100%);
  background-size: 200% 200%;
}
.theme-dark .bg-white,
.theme-dark .bg-white\\/85,
.theme-dark .bg-white\\/80,
.theme-dark .bg-white\\/75,
.theme-dark .bg-white\\/70 {
  background-color: rgba(15, 23, 42, 0.85) !important;
}
.theme-dark .bg-slate-50,
.theme-dark .bg-slate-100 {
  background-color: rgba(30, 41, 59, 0.75) !important;
}
.theme-dark .bg-amber-50 {
  background-color: rgba(120, 53, 15, 0.3) !important;
}
.theme-dark .bg-emerald-50 {
  background-color: rgba(6, 95, 70, 0.3) !important;
}
.theme-dark .bg-rose-50 {
  background-color: rgba(159, 18, 57, 0.28) !important;
}
.theme-dark .watermark {
  color: #f8fafc;
}
.theme-dark .header-surface {
  background: rgba(15, 23, 42, 0.82);
  border-color: rgba(148, 163, 184, 0.2);
}
.theme-dark .card-surface,
.theme-dark .main-surface {
  background: rgba(15, 23, 42, 0.85);
  border-color: rgba(148, 163, 184, 0.2);
  box-shadow: 0 24px 50px -40px rgba(0, 0, 0, 0.6);
}
.theme-dark .user-chip {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(148, 163, 184, 0.3);
}
.theme-dark .avatar-surface {
  background: rgba(15, 23, 42, 0.95);
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .metric-surface {
  background: rgba(30, 41, 59, 0.75);
  border-color: rgba(148, 163, 184, 0.2);
  color: #e2e8f0;
}
.theme-dark .pill {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(148, 163, 184, 0.25);
  color: #e2e8f0;
}
.theme-dark .step-chip {
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .step-chip[aria-current='step'] {
  background: #0f172a;
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .input {
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(148, 163, 184, 0.55);
  color: #0f172a;
  box-shadow: inset 0 1px 0 rgba(15, 23, 42, 0.08);
}
.theme-dark select.input {
  background-color: rgba(255, 255, 255, 0.92) !important;
  color: #0f172a;
}
.theme-dark select.input option {
  background-color: #ffffff;
  color: #0f172a;
}
.theme-dark .input::placeholder {
  color: #64748b;
}
.theme-dark .input:focus {
  box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.25);
  border-color: rgba(56, 189, 248, 0.6);
}
.theme-dark .text-slate-900,
.theme-dark .text-slate-800,
.theme-dark .text-slate-700 {
  color: #e2e8f0 !important;
}
.theme-dark .text-slate-600,
.theme-dark .text-slate-500 {
  color: rgba(226, 232, 240, 0.75) !important;
}
.theme-dark .text-slate-400 {
  color: rgba(226, 232, 240, 0.6) !important;
}
.theme-dark .text-amber-800,
.theme-dark .text-amber-700 {
  color: #fcd34d !important;
}
.theme-dark .text-emerald-700 {
  color: #6ee7b7 !important;
}
.theme-dark .text-rose-700 {
  color: #fda4af !important;
}
.theme-dark .border-slate-200 {
  border-color: rgba(148, 163, 184, 0.3) !important;
}
.theme-dark .border-white\\/80,
.theme-dark .border-white\\/70,
.theme-dark .border-white\\/60 {
  border-color: rgba(148, 163, 184, 0.25) !important;
}
.theme-dark .border-amber-200 {
  border-color: rgba(251, 191, 36, 0.35) !important;
}
.theme-dark .border-emerald-200 {
  border-color: rgba(52, 211, 153, 0.3) !important;
}
.theme-dark .border-rose-200 {
  border-color: rgba(251, 113, 133, 0.35) !important;
}
.input {
  width: 100%;
  border-radius: 0.45rem;
  border: 1px solid rgba(226, 232, 240, 0.95);
  padding: 0.5rem 0.75rem;
  background: rgba(255, 255, 255, 0.9);
  color: #0f172a;
  font-size: 0.875rem;
  line-height: 1.4;
  min-height: 2.5rem;
  box-sizing: border-box;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.input.rounded-r-none {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.input::placeholder {
  color: #94a3b8;
}
.input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-error {
  border-color: rgba(226, 232, 240, 0.95);
  background: rgba(255, 255, 255, 0.9);
}
.input-error:focus {
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-success {
  border-color: rgba(16, 185, 129, 0.7);
  background: rgba(236, 253, 245, 0.6);
}
.input-success:focus {
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.85);
}
.theme-dark .input.rounded-r-none {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.no-spinner::-webkit-outer-spin-button,
.no-spinner::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.no-spinner {
  -moz-appearance: textfield;
  appearance: textfield;
}
@media (prefers-reduced-motion: reduce) {
  .page-enter {
    animation: none !important;
  }
  .page-bg {
    animation: none !important;
  }
  .card-surface,
  .main-surface,
  .header-surface,
  .metric-surface,
  .pill,
  .step-chip,
  .input,
  button {
    transition: none !important;
    transform: none !important;
  }
  .animate-fade-in {
    animation: none !important;
  }
}
`;document.head.appendChild(tb);
