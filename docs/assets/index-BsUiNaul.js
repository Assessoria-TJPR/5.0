(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function VT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var om={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function jT(){if(Av)return su;Av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:f,ref:l!==void 0?l:null,props:u}}return su.Fragment=e,su.jsx=n,su.jsxs=n,su}var Sv;function kT(){return Sv||(Sv=1,om.exports=jT()),om.exports}var y=kT(),lm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function PT(){if(wv)return Oe;wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.iterator;function Q(k){return k===null||typeof k!="object"?null:(k=M&&k[M]||k["@@iterator"],typeof k=="function"?k:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,ee={};function be(k,$,le){this.props=k,this.context=$,this.refs=ee,this.updater=le||te}be.prototype.isReactComponent={},be.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},be.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Se(){}Se.prototype=be.prototype;function he(k,$,le){this.props=k,this.context=$,this.refs=ee,this.updater=le||te}var de=he.prototype=new Se;de.constructor=he,ae(de,be.prototype),de.isPureReactComponent=!0;var ye=Array.isArray;function pe(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function D(k,$,le){var ue=le.ref;return{$$typeof:r,type:k,key:$,ref:ue!==void 0?ue:null,props:le}}function P(k,$){return D(k.type,$,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function A(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return $[le]})}var C=/\/+/g;function je(k,$){return typeof k=="object"&&k!==null&&k.key!=null?A(""+k.key):$.toString(36)}function et(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(pe,pe):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Y(k,$,le,ue,xe){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Be=!1;if(k===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(k.$$typeof){case r:case e:Be=!0;break;case T:return Be=k._init,Y(Be(k._payload),$,le,ue,xe)}}if(Be)return xe=xe(k),Be=ue===""?"."+je(k,0):ue,ye(xe)?(le="",Be!=null&&(le=Be.replace(C,"$&/")+"/"),Y(xe,$,le,"",function(rr){return rr})):xe!=null&&(V(xe)&&(xe=P(xe,le+(xe.key==null||k&&k.key===xe.key?"":(""+xe.key).replace(C,"$&/")+"/")+Be)),$.push(xe)),1;Be=0;var kt=ue===""?".":ue+":";if(ye(k))for(var ft=0;ft<k.length;ft++)ue=k[ft],Ne=kt+je(ue,ft),Be+=Y(ue,$,le,Ne,xe);else if(ft=Q(k),typeof ft=="function")for(k=ft.call(k),ft=0;!(ue=k.next()).done;)ue=ue.value,Ne=kt+je(ue,ft++),Be+=Y(ue,$,le,Ne,xe);else if(Ne==="object"){if(typeof k.then=="function")return Y(et(k),$,le,ue,xe);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Be}function se(k,$,le){if(k==null)return k;var ue=[],xe=0;return Y(k,ue,"","",function(Ne){return $.call(le,Ne,xe++)}),ue}function _e(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var He=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},tt={map:se,forEach:function(k,$,le){se(k,function(){$.apply(this,arguments)},le)},count:function(k){var $=0;return se(k,function(){$++}),$},toArray:function(k){return se(k,function($){return $})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Oe.Activity=R,Oe.Children=tt,Oe.Component=be,Oe.Fragment=n,Oe.Profiler=l,Oe.PureComponent=he,Oe.StrictMode=a,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(k,$,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=ae({},k.props),xe=k.key;if($!=null)for(Ne in $.key!==void 0&&(xe=""+$.key),$)!N.call($,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&$.ref===void 0||(ue[Ne]=$[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=le;else if(1<Ne){for(var Be=Array(Ne),kt=0;kt<Ne;kt++)Be[kt]=arguments[kt+2];ue.children=Be}return D(k.type,xe,ue)},Oe.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Oe.createElement=function(k,$,le){var ue,xe={},Ne=null;if($!=null)for(ue in $.key!==void 0&&(Ne=""+$.key),$)N.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(xe[ue]=$[ue]);var Be=arguments.length-2;if(Be===1)xe.children=le;else if(1<Be){for(var kt=Array(Be),ft=0;ft<Be;ft++)kt[ft]=arguments[ft+2];xe.children=kt}if(k&&k.defaultProps)for(ue in Be=k.defaultProps,Be)xe[ue]===void 0&&(xe[ue]=Be[ue]);return D(k,Ne,xe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:p,render:k}},Oe.isValidElement=V,Oe.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:_e}},Oe.memo=function(k,$){return{$$typeof:_,type:k,compare:$===void 0?null:$}},Oe.startTransition=function(k){var $=I.T,le={};I.T=le;try{var ue=k(),xe=I.S;xe!==null&&xe(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(pe,He)}catch(Ne){He(Ne)}finally{$!==null&&le.types!==null&&($.types=le.types),I.T=$}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(k){return I.H.use(k)},Oe.useActionState=function(k,$,le){return I.H.useActionState(k,$,le)},Oe.useCallback=function(k,$){return I.H.useCallback(k,$)},Oe.useContext=function(k){return I.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,$){return I.H.useDeferredValue(k,$)},Oe.useEffect=function(k,$){return I.H.useEffect(k,$)},Oe.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(k,$,le){return I.H.useImperativeHandle(k,$,le)},Oe.useInsertionEffect=function(k,$){return I.H.useInsertionEffect(k,$)},Oe.useLayoutEffect=function(k,$){return I.H.useLayoutEffect(k,$)},Oe.useMemo=function(k,$){return I.H.useMemo(k,$)},Oe.useOptimistic=function(k,$){return I.H.useOptimistic(k,$)},Oe.useReducer=function(k,$,le){return I.H.useReducer(k,$,le)},Oe.useRef=function(k){return I.H.useRef(k)},Oe.useState=function(k){return I.H.useState(k)},Oe.useSyncExternalStore=function(k,$,le){return I.H.useSyncExternalStore(k,$,le)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.3",Oe}var xv;function lp(){return xv||(xv=1,lm.exports=PT()),lm.exports}var re=lp();const UT=VT(re);var um={exports:{}},ou={},cm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function LT(){return Rv||(Rv=1,(function(r){function e(Y,se){var _e=Y.length;Y.push(se);e:for(;0<_e;){var He=_e-1>>>1,tt=Y[He];if(0<l(tt,se))Y[He]=se,Y[_e]=tt,_e=He;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var se=Y[0],_e=Y.pop();if(_e!==se){Y[0]=_e;e:for(var He=0,tt=Y.length,k=tt>>>1;He<k;){var $=2*(He+1)-1,le=Y[$],ue=$+1,xe=Y[ue];if(0>l(le,_e))ue<tt&&0>l(xe,le)?(Y[He]=xe,Y[ue]=_e,He=ue):(Y[He]=le,Y[$]=_e,He=$);else if(ue<tt&&0>l(xe,_e))Y[He]=xe,Y[ue]=_e,He=ue;else break e}}return se}function l(Y,se){var _e=Y.sortIndex-se.sortIndex;return _e!==0?_e:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],_=[],T=1,R=null,M=3,Q=!1,te=!1,ae=!1,ee=!1,be=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function de(Y){for(var se=n(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=Y)a(_),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(_)}}function ye(Y){if(ae=!1,de(Y),!te)if(n(g)!==null)te=!0,pe||(pe=!0,A());else{var se=n(_);se!==null&&et(ye,se.startTime-Y)}}var pe=!1,I=-1,N=5,D=-1;function P(){return ee?!0:!(r.unstable_now()-D<N)}function V(){if(ee=!1,pe){var Y=r.unstable_now();D=Y;var se=!0;try{e:{te=!1,ae&&(ae=!1,Se(I),I=-1),Q=!0;var _e=M;try{t:{for(de(Y),R=n(g);R!==null&&!(R.expirationTime>Y&&P());){var He=R.callback;if(typeof He=="function"){R.callback=null,M=R.priorityLevel;var tt=He(R.expirationTime<=Y);if(Y=r.unstable_now(),typeof tt=="function"){R.callback=tt,de(Y),se=!0;break t}R===n(g)&&a(g),de(Y)}else a(g);R=n(g)}if(R!==null)se=!0;else{var k=n(_);k!==null&&et(ye,k.startTime-Y),se=!1}}break e}finally{R=null,M=_e,Q=!1}se=void 0}}finally{se?A():pe=!1}}}var A;if(typeof he=="function")A=function(){he(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,je=C.port2;C.port1.onmessage=V,A=function(){je.postMessage(null)}}else A=function(){be(V,0)};function et(Y,se){I=be(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(Y){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var _e=M;M=se;try{return Y()}finally{M=_e}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var _e=M;M=Y;try{return se()}finally{M=_e}},r.unstable_scheduleCallback=function(Y,se,_e){var He=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?He+_e:He):_e=He,Y){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=_e+tt,Y={id:T++,callback:se,priorityLevel:Y,startTime:_e,expirationTime:tt,sortIndex:-1},_e>He?(Y.sortIndex=_e,e(_,Y),n(g)===null&&Y===n(_)&&(ae?(Se(I),I=-1):ae=!0,et(ye,_e-He))):(Y.sortIndex=tt,e(g,Y),te||Q||(te=!0,pe||(pe=!0,A()))),Y},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Y){var se=M;return function(){var _e=M;M=se;try{return Y.apply(this,arguments)}finally{M=_e}}}})(hm)),hm}var Cv;function zT(){return Cv||(Cv=1,cm.exports=LT()),cm.exports}var fm={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function BT(){if(Iv)return Rn;Iv=1;var r=lp();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,_,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:g,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Rn.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,T)},Rn.flushSync=function(g){var _=f.T,T=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=_,a.p=T,a.d.f()}},Rn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},Rn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Rn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,R=p(T,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:M,fetchPriority:Q}):T==="script"&&a.d.X(g,{crossOrigin:R,integrity:M,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Rn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},Rn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,R=p(T,_.crossOrigin);a.d.L(g,T,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Rn.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},Rn.requestFormReset=function(g){a.d.r(g)},Rn.unstable_batchedUpdates=function(g,_){return g(_)},Rn.useFormState=function(g,_,T){return f.H.useFormState(g,_,T)},Rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Rn.version="19.2.3",Rn}var Nv;function qT(){if(Nv)return fm.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=BT(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function HT(){if(Dv)return ou;Dv=1;var r=zT(),e=lp(),n=qT();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(a(188))}function _(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,o=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),t;if(d===o)return g(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===s){v=!0,s=h,o=d;break}if(E===o){v=!0,o=h,s=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===s){v=!0,s=d,o=h;break}if(E===o){v=!0,o=d,s=h;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var R=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),he=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function A(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case be:return"Profiler";case ee:return"StrictMode";case ye:return"Suspense";case pe:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case he:return t.displayName||"Context";case Se:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:je(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return je(t(i))}catch{}}return null}var et=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},He=[],tt=-1;function k(t){return{current:t}}function $(t){0>tt||(t.current=He[tt],He[tt]=null,tt--)}function le(t,i){tt++,He[tt]=t.current,t.current=i}var ue=k(null),xe=k(null),Ne=k(null),Be=k(null);function kt(t,i){switch(le(Ne,i),le(xe,t),le(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Q0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Q0(i),t=Y0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ue),le(ue,t)}function ft(){$(ue),$(xe),$(Ne)}function rr(t){t.memoizedState!==null&&le(Be,t);var i=ue.current,s=Y0(i,t.type);i!==s&&(le(xe,t),le(ue,s))}function Mr(t){xe.current===t&&($(ue),$(xe)),Be.current===t&&($(Be),nu._currentValue=_e)}var En,Vr;function Zn(t){if(En===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);En=i&&i[1]||"",Vr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+En+t+Vr}var va=!1;function Tn(t,i){if(!t||va)return"";va=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){q=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var O=v.split(`
`),B=E.split(`
`);for(h=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===O.length||h===B.length)for(o=O.length-1,h=B.length-1;1<=o&&0<=h&&O[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(O[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||O[o]!==B[h]){var K=`
`+O[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{va=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Zn(s):""}function _a(t,i){switch(t.tag){case 26:case 27:case 5:return Zn(t.type);case 16:return Zn("Lazy");case 13:return t.child!==i&&i!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Tn(t.type,!1);case 11:return Tn(t.type.render,!1);case 1:return Tn(t.type,!0);case 31:return Zn("Activity");default:return""}}function jr(t){try{var i="",s=null;do i+=_a(t,s),s=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var It=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,_i=r.unstable_cancelCallback,Ns=r.unstable_shouldYield,ba=r.unstable_requestPaint,Nt=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,Ea=r.unstable_ImmediatePriority,Li=r.unstable_UserBlockingPriority,zi=r.unstable_NormalPriority,Al=r.unstable_LowPriority,po=r.unstable_IdlePriority,Bi=r.log,Ta=r.unstable_setDisableYieldValue,An=null,Ft=null;function at(t){if(typeof Bi=="function"&&Ta(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(An,t)}catch{}}var wt=Math.clz32?Math.clz32:go,Aa=Math.log,Sa=Math.LN2;function go(t){return t>>>=0,t===0?32:31-(Aa(t)/Sa|0)|0}var On=256,bi=262144,gt=4194304;function Wn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Re(t,i,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=Wn(o):(v&=E,v!==0?h=Wn(v):s||(s=E&~t,s!==0&&(h=Wn(s))))):(E=o&~d,E!==0?h=Wn(E):v!==0?h=Wn(v):s||(s=o&~t,s!==0&&(h=Wn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qi(){var t=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),t}function ei(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Ei(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wa(t,i,s,o,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(s=v&~s;0<s;){var K=31-wt(s),J=1<<K;E[K]=0,O[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var G=q[K];G!==null&&(G.lane&=-536870913)}s&=~J}o!==0&&sr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function sr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-wt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Hi(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var o=31-wt(s),h=1<<o;h&i|t[o]&i&&(t[o]|=i),s&=~h}}function kr(t,i){var s=i&-i;return s=(s&42)!==0?1:kn(s),(s&(t.suspendedLanes|i))!==0?0:s}function kn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sn(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:gv(t.type))}function Pn(t,i){var s=se.p;try{return se.p=t,i()}finally{se.p=s}}var Un=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Un,Le="__reactProps$"+Un,an="__reactContainer$"+Un,Pr="__reactEvents$"+Un,Qe="__reactListeners$"+Un,xa="__reactHandles$"+Un,Ds="__reactResources$"+Un,ni="__reactMarker$"+Un;function Ra(t){delete t[Dt],delete t[Le],delete t[Pr],delete t[Qe],delete t[xa]}function ii(t){var i=t[Dt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[an]||s[Dt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=ev(t);t!==null;){if(s=t[Dt])return s;t=ev(t)}return i}t=s,s=t.parentNode}return null}function Ln(t){if(t=t[Dt]||t[an]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function sn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ri(t){var i=t[Ds];return i||(i=t[Ds]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ot(t){t[ni]=!0}var or=new Set,Fi={};function ai(t,i){si(t,i),si(t+"Capture",i)}function si(t,i){for(Fi[t]=i,t=0;t<i.length;t++)or.add(i[t])}var Ca=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Os={},Ia={};function Ms(t){return It.call(Ia,t)?!0:It.call(Os,t)?!1:Ca.test(t)?Ia[t]=!0:(Os[t]=!0,!1)}function Na(t,i,s){if(Ms(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function cn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Ut(t,i,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+o)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gi(t,i,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ie(t){if(!t._valueTracker){var i=lr(t)?"checked":"value";t._valueTracker=Gi(t,i,""+t[i])}}function yt(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return t&&(o=lr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ur=/[\n"\\]/g;function wn(t){return t.replace(ur,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Da(t,i,s,o,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Xt(i)):t.value!==""+Xt(i)&&(t.value=""+Xt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?js(t,v,Xt(i)):s!=null?js(t,v,Xt(s)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xt(E):t.removeAttribute("name")}function Vs(t,i,s,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ie(t);return}s=s!=null?""+Xt(s):"",i=i!=null?""+Xt(i):s,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),ie(t)}function js(t,i,s){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function cr(t,i,s,o){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Xt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function vo(t,i,s){if(i!=null&&(i=""+Xt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Xt(s):""}function hr(t,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(a(92));if(et(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=Xt(i),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),ie(t)}function xn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ur(t,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,s):typeof s!="number"||s===0||ks.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Oa(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&s[h]!==o&&Ur(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Ur(t,d,i[d])}function Ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return fr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var Lr=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dr=null,Ai=null;function zr(t){var i=Ln(t);if(i&&(t=i.stateNode)){var s=t[Le]||null;e:switch(t=i.stateNode,i.type){case"input":if(Da(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==t&&o.form===t.form){var h=o[Le]||null;if(!h)throw Error(a(90));Da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===t.form&&yt(o)}break e;case"textarea":vo(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&cr(t,!!s.multiple,i,!1)}}}var ja=!1;function mr(t,i,s){if(ja)return t(i,s);ja=!0;try{var o=t(i);return o}finally{if(ja=!1,(dr!==null||Ai!==null)&&(Vc(),dr&&(i=dr,t=Ai,Ai=dr=null,zr(i),t)))for(i=0;i<t.length;i++)zr(t[i])}}function li(t,i){var s=t.stateNode;if(s===null)return null;var o=s[Le]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Bn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Br=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Br=!1}var Si=null,Ps=null,qr=null;function ka(){if(qr)return qr;var t,i=Ps,s=i.length,o,h="value"in Si?Si.value:Si.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(o=1;o<=v&&i[s-o]===h[d-o];o++);return qr=h.slice(t,1<o?1-o:void 0)}function Hr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function ui(){return!1}function on(t){function i(s,o,h,d,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wi:ui,this.isPropagationStopped=ui,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),i}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=on(Qi),pr=R({},Qi,{view:0,detail:0}),Us=on(pr),Yi,Fr,S,x=R({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==S&&(S&&t.type==="mousemove"?(Yi=t.screenX-S.screenX,Fr=t.screenY-S.screenY):Fr=Yi=0,S=t),Yi)},movementY:function(t){return"movementY"in t?t.movementY:Fr}}),F=on(x),ne=R({},x,{dataTransfer:0}),Ee=on(ne),Ve=R({},pr,{relatedTarget:0}),nt=on(Ve),Mt=R({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vt=on(Mt),Gr=R({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ri=on(Gr),Qu=R({},Qi,{data:0}),gr=on(Qu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$u[t])?!!i[t]:!1}function Pa(){return Xu}var Mn=R({},pr,{key:function(t){if(t.key){var i=Yu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=on(Mn),Zu=R({},x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qr=on(Zu),c=R({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),m=on(c),b=R({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=on(b),L=R({},x,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=on(L),oe=R({},Qi,{newState:0,oldState:0}),ke=on(oe),Gt=[9,13,27,32],st=Bn&&"CompositionEvent"in window,xt=null;Bn&&"documentMode"in document&&(xt=document.documentMode);var Ci=Bn&&"TextEvent"in window&&!xt,yr=Bn&&(!st||xt&&8<xt&&11>=xt),Ki=" ",$i=!1;function Ls(t,i){switch(t){case"keyup":return Gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function rE(t,i){switch(t){case"compositionend":return bo(i);case"keypress":return i.which!==32?null:($i=!0,Ki);case"textInput":return t=i.data,t===Ki&&$i?null:t;default:return null}}function aE(t,i){if(Eo)return t==="compositionend"||!st&&Ls(t,i)?(t=ka(),qr=Ps=Si=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yr&&i.locale!=="ko"?null:i.data;default:return null}}var sE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!sE[t.type]:i==="textarea"}function rg(t,i,s,o){dr?Ai?Ai.push(o):Ai=[o]:dr=o,i=Bc(i,"onChange"),0<i.length&&(s=new xi("onChange","change",null,s,o),t.push({event:s,listeners:i}))}var Sl=null,wl=null;function oE(t){z0(t,0)}function Wu(t){var i=sn(t);if(yt(i))return t}function ag(t,i){if(t==="change")return i}var sg=!1;if(Bn){var mf;if(Bn){var pf="oninput"in document;if(!pf){var og=document.createElement("div");og.setAttribute("oninput","return;"),pf=typeof og.oninput=="function"}mf=pf}else mf=!1;sg=mf&&(!document.documentMode||9<document.documentMode)}function lg(){Sl&&(Sl.detachEvent("onpropertychange",ug),wl=Sl=null)}function ug(t){if(t.propertyName==="value"&&Wu(wl)){var i=[];rg(i,wl,t,zn(t)),mr(oE,i)}}function lE(t,i,s){t==="focusin"?(lg(),Sl=i,wl=s,Sl.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function uE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(wl)}function cE(t,i){if(t==="click")return Wu(i)}function hE(t,i){if(t==="input"||t==="change")return Wu(i)}function fE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ci=typeof Object.is=="function"?Object.is:fE;function xl(t,i){if(ci(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!It.call(i,h)||!ci(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var s=cg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=i&&o>=i)return{node:s,offset:i-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cg(s)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ti(t.document)}return i}function gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var dE=Bn&&"documentMode"in document&&11>=document.documentMode,To=null,yf=null,Rl=null,vf=!1;function mg(t,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;vf||To==null||To!==Ti(o)||(o=To,"selectionStart"in o&&gf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Rl&&xl(Rl,o)||(Rl=o,o=Bc(yf,"onSelect"),0<o.length&&(i=new xi("onSelect","select",null,i,s),t.push({event:i,listeners:o}),i.target=To)))}function zs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ao={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},_f={},pg={};Bn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Bs(t){if(_f[t])return _f[t];if(!Ao[t])return t;var i=Ao[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in pg)return _f[t]=i[s];return t}var gg=Bs("animationend"),yg=Bs("animationiteration"),vg=Bs("animationstart"),mE=Bs("transitionrun"),pE=Bs("transitionstart"),gE=Bs("transitioncancel"),_g=Bs("transitionend"),bg=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function Xi(t,i){bg.set(t,i),ai(i,[t])}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ii=[],So=0,Ef=0;function tc(){for(var t=So,i=Ef=So=0;i<t;){var s=Ii[i];Ii[i++]=null;var o=Ii[i];Ii[i++]=null;var h=Ii[i];Ii[i++]=null;var d=Ii[i];if(Ii[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Eg(s,h,d)}}function nc(t,i,s,o){Ii[So++]=t,Ii[So++]=i,Ii[So++]=s,Ii[So++]=o,Ef|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Tf(t,i,s,o){return nc(t,i,s,o),ic(t)}function qs(t,i){return nc(t,null,null,i),ic(t)}function Eg(t,i,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-wt(s),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=s|536870912),d):null}function ic(t){if(50<$l)throw $l=0,Dd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wo={};function yE(t,i,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(t,i,s,o){return new yE(t,i,s,o)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yr(t,i){var s=t.alternate;return s===null?(s=hi(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Tg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,s,o,h,d){var v=0;if(o=t,typeof t=="function")Af(t)&&(v=1);else if(typeof t=="string")v=TT(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=hi(31,s,i,h),t.elementType=D,t.lanes=d,t;case ae:return Hs(s.children,h,d,i);case ee:v=8,h|=24;break;case be:return t=hi(12,s,i,h|2),t.elementType=be,t.lanes=d,t;case ye:return t=hi(13,s,i,h),t.elementType=ye,t.lanes=d,t;case pe:return t=hi(19,s,i,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:v=10;break e;case Se:v=9;break e;case de:v=11;break e;case I:v=14;break e;case N:v=16,o=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=hi(v,s,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Hs(t,i,s,o){return t=hi(7,t,o,i),t.lanes=s,t}function Sf(t,i,s){return t=hi(6,t,null,i),t.lanes=s,t}function Ag(t){var i=hi(18,null,null,0);return i.stateNode=t,i}function wf(t,i,s){return i=hi(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Sg=new WeakMap;function Ni(t,i){if(typeof t=="object"&&t!==null){var s=Sg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:jr(i)},Sg.set(t,i),i)}return{value:t,source:i,stack:jr(i)}}var xo=[],Ro=0,ac=null,Cl=0,Di=[],Oi=0,Ua=null,vr=1,_r="";function Kr(t,i){xo[Ro++]=Cl,xo[Ro++]=ac,ac=t,Cl=i}function wg(t,i,s){Di[Oi++]=vr,Di[Oi++]=_r,Di[Oi++]=Ua,Ua=t;var o=vr;t=_r;var h=32-wt(o)-1;o&=~(1<<h),s+=1;var d=32-wt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,vr=1<<32-wt(i)+h|s<<h|o,_r=d+t}else vr=1<<d|s<<h|o,_r=t}function xf(t){t.return!==null&&(Kr(t,1),wg(t,1,0))}function Rf(t){for(;t===ac;)ac=xo[--Ro],xo[Ro]=null,Cl=xo[--Ro],xo[Ro]=null;for(;t===Ua;)Ua=Di[--Oi],Di[Oi]=null,_r=Di[--Oi],Di[Oi]=null,vr=Di[--Oi],Di[Oi]=null}function xg(t,i){Di[Oi++]=vr,Di[Oi++]=_r,Di[Oi++]=Ua,vr=i.id,_r=i.overflow,Ua=t}var dn=null,bt=null,Ze=!1,La=null,Mi=!1,Cf=Error(a(519));function za(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Ni(i,t)),Cf}function Rg(t){var i=t.stateNode,s=t.type,o=t.memoizedProps;switch(i[Dt]=t,i[Le]=o,s){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(s=0;s<Jl.length;s++)Ge(Jl[s],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":Ge("invalid",i),Vs(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ge("invalid",i);break;case"textarea":Ge("invalid",i),hr(i,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||F0(i.textContent,s)?(o.popover!=null&&(Ge("beforetoggle",i),Ge("toggle",i)),o.onScroll!=null&&Ge("scroll",i),o.onScrollEnd!=null&&Ge("scrollend",i),o.onClick!=null&&(i.onclick=oi),i=!0):i=!1,i||za(t,!0)}function Cg(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:dn=dn.return}}function Co(t){if(t!==dn)return!1;if(!Ze)return Cg(t),Ze=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Qd(t.type,t.memoizedProps)),s=!s),s&&bt&&za(t),Cg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=W0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=W0(t)}else i===27?(i=bt,es(t.type)?(t=Jd,Jd=null,bt=t):bt=i):bt=dn?ji(t.stateNode.nextSibling):null;return!0}function Fs(){bt=dn=null,Ze=!1}function If(){var t=La;return t!==null&&(Gn===null?Gn=t:Gn.push.apply(Gn,t),La=null),t}function Il(t){La===null?La=[t]:La.push(t)}var Nf=k(null),Gs=null,$r=null;function Ba(t,i,s){le(Nf,i._currentValue),i._currentValue=s}function Xr(t){t._currentValue=Nf.current,$(Nf)}function Df(t,i,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===s)break;t=t.return}}function Of(t,i,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var O=0;O<i.length;O++)if(E.context===i[O]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),Df(d.return,s,t),o||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Df(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Io(t,i,s,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=h.type;ci(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Be.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(nu):t=[nu])}h=h.return}t!==null&&Of(i,t,s,o),i.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!ci(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Gs=t,$r=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return Ig(Gs,t)}function oc(t,i){return Gs===null&&Qs(t),Ig(t,i)}function Ig(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},$r===null){if(t===null)throw Error(a(308));$r=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $r=$r.next=i;return s}var vE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},_E=r.unstable_scheduleCallback,bE=r.unstable_NormalPriority,Jt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new vE,data:new Map,refCount:0}}function Nl(t){t.refCount--,t.refCount===0&&_E(bE,function(){t.controller.abort()})}var Dl=null,Vf=0,No=0,Do=null;function EE(t,i){if(Dl===null){var s=Dl=[];Vf=0,No=Pd(),Do={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Vf++,i.then(Ng,Ng),i}function Ng(){if(--Vf===0&&Dl!==null){Do!==null&&(Do.status="fulfilled");var t=Dl;Dl=null,No=0,Do=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function TE(t,i){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Dg=Y.S;Y.S=function(t,i){m0=Nt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&EE(t,i),Dg!==null&&Dg(t,i)};var Ys=k(null);function jf(){var t=Ys.current;return t!==null?t:vt.pooledCache}function lc(t,i){i===null?le(Ys,Ys.current):le(Ys,i.pool)}function Og(){var t=jf();return t===null?null:{parent:Jt._currentValue,pool:t}}var Oo=Error(a(460)),kf=Error(a(474)),uc=Error(a(542)),cc={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(oi,oi),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t;default:if(typeof i.status=="string")i.then(oi,oi);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t}throw $s=i,Oo}}function Ks(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?($s=s,Oo):s}}var $s=null;function jg(){if($s===null)throw Error(a(459));var t=$s;return $s=null,t}function kg(t){if(t===Oo||t===uc)throw Error(a(483))}var Mo=null,Ol=0;function hc(t){var i=Ol;return Ol+=1,Mo===null&&(Mo=[]),Vg(Mo,t,i)}function Ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Pg(t){function i(U,j){if(t){var z=U.deletions;z===null?(U.deletions=[j],U.flags|=16):z.push(j)}}function s(U,j){if(!t)return null;for(;j!==null;)i(U,j),j=j.sibling;return null}function o(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function h(U,j){return U=Yr(U,j),U.index=0,U.sibling=null,U}function d(U,j,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<j?(U.flags|=67108866,j):z):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,j,z,X){return j===null||j.tag!==6?(j=Sf(z,U.mode,X),j.return=U,j):(j=h(j,z),j.return=U,j)}function O(U,j,z,X){var Te=z.type;return Te===ae?K(U,j,z.props.children,X,z.key):j!==null&&(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&Ks(Te)===j.type)?(j=h(j,z.props),Ml(j,z),j.return=U,j):(j=rc(z.type,z.key,z.props,null,U.mode,X),Ml(j,z),j.return=U,j)}function B(U,j,z,X){return j===null||j.tag!==4||j.stateNode.containerInfo!==z.containerInfo||j.stateNode.implementation!==z.implementation?(j=wf(z,U.mode,X),j.return=U,j):(j=h(j,z.children||[]),j.return=U,j)}function K(U,j,z,X,Te){return j===null||j.tag!==7?(j=Hs(z,U.mode,X,Te),j.return=U,j):(j=h(j,z),j.return=U,j)}function J(U,j,z){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Sf(""+j,U.mode,z),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return z=rc(j.type,j.key,j.props,null,U.mode,z),Ml(z,j),z.return=U,z;case te:return j=wf(j,U.mode,z),j.return=U,j;case N:return j=Ks(j),J(U,j,z)}if(et(j)||A(j))return j=Hs(j,U.mode,z,null),j.return=U,j;if(typeof j.then=="function")return J(U,hc(j),z);if(j.$$typeof===he)return J(U,oc(U,j),z);fc(U,j)}return null}function q(U,j,z,X){var Te=j!==null?j.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Te!==null?null:E(U,j,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===Te?O(U,j,z,X):null;case te:return z.key===Te?B(U,j,z,X):null;case N:return z=Ks(z),q(U,j,z,X)}if(et(z)||A(z))return Te!==null?null:K(U,j,z,X,null);if(typeof z.then=="function")return q(U,j,hc(z),X);if(z.$$typeof===he)return q(U,j,oc(U,z),X);fc(U,z)}return null}function G(U,j,z,X,Te){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,E(j,U,""+X,Te);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Q:return U=U.get(X.key===null?z:X.key)||null,O(j,U,X,Te);case te:return U=U.get(X.key===null?z:X.key)||null,B(j,U,X,Te);case N:return X=Ks(X),G(U,j,z,X,Te)}if(et(X)||A(X))return U=U.get(z)||null,K(j,U,X,Te,null);if(typeof X.then=="function")return G(U,j,z,hc(X),Te);if(X.$$typeof===he)return G(U,j,z,oc(j,X),Te);fc(j,X)}return null}function ge(U,j,z,X){for(var Te=null,it=null,ve=j,Ue=j=0,Ke=null;ve!==null&&Ue<z.length;Ue++){ve.index>Ue?(Ke=ve,ve=null):Ke=ve.sibling;var rt=q(U,ve,z[Ue],X);if(rt===null){ve===null&&(ve=Ke);break}t&&ve&&rt.alternate===null&&i(U,ve),j=d(rt,j,Ue),it===null?Te=rt:it.sibling=rt,it=rt,ve=Ke}if(Ue===z.length)return s(U,ve),Ze&&Kr(U,Ue),Te;if(ve===null){for(;Ue<z.length;Ue++)ve=J(U,z[Ue],X),ve!==null&&(j=d(ve,j,Ue),it===null?Te=ve:it.sibling=ve,it=ve);return Ze&&Kr(U,Ue),Te}for(ve=o(ve);Ue<z.length;Ue++)Ke=G(ve,U,Ue,z[Ue],X),Ke!==null&&(t&&Ke.alternate!==null&&ve.delete(Ke.key===null?Ue:Ke.key),j=d(Ke,j,Ue),it===null?Te=Ke:it.sibling=Ke,it=Ke);return t&&ve.forEach(function(as){return i(U,as)}),Ze&&Kr(U,Ue),Te}function we(U,j,z,X){if(z==null)throw Error(a(151));for(var Te=null,it=null,ve=j,Ue=j=0,Ke=null,rt=z.next();ve!==null&&!rt.done;Ue++,rt=z.next()){ve.index>Ue?(Ke=ve,ve=null):Ke=ve.sibling;var as=q(U,ve,rt.value,X);if(as===null){ve===null&&(ve=Ke);break}t&&ve&&as.alternate===null&&i(U,ve),j=d(as,j,Ue),it===null?Te=as:it.sibling=as,it=as,ve=Ke}if(rt.done)return s(U,ve),Ze&&Kr(U,Ue),Te;if(ve===null){for(;!rt.done;Ue++,rt=z.next())rt=J(U,rt.value,X),rt!==null&&(j=d(rt,j,Ue),it===null?Te=rt:it.sibling=rt,it=rt);return Ze&&Kr(U,Ue),Te}for(ve=o(ve);!rt.done;Ue++,rt=z.next())rt=G(ve,U,Ue,rt.value,X),rt!==null&&(t&&rt.alternate!==null&&ve.delete(rt.key===null?Ue:rt.key),j=d(rt,j,Ue),it===null?Te=rt:it.sibling=rt,it=rt);return t&&ve.forEach(function(MT){return i(U,MT)}),Ze&&Kr(U,Ue),Te}function pt(U,j,z,X){if(typeof z=="object"&&z!==null&&z.type===ae&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:e:{for(var Te=z.key;j!==null;){if(j.key===Te){if(Te=z.type,Te===ae){if(j.tag===7){s(U,j.sibling),X=h(j,z.props.children),X.return=U,U=X;break e}}else if(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&Ks(Te)===j.type){s(U,j.sibling),X=h(j,z.props),Ml(X,z),X.return=U,U=X;break e}s(U,j);break}else i(U,j);j=j.sibling}z.type===ae?(X=Hs(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=rc(z.type,z.key,z.props,null,U.mode,X),Ml(X,z),X.return=U,U=X)}return v(U);case te:e:{for(Te=z.key;j!==null;){if(j.key===Te)if(j.tag===4&&j.stateNode.containerInfo===z.containerInfo&&j.stateNode.implementation===z.implementation){s(U,j.sibling),X=h(j,z.children||[]),X.return=U,U=X;break e}else{s(U,j);break}else i(U,j);j=j.sibling}X=wf(z,U.mode,X),X.return=U,U=X}return v(U);case N:return z=Ks(z),pt(U,j,z,X)}if(et(z))return ge(U,j,z,X);if(A(z)){if(Te=A(z),typeof Te!="function")throw Error(a(150));return z=Te.call(z),we(U,j,z,X)}if(typeof z.then=="function")return pt(U,j,hc(z),X);if(z.$$typeof===he)return pt(U,j,oc(U,z),X);fc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,j!==null&&j.tag===6?(s(U,j.sibling),X=h(j,z),X.return=U,U=X):(s(U,j),X=Sf(z,U.mode,X),X.return=U,U=X),v(U)):s(U,j)}return function(U,j,z,X){try{Ol=0;var Te=pt(U,j,z,X);return Mo=null,Te}catch(ve){if(ve===Oo||ve===uc)throw ve;var it=hi(29,ve,null,U.mode);return it.lanes=X,it.return=U,it}finally{}}}var Xs=Pg(!0),Ug=Pg(!1),qa=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(t,i,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ot&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=ic(t),Eg(t,null,s),i}return nc(t,o,i,s),ic(t)}function Vl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,Hi(t,s)}}function Lf(t,i){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var zf=!1;function jl(){if(zf){var t=Do;if(t!==null)throw t}}function kl(t,i,s,o){zf=!1;var h=t.updateQueue;qa=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var O=E,B=O.next;O.next=null,v===null?d=B:v.next=B,v=O;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=B:E.next=B,K.lastBaseUpdate=O))}if(d!==null){var J=h.baseState;v=0,K=B=O=null,E=d;do{var q=E.lane&-536870913,G=q!==E.lane;if(G?(Ye&q)===q:(o&q)===q){q!==0&&q===No&&(zf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=t,we=E;q=i;var pt=s;switch(we.tag){case 1:if(ge=we.payload,typeof ge=="function"){J=ge.call(pt,J,q);break e}J=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,q=typeof ge=="function"?ge.call(pt,J,q):ge,q==null)break e;J=R({},J,q);break e;case 2:qa=!0}}q=E.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(B=K=G,O=J):K=K.next=G,v|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);K===null&&(O=J),h.baseState=O,h.firstBaseUpdate=B,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),$a|=v,t.lanes=v,t.memoizedState=J}}function Lg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function zg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Lg(s[t],i)}var Vo=k(null),dc=k(0);function Bg(t,i){t=aa,le(dc,t),le(Vo,i),aa=t|i.baseLanes}function Bf(){le(dc,aa),le(Vo,Vo.current)}function qf(){aa=dc.current,$(Vo),$(dc)}var fi=k(null),Vi=null;function Ga(t){var i=t.alternate;le(Qt,Qt.current&1),le(fi,t),Vi===null&&(i===null||Vo.current!==null||i.memoizedState!==null)&&(Vi=t)}function Hf(t){le(Qt,Qt.current),le(fi,t),Vi===null&&(Vi=t)}function qg(t){t.tag===22?(le(Qt,Qt.current),le(fi,t),Vi===null&&(Vi=t)):Qa()}function Qa(){le(Qt,Qt.current),le(fi,fi.current)}function di(t){$(fi),Vi===t&&(Vi=null),$(Qt)}var Qt=k(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||$d(s)||Xd(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Jr=0,Pe=null,dt=null,Zt=null,pc=!1,jo=!1,Js=!1,gc=0,Pl=0,ko=null,AE=0;function Lt(){throw Error(a(321))}function Ff(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!ci(t[s],i[s]))return!1;return!0}function Gf(t,i,s,o,h,d){return Jr=d,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?wy:sd,Js=!1,d=s(o,h),Js=!1,jo&&(d=Fg(i,s,o,h)),Hg(t),d}function Hg(t){Y.H=zl;var i=dt!==null&&dt.next!==null;if(Jr=0,Zt=dt=Pe=null,pc=!1,Pl=0,ko=null,i)throw Error(a(300));t===null||Wt||(t=t.dependencies,t!==null&&sc(t)&&(Wt=!0))}function Fg(t,i,s,o){Pe=t;var h=0;do{if(jo&&(ko=null),Pl=0,jo=!1,25<=h)throw Error(a(301));if(h+=1,Zt=dt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=xy,d=i(s,o)}while(jo);return d}function SE(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Ul(i):i,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Pe.flags|=1024),i}function Qf(){var t=gc!==0;return gc=0,t}function Yf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Kf(t){if(pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pc=!1}Jr=0,Zt=dt=Pe=null,jo=!1,Pl=gc=0,ko=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Pe.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function Yt(){if(dt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var i=Zt===null?Pe.memoizedState:Zt.next;if(i!==null)Zt=i,dt=t;else{if(t===null)throw Pe.alternate===null?Error(a(467)):Error(a(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Zt===null?Pe.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var i=Pl;return Pl+=1,ko===null&&(ko=[]),t=Vg(ko,t,i),i=Pe,(Zt===null?i.memoizedState:Zt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?wy:sd),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===he)return mn(t)}throw Error(a(438,String(t)))}function $f(t){var i=null,s=Pe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=Pe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=yc(),Pe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),o=0;o<t;o++)s[o]=P;return i.index++,s}function Zr(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=Yt();return Xf(i,dt,t)}function Xf(t,i,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,O=null,B=i,K=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Ye&J)===J:(Jr&J)===J){var q=B.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===No&&(K=!0);else if((Jr&q)===q){B=B.next,q===No&&(K=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(E=O=J,v=d):O=O.next=J,Pe.lanes|=q,$a|=q;J=B.action,Js&&s(d,J),d=B.hasEagerState?B.eagerState:s(d,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(E=O=q,v=d):O=O.next=q,Pe.lanes|=J,$a|=J;B=B.next}while(B!==null&&B!==i);if(O===null?v=d:O.next=E,!ci(d,t.memoizedState)&&(Wt=!0,K&&(s=Do,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=O,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Jf(t){var i=Yt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);ci(d,i.memoizedState)||(Wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,o]}function Gg(t,i,s){var o=Pe,h=Yt(),d=Ze;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!ci((dt||h).memoizedState,s);if(v&&(h.memoizedState=s,Wt=!0),h=h.queue,ed(Kg.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||Zt!==null&&Zt.memoizedState.tag&1){if(o.flags|=2048,Po(9,{destroy:void 0},Yg.bind(null,o,h,s,i),null),vt===null)throw Error(a(349));d||(Jr&127)!==0||Qg(o,i,s)}return s}function Qg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Pe.updateQueue,i===null?(i=yc(),Pe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Yg(t,i,s,o){i.value=s,i.getSnapshot=o,$g(i)&&Xg(t)}function Kg(t,i,s){return s(function(){$g(i)&&Xg(t)})}function $g(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!ci(t,s)}catch{return!0}}function Xg(t){var i=qs(t,2);i!==null&&Qn(i,t,2)}function Zf(t){var i=Vn();if(typeof t=="function"){var s=t;if(t=s(),Js){at(!0);try{s()}finally{at(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:t},i}function Jg(t,i,s,o){return t.baseState=s,Xf(t,dt,typeof o=="function"?o:Zr)}function wE(t,i,s,o,h){if(Tc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?s(!0):d.isTransition=!1,o(d),s=i.pending,s===null?(d.next=i.pending=d,Zg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Zg(t,i){var s=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var E=s(h,o),O=Y.S;O!==null&&O(v,E),Wg(t,i,E)}catch(B){Wf(t,i,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=s(h,o),Wg(t,i,d)}catch(B){Wf(t,i,B)}}function Wg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ey(t,i,o)},function(o){return Wf(t,i,o)}):ey(t,i,s)}function ey(t,i,s){i.status="fulfilled",i.value=s,ty(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Zg(t,s)))}function Wf(t,i,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,ty(i),i=i.next;while(i!==o)}t.action=null}function ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ny(t,i){return i}function iy(t,i){if(Ze){var s=vt.formState;if(s!==null){e:{var o=Pe;if(Ze){if(bt){t:{for(var h=bt,d=Mi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ji(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){bt=ji(h.nextSibling),o=h.data==="F!";break e}}za(o)}o=!1}o&&(i=s[0])}}return s=Vn(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},s.queue=o,s=Ty.bind(null,Pe,o),o.dispatch=s,o=Zf(!1),d=ad.bind(null,Pe,!1,o.queue),o=Vn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,s=wE.bind(null,Pe,h,d,s),h.dispatch=s,o.memoizedState=t,[i,s,!1]}function ry(t){var i=Yt();return ay(i,dt,t)}function ay(t,i,s){if(i=Xf(t,i,ny)[0],t=_c(Zr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Ul(i)}catch(v){throw v===Oo?uc:v}else o=i;i=Yt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Pe.flags|=2048,Po(9,{destroy:void 0},xE.bind(null,h,s),null)),[o,d,t]}function xE(t,i){t.action=i}function sy(t){var i=Yt(),s=dt;if(s!==null)return ay(i,s,t);Yt(),i=i.memoizedState,s=Yt();var o=s.queue.dispatch;return s.memoizedState=t,[i,o,!1]}function Po(t,i,s,o){return t={tag:t,create:s,deps:o,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=yc(),Pe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,i.lastEffect=t),t}function oy(){return Yt().memoizedState}function bc(t,i,s,o){var h=Vn();Pe.flags|=t,h.memoizedState=Po(1|i,{destroy:void 0},s,o===void 0?null:o)}function Ec(t,i,s,o){var h=Yt();o=o===void 0?null:o;var d=h.memoizedState.inst;dt!==null&&o!==null&&Ff(o,dt.memoizedState.deps)?h.memoizedState=Po(i,d,s,o):(Pe.flags|=t,h.memoizedState=Po(1|i,d,s,o))}function ly(t,i){bc(8390656,8,t,i)}function ed(t,i){Ec(2048,8,t,i)}function RE(t){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=yc(),Pe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function uy(t){var i=Yt().memoizedState;return RE({ref:i,nextImpl:t}),function(){if((ot&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function cy(t,i){return Ec(4,2,t,i)}function hy(t,i){return Ec(4,4,t,i)}function fy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function dy(t,i,s){s=s!=null?s.concat([t]):null,Ec(4,4,fy.bind(null,i,t),s)}function td(){}function my(t,i){var s=Yt();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Ff(i,o[1])?o[0]:(s.memoizedState=[t,i],t)}function py(t,i){var s=Yt();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Ff(i,o[1]))return o[0];if(o=t(),Js){at(!0);try{t()}finally{at(!1)}}return s.memoizedState=[o,i],o}function nd(t,i,s){return s===void 0||(Jr&1073741824)!==0&&(Ye&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=g0(),Pe.lanes|=t,$a|=t,s)}function gy(t,i,s,o){return ci(s,i)?s:Vo.current!==null?(t=nd(t,s,o),ci(t,i)||(Wt=!0),t):(Jr&42)===0||(Jr&1073741824)!==0&&(Ye&261930)===0?(Wt=!0,t.memoizedState=s):(t=g0(),Pe.lanes|=t,$a|=t,i)}function yy(t,i,s,o,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=Y.T,E={};Y.T=E,ad(t,!1,i,s);try{var O=h(),B=Y.S;if(B!==null&&B(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=TE(O,o);Ll(t,i,K,gi(t))}else Ll(t,i,o,gi(t))}catch(J){Ll(t,i,{then:function(){},status:"rejected",reason:J},gi())}finally{se.p=d,v!==null&&E.types!==null&&(v.types=E.types),Y.T=v}}function CE(){}function id(t,i,s,o){if(t.tag!==5)throw Error(a(476));var h=vy(t).queue;yy(t,h,i,_e,s===null?CE:function(){return _y(t),s(o)})}function vy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:_e},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _y(t){var i=vy(t);i.next===null&&(i=t.alternate.memoizedState),Ll(t,i.next.queue,{},gi())}function rd(){return mn(nu)}function by(){return Yt().memoizedState}function Ey(){return Yt().memoizedState}function IE(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=gi();t=Ha(s);var o=Fa(i,t,s);o!==null&&(Qn(o,i,s),Vl(o,i,s)),i={cache:Mf()},t.payload=i;return}i=i.return}}function NE(t,i,s){var o=gi();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Tc(t)?Ay(i,s):(s=Tf(t,i,s,o),s!==null&&(Qn(s,t,o),Sy(s,i,o)))}function Ty(t,i,s){var o=gi();Ll(t,i,s,o)}function Ll(t,i,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))Ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,s);if(h.hasEagerState=!0,h.eagerState=E,ci(E,v))return nc(t,i,h,0),vt===null&&tc(),!1}catch{}finally{}if(s=Tf(t,i,h,o),s!==null)return Qn(s,t,o),Sy(s,i,o),!0}return!1}function ad(t,i,s,o){if(o={lane:2,revertLane:Pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(i)throw Error(a(479))}else i=Tf(t,s,o,2),i!==null&&Qn(i,t,2)}function Tc(t){var i=t.alternate;return t===Pe||i!==null&&i===Pe}function Ay(t,i){jo=pc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Sy(t,i,s){if((s&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,Hi(t,s)}}var zl={readContext:mn,use:vc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};zl.useEffectEvent=Lt;var wy={readContext:mn,use:vc,useCallback:function(t,i){return Vn().memoizedState=[t,i===void 0?null:i],t},useContext:mn,useEffect:ly,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,bc(4194308,4,fy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var s=Vn();i=i===void 0?null:i;var o=t();if(Js){at(!0);try{t()}finally{at(!1)}}return s.memoizedState=[o,i],o},useReducer:function(t,i,s){var o=Vn();if(s!==void 0){var h=s(i);if(Js){at(!0);try{s(i)}finally{at(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=NE.bind(null,Pe,t),[o.memoizedState,t]},useRef:function(t){var i=Vn();return t={current:t},i.memoizedState=t},useState:function(t){t=Zf(t);var i=t.queue,s=Ty.bind(null,Pe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:td,useDeferredValue:function(t,i){var s=Vn();return nd(s,t,i)},useTransition:function(){var t=Zf(!1);return t=yy.bind(null,Pe,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var o=Pe,h=Vn();if(Ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),vt===null)throw Error(a(349));(Ye&127)!==0||Qg(o,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,ly(Kg.bind(null,o,d,t),[t]),o.flags|=2048,Po(9,{destroy:void 0},Yg.bind(null,o,d,s,i),null),s},useId:function(){var t=Vn(),i=vt.identifierPrefix;if(Ze){var s=_r,o=vr;s=(o&~(1<<32-wt(o)-1)).toString(32)+s,i="_"+i+"R_"+s,s=gc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=AE++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:iy,useActionState:iy,useOptimistic:function(t){var i=Vn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=ad.bind(null,Pe,!0,s),s.dispatch=i,[t,i]},useMemoCache:$f,useCacheRefresh:function(){return Vn().memoizedState=IE.bind(null,Pe)},useEffectEvent:function(t){var i=Vn(),s={impl:t};return i.memoizedState=s,function(){if((ot&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},sd={readContext:mn,use:vc,useCallback:my,useContext:mn,useEffect:ed,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:_c,useRef:oy,useState:function(){return _c(Zr)},useDebugValue:td,useDeferredValue:function(t,i){var s=Yt();return gy(s,dt.memoizedState,t,i)},useTransition:function(){var t=_c(Zr)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:Ul(t),i]},useSyncExternalStore:Gg,useId:by,useHostTransitionStatus:rd,useFormState:ry,useActionState:ry,useOptimistic:function(t,i){var s=Yt();return Jg(s,dt,t,i)},useMemoCache:$f,useCacheRefresh:Ey};sd.useEffectEvent=uy;var xy={readContext:mn,use:vc,useCallback:my,useContext:mn,useEffect:ed,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:Jf,useRef:oy,useState:function(){return Jf(Zr)},useDebugValue:td,useDeferredValue:function(t,i){var s=Yt();return dt===null?nd(s,t,i):gy(s,dt.memoizedState,t,i)},useTransition:function(){var t=Jf(Zr)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:Ul(t),i]},useSyncExternalStore:Gg,useId:by,useHostTransitionStatus:rd,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var s=Yt();return dt!==null?Jg(s,dt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:$f,useCacheRefresh:Ey};xy.useEffectEvent=uy;function od(t,i,s,o){i=t.memoizedState,s=s(o,i),s=s==null?i:R({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ld={enqueueSetState:function(t,i,s){t=t._reactInternals;var o=gi(),h=Ha(o);h.payload=i,s!=null&&(h.callback=s),i=Fa(t,h,o),i!==null&&(Qn(i,t,o),Vl(i,t,o))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var o=gi(),h=Ha(o);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Fa(t,h,o),i!==null&&(Qn(i,t,o),Vl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=gi(),o=Ha(s);o.tag=2,i!=null&&(o.callback=i),i=Fa(t,o,s),i!==null&&(Qn(i,t,s),Vl(i,t,s))}};function Ry(t,i,s,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!xl(s,o)||!xl(h,d):!0}function Cy(t,i,s,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function Zs(t,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(t=t.defaultProps){s===i&&(s=R({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Iy(t){ec(t)}function Ny(t){console.error(t)}function Dy(t){ec(t)}function Ac(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Oy(t,i,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(t,i,s){return s=Ha(s),s.tag=3,s.payload={element:null},s.callback=function(){Ac(t,i)},s}function My(t){return t=Ha(t),t.tag=3,t}function Vy(t,i,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Oy(i,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Oy(i,s,o),typeof h!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function DE(t,i,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&Io(i,s,h,!0),s=fi.current,s!==null){switch(s.tag){case 31:case 13:return Vi===null?jc():s.alternate===null&&zt===0&&(zt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===cc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),Vd(t,o,h)),!1;case 22:return s.flags|=65536,o===cc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),Vd(t,o,h)),!1}throw Error(a(435,s.tag))}return Vd(t,o,h),jc(),!1}if(Ze)return i=fi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Cf&&(t=Error(a(422),{cause:o}),Il(Ni(t,s)))):(o!==Cf&&(i=Error(a(423),{cause:o}),Il(Ni(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Ni(o,s),h=ud(t.stateNode,o,h),Lf(t,h),zt!==4&&(zt=2)),!1;var d=Error(a(520),{cause:o});if(d=Ni(d,s),Kl===null?Kl=[d]:Kl.push(d),zt!==4&&(zt=2),i===null)return!0;o=Ni(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=ud(s.stateNode,o,t),Lf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xa===null||!Xa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=My(h),Vy(h,t,s,o),Lf(s,h),!1}s=s.return}while(s!==null);return!1}var cd=Error(a(461)),Wt=!1;function pn(t,i,s,o){i.child=t===null?Ug(i,null,s,o):Xs(i,t.child,s,o)}function jy(t,i,s,o,h){s=s.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Qs(i),o=Gf(t,i,s,v,d,h),E=Qf(),t!==null&&!Wt?(Yf(t,i,h),Wr(t,i,h)):(Ze&&E&&xf(i),i.flags|=1,pn(t,i,o,h),i.child)}function ky(t,i,s,o,h){if(t===null){var d=s.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Py(t,i,d,o,h)):(t=rc(s.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!vd(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:xl,s(v,o)&&t.ref===i.ref)return Wr(t,i,h)}return i.flags|=1,t=Yr(d,o),t.ref=i.ref,t.return=i,i.child=t}function Py(t,i,s,o,h){if(t!==null){var d=t.memoizedProps;if(xl(d,o)&&t.ref===i.ref)if(Wt=!1,i.pendingProps=o=d,vd(t,h))(t.flags&131072)!==0&&(Wt=!0);else return i.lanes=t.lanes,Wr(t,i,h)}return hd(t,i,s,o,h)}function Uy(t,i,s,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Ly(t,i,d,s,o)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):Bf(),qg(i);else return o=i.lanes=536870912,Ly(t,i,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(lc(i,d.cachePool),Bg(i,d),Qa(),i.memoizedState=null):(t!==null&&lc(i,null),Bf(),Qa());return pn(t,i,h,s),i.child}function Bl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ly(t,i,s,o,h){var d=jf();return d=d===null?null:{parent:Jt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&lc(i,null),Bf(),qg(i),t!==null&&Io(t,i,o,!0),i.childLanes=h,null}function Sc(t,i){return i=xc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function zy(t,i,s){return Xs(i,t.child,null,s),t=Sc(i,i.pendingProps),t.flags|=2,di(i),i.memoizedState=null,t}function OE(t,i,s){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ze){if(o.mode==="hidden")return t=Sc(i,o),i.lanes=536870912,Bl(null,t);if(Hf(i),(t=bt)?(t=Z0(t,Mi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ua!==null?{id:vr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},s=Ag(t),s.return=i,i.child=s,dn=i,bt=null)):t=null,t===null)throw za(i);return i.lanes=536870912,null}return Sc(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Hf(i),h)if(i.flags&256)i.flags&=-257,i=zy(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Wt||Io(t,i,s,!1),h=(s&t.childLanes)!==0,Wt||h){if(o=vt,o!==null&&(v=kr(o,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,qs(t,v),Qn(o,t,v),cd;jc(),i=zy(t,i,s)}else t=d.treeContext,bt=ji(v.nextSibling),dn=i,Ze=!0,La=null,Mi=!1,t!==null&&xg(i,t),i=Sc(i,o),i.flags|=4096;return i}return t=Yr(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function wc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function hd(t,i,s,o,h){return Qs(i),s=Gf(t,i,s,o,void 0,h),o=Qf(),t!==null&&!Wt?(Yf(t,i,h),Wr(t,i,h)):(Ze&&o&&xf(i),i.flags|=1,pn(t,i,s,h),i.child)}function By(t,i,s,o,h,d){return Qs(i),i.updateQueue=null,s=Fg(i,o,s,h),Hg(t),o=Qf(),t!==null&&!Wt?(Yf(t,i,d),Wr(t,i,d)):(Ze&&o&&xf(i),i.flags|=1,pn(t,i,s,d),i.child)}function qy(t,i,s,o,h){if(Qs(i),i.stateNode===null){var d=wo,v=s.contextType;typeof v=="object"&&v!==null&&(d=mn(v)),d=new s(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Pf(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?mn(v):wo,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(od(i,s,v,o),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ld.enqueueReplaceState(d,d.state,null),kl(i,o,d,h),jl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,O=Zs(s,E);d.props=O;var B=d.context,K=s.contextType;v=wo,typeof K=="object"&&K!==null&&(v=mn(K));var J=s.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||B!==v)&&Cy(i,d,o,v),qa=!1;var q=i.memoizedState;d.state=q,kl(i,o,d,h),jl(),B=i.memoizedState,E||q!==B||qa?(typeof J=="function"&&(od(i,s,J,o),B=i.memoizedState),(O=qa||Ry(i,s,O,o,q,B,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=v,o=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Uf(t,i),v=i.memoizedProps,K=Zs(s,v),d.props=K,J=i.pendingProps,q=d.context,B=s.contextType,O=wo,typeof B=="object"&&B!==null&&(O=mn(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||q!==O)&&Cy(i,d,o,O),qa=!1,q=i.memoizedState,d.state=q,kl(i,o,d,h),jl();var G=i.memoizedState;v!==J||q!==G||qa||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof E=="function"&&(od(i,s,E,o),G=i.memoizedState),(K=qa||Ry(i,s,K,o,q,G,O)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,G,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,G,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=G),d.props=o,d.state=G,d.context=O,o=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,wc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Xs(i,t.child,null,h),i.child=Xs(i,null,s,h)):pn(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Wr(t,i,h),t}function Hy(t,i,s,o){return Fs(),i.flags|=256,pn(t,i,s,o),i.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Og()}}function md(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=pi),t}function Fy(t,i,s){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ze){if(h?Ga(i):Qa(),(t=bt)?(t=Z0(t,Mi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ua!==null?{id:vr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},s=Ag(t),s.return=i,i.child=s,dn=i,bt=null)):t=null,t===null)throw za(i);return Xd(t)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Qa(),h=i.mode,E=xc({mode:"hidden",children:E},h),o=Hs(o,h,s,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=dd(s),o.childLanes=md(t,v,s),i.memoizedState=fd,Bl(null,o)):(Ga(i),pd(i,E))}var O=t.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(d)i.flags&256?(Ga(i),i.flags&=-257,i=gd(t,i,s)):i.memoizedState!==null?(Qa(),i.child=t.child,i.flags|=128,i=null):(Qa(),E=o.fallback,h=i.mode,o=xc({mode:"visible",children:o.children},h),E=Hs(E,h,s,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Xs(i,t.child,null,s),o=i.child,o.memoizedState=dd(s),o.childLanes=md(t,v,s),i.memoizedState=fd,i=Bl(null,o));else if(Ga(i),Xd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var B=v.dgst;v=B,o=Error(a(419)),o.stack="",o.digest=v,Il({value:o,source:null,stack:null}),i=gd(t,i,s)}else if(Wt||Io(t,i,s,!1),v=(s&t.childLanes)!==0,Wt||v){if(v=vt,v!==null&&(o=kr(v,s),o!==0&&o!==O.retryLane))throw O.retryLane=o,qs(t,o),Qn(v,t,o),cd;$d(E)||jc(),i=gd(t,i,s)}else $d(E)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,bt=ji(E.nextSibling),dn=i,Ze=!0,La=null,Mi=!1,t!==null&&xg(i,t),i=pd(i,o.children),i.flags|=4096);return i}return h?(Qa(),E=o.fallback,h=i.mode,O=t.child,B=O.sibling,o=Yr(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,B!==null?E=Yr(B,E):(E=Hs(E,h,s,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,Bl(null,o),o=i.child,E=t.child.memoizedState,E===null?E=dd(s):(h=E.cachePool,h!==null?(O=Jt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Og(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=md(t,v,s),i.memoizedState=fd,Bl(t.child,o)):(Ga(i),s=t.child,t=s.sibling,s=Yr(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function pd(t,i){return i=xc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xc(t,i){return t=hi(22,t,null,i),t.lanes=0,t}function gd(t,i,s){return Xs(i,t.child,null,s),t=pd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gy(t,i,s){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Df(t.return,i,s)}function yd(t,i,s,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=s,v.tailMode=h,v.treeForkCount=d)}function Qy(t,i,s){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=Qt.current,E=(v&2)!==0;if(E?(v=v&1|2,i.flags|=128):v&=1,le(Qt,v),pn(t,i,o,s),o=Ze?Cl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,s,i);else if(t.tag===19)Gy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&mc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),yd(i,!1,h,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&mc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}yd(i,!0,s,null,d,o);break;case"together":yd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Wr(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),$a|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Io(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Yr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Yr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function ME(t,i,s){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Ba(i,Jt,t.memoizedState.cache),Fs();break;case 27:case 5:rr(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Ba(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Hf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ga(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Fy(t,i,s):(Ga(i),t=Wr(t,i,s),t!==null?t.sibling:null);Ga(i);break;case 19:var h=(t.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(Io(t,i,s,!1),o=(s&i.childLanes)!==0),h){if(o)return Qy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Qt,Qt.current),o)break;return null;case 22:return i.lanes=0,Uy(t,i,s,i.pendingProps);case 24:Ba(i,Jt,t.memoizedState.cache)}return Wr(t,i,s)}function Yy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Wt=!0;else{if(!vd(t,s)&&(i.flags&128)===0)return Wt=!1,ME(t,i,s);Wt=(t.flags&131072)!==0}else Wt=!1,Ze&&(i.flags&1048576)!==0&&wg(i,Cl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Ks(i.elementType),i.type=t,typeof t=="function")Af(t)?(o=Zs(t,o),i.tag=1,i=qy(null,i,t,o,s)):(i.tag=0,i=hd(null,i,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===de){i.tag=11,i=jy(null,i,t,o,s);break e}else if(h===I){i.tag=14,i=ky(null,i,t,o,s);break e}}throw i=je(t)||t,Error(a(306,i,""))}}return i;case 0:return hd(t,i,i.type,i.pendingProps,s);case 1:return o=i.type,h=Zs(o,i.pendingProps),qy(t,i,o,h,s);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),kl(i,o,null,s);var v=i.memoizedState;if(o=v.cache,Ba(i,Jt,o),o!==d.cache&&Of(i,[Jt],s,!0),jl(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(t,i,o,s);break e}else if(o!==h){h=Ni(Error(a(424)),i),Il(h),i=Hy(t,i,o,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=ji(t.firstChild),dn=i,Ze=!0,La=null,Mi=!0,s=Ug(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Fs(),o===h){i=Wr(t,i,s);break e}pn(t,i,o,s)}i=i.child}return i;case 26:return wc(t,i),t===null?(s=rv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ze||(s=i.type,t=i.pendingProps,o=qc(Ne.current).createElement(s),o[Dt]=i,o[Le]=t,gn(o,s,t),Ot(o),i.stateNode=o):i.memoizedState=rv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return rr(i),t===null&&Ze&&(o=i.stateNode=tv(i.type,i.pendingProps,Ne.current),dn=i,Mi=!0,h=bt,es(i.type)?(Jd=h,bt=ji(o.firstChild)):bt=h),pn(t,i,i.pendingProps.children,s),wc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ze&&((h=o=bt)&&(o=uT(o,i.type,i.pendingProps,Mi),o!==null?(i.stateNode=o,dn=i,bt=ji(o.firstChild),Mi=!1,h=!0):h=!1),h||za(i)),rr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,Qd(h,d)?o=null:v!==null&&Qd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Gf(t,i,SE,null,null,s),nu._currentValue=h),wc(t,i),pn(t,i,o,s),i.child;case 6:return t===null&&Ze&&((t=s=bt)&&(s=cT(s,i.pendingProps,Mi),s!==null?(i.stateNode=s,dn=i,bt=null,t=!0):t=!1),t||za(i)),null;case 13:return Fy(t,i,s);case 4:return kt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Xs(i,null,o,s):pn(t,i,o,s),i.child;case 11:return jy(t,i,i.type,i.pendingProps,s);case 7:return pn(t,i,i.pendingProps,s),i.child;case 8:return pn(t,i,i.pendingProps.children,s),i.child;case 12:return pn(t,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,Ba(i,i.type,o.value),pn(t,i,o.children,s),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Qs(i),h=mn(h),o=o(h),i.flags|=1,pn(t,i,o,s),i.child;case 14:return ky(t,i,i.type,i.pendingProps,s);case 15:return Py(t,i,i.type,i.pendingProps,s);case 19:return Qy(t,i,s);case 31:return OE(t,i,s);case 22:return Uy(t,i,s,i.pendingProps);case 24:return Qs(i),o=mn(Jt),t===null?(h=jf(),h===null&&(h=vt,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:o,cache:h},Pf(i),Ba(i,Jt,h)):((t.lanes&s)!==0&&(Uf(t,i),kl(i,null,null,s),jl()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ba(i,Jt,o)):(o=d.cache,Ba(i,Jt,o),o!==h.cache&&Of(i,[Jt],s,!0))),pn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ea(t){t.flags|=4}function _d(t,i,s,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(b0())t.flags|=8192;else throw $s=cc,kf}else t.flags&=-16777217}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(i))if(b0())t.flags|=8192;else throw $s=cc,kf}function Rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?qi():536870912,t.lanes|=i,Bo|=i)}function ql(t,i){if(!Ze)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Et(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,i}function VE(t,i,s){var o=i.pendingProps;switch(Rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Et(i),null;case 3:return s=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Xr(Jt),ft(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Co(i)?ea(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),Et(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ea(i),d!==null?(Et(i),Ky(i,d)):(Et(i),_d(i,h,null,o,s))):d?d!==t.memoizedState?(ea(i),Et(i),Ky(i,d)):(Et(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&ea(i),Et(i),_d(i,h,t,o,s)),null;case 27:if(Mr(i),s=Ne.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ea(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return Et(i),null}t=ue.current,Co(i)?Rg(i):(t=tv(h,o,s),i.stateNode=t,ea(i))}return Et(i),null;case 5:if(Mr(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ea(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return Et(i),null}if(d=ue.current,Co(i))Rg(i);else{var v=qc(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[Dt]=i,d[Le]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(gn(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ea(i)}}return Et(i),_d(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ea(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ne.current,Co(i)){if(t=i.stateNode,s=i.memoizedProps,o=null,h=dn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||F0(t.nodeValue,s)),t||za(i,!0)}else t=qc(t).createTextNode(o),t[Dt]=i,i.stateNode=t}return Et(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(o=Co(i),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Dt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),t=!1}else s=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(di(i),i):(di(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Et(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Co(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(di(i),i):(di(i),null)}return di(i),(i.flags&128)!==0?(i.lanes=s,i):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Rc(i,i.updateQueue),Et(i),null);case 4:return ft(),t===null&&Bd(i.stateNode.containerInfo),Et(i),null;case 10:return Xr(i.type),Et(i),null;case 19:if($(Qt),o=i.memoizedState,o===null)return Et(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)ql(o,!1);else{if(zt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=mc(t),d!==null){for(i.flags|=128,ql(o,!1),t=d.updateQueue,i.updateQueue=t,Rc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Tg(s,t),s=s.sibling;return le(Qt,Qt.current&1|2),Ze&&Kr(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Nt()>Oc&&(i.flags|=128,h=!0,ql(o,!1),i.lanes=4194304)}else{if(!h)if(t=mc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Rc(i,t),ql(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ze)return Et(i),null}else 2*Nt()-o.renderingStartTime>Oc&&s!==536870912&&(i.flags|=128,h=!0,ql(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Nt(),t.sibling=null,s=Qt.current,le(Qt,h?s&1|2:s&1),Ze&&Kr(i,o.treeForkCount),t):(Et(i),null);case 22:case 23:return di(i),qf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),s=i.updateQueue,s!==null&&Rc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),t!==null&&$(Ys),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Xr(Jt),Et(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function jE(t,i){switch(Rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xr(Jt),ft(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Mr(i),null;case 31:if(i.memoizedState!==null){if(di(i),i.alternate===null)throw Error(a(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(di(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(Qt),null;case 4:return ft(),null;case 10:return Xr(i.type),null;case 22:case 23:return di(i),qf(),t!==null&&$(Ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xr(Jt),null;case 25:return null;default:return null}}function $y(t,i){switch(Rf(i),i.tag){case 3:Xr(Jt),ft();break;case 26:case 27:case 5:Mr(i);break;case 4:ft();break;case 31:i.memoizedState!==null&&di(i);break;case 13:di(i);break;case 19:$(Qt);break;case 10:Xr(i.type);break;case 22:case 23:di(i),qf(),t!==null&&$(Ys);break;case 24:Xr(Jt)}}function Hl(t,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var d=s.create,v=s.inst;o=d(),v.destroy=o}s=s.next}while(s!==h)}}catch(E){ht(i,i.return,E)}}function Ya(t,i,s){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var O=s,B=E;try{B()}catch(K){ht(h,O,K)}}}o=o.next}while(o!==d)}}catch(K){ht(i,i.return,K)}}function Xy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{zg(i,s)}catch(o){ht(t,t.return,o)}}}function Jy(t,i,s){s.props=Zs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ht(t,i,o)}}function Fl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){ht(t,i,h)}}function br(t,i){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ht(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ht(t,i,h)}else s.current=null}function Zy(t){var i=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ht(t,t.return,h)}}function bd(t,i,s){try{var o=t.stateNode;iT(o,t.type,s,i),o[Le]=i}catch(h){ht(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=oi));else if(o!==4&&(o===27&&es(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Td(t,i,s),t=t.sibling;t!==null;)Td(t,i,s),t=t.sibling}function Cc(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(o!==4&&(o===27&&es(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Cc(t,i,s),t=t.sibling;t!==null;)Cc(t,i,s),t=t.sibling}function e0(t){var i=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);gn(i,o,s),i[Dt]=t,i[Le]=s}catch(d){ht(t,t.return,d)}}var ta=!1,en=!1,Ad=!1,t0=typeof WeakSet=="function"?WeakSet:Set,hn=null;function kE(t,i){if(t=t.containerInfo,Fd=$c,t=dg(t),gf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,E=-1,O=-1,B=0,K=0,J=t,q=null;t:for(;;){for(var G;J!==s||h!==0&&J.nodeType!==3||(E=v+h),J!==d||o!==0&&J.nodeType!==3||(O=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===t)break t;if(q===s&&++B===h&&(E=v),q===d&&++K===o&&(O=v),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}s=E===-1||O===-1?null:{start:E,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gd={focusedElem:t,selectionRange:s},$c=!1,hn=i;hn!==null;)if(i=hn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,hn=t;else for(;hn!==null;){switch(i=hn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var ge=Zs(s.type,h);t=o.getSnapshotBeforeUpdate(ge,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){ht(s,s.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Kd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,hn=t;break}hn=i.return}}function n0(t,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ia(t,s),o&4&&Hl(5,s);break;case 1:if(ia(t,s),o&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){ht(s,s.return,v)}else{var h=Zs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ht(s,s.return,v)}}o&64&&Xy(s),o&512&&Fl(s,s.return);break;case 3:if(ia(t,s),o&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{zg(t,i)}catch(v){ht(s,s.return,v)}}break;case 27:i===null&&o&4&&e0(s);case 26:case 5:ia(t,s),i===null&&o&4&&Zy(s),o&512&&Fl(s,s.return);break;case 12:ia(t,s);break;case 31:ia(t,s),o&4&&a0(t,s);break;case 13:ia(t,s),o&4&&s0(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=GE.bind(null,s),hT(t,s))));break;case 22:if(o=s.memoizedState!==null||ta,!o){i=i!==null&&i.memoizedState!==null||en,h=ta;var d=en;ta=o,(en=i)&&!d?ra(t,s,(s.subtreeFlags&8772)!==0):ia(t,s),ta=h,en=d}break;case 30:break;default:ia(t,s)}}function i0(t){var i=t.alternate;i!==null&&(t.alternate=null,i0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ra(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,qn=!1;function na(t,i,s){for(s=s.child;s!==null;)r0(t,i,s),s=s.sibling}function r0(t,i,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(An,s)}catch{}switch(s.tag){case 26:en||br(s,i),na(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:en||br(s,i);var o=Rt,h=qn;es(s.type)&&(Rt=s.stateNode,qn=!1),na(t,i,s),Wl(s.stateNode),Rt=o,qn=h;break;case 5:en||br(s,i);case 6:if(o=Rt,h=qn,Rt=null,na(t,i,s),Rt=o,qn=h,Rt!==null)if(qn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(d){ht(s,i,d)}else try{Rt.removeChild(s.stateNode)}catch(d){ht(s,i,d)}break;case 18:Rt!==null&&(qn?(t=Rt,X0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),$o(t)):X0(Rt,s.stateNode));break;case 4:o=Rt,h=qn,Rt=s.stateNode.containerInfo,qn=!0,na(t,i,s),Rt=o,qn=h;break;case 0:case 11:case 14:case 15:Ya(2,s,i),en||Ya(4,s,i),na(t,i,s);break;case 1:en||(br(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Jy(s,i,o)),na(t,i,s);break;case 21:na(t,i,s);break;case 22:en=(o=en)||s.memoizedState!==null,na(t,i,s),en=o;break;default:na(t,i,s)}}function a0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$o(t)}catch(s){ht(i,i.return,s)}}}function s0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$o(t)}catch(s){ht(i,i.return,s)}}function PE(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new t0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new t0),i;default:throw Error(a(435,t.tag))}}function Ic(t,i){var s=PE(t);i.forEach(function(o){if(!s.has(o)){s.add(o);var h=QE.bind(null,t,o);o.then(h,h)}})}function Hn(t,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(es(E.type)){Rt=E.stateNode,qn=!1;break e}break;case 5:Rt=E.stateNode,qn=!1;break e;case 3:case 4:Rt=E.stateNode.containerInfo,qn=!0;break e}E=E.return}if(Rt===null)throw Error(a(160));r0(d,v,h),Rt=null,qn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)o0(i,t),i=i.sibling}var Ji=null;function o0(t,i){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(i,t),Fn(t),o&4&&(Ya(3,t,t.return),Hl(3,t),Ya(5,t,t.return));break;case 1:Hn(i,t),Fn(t),o&512&&(en||s===null||br(s,s.return)),o&64&&ta&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Ji;if(Hn(i,t),Fn(t),o&512&&(en||s===null||br(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ni]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),gn(d,o,s),d[Dt]=t,Ot(d),o=d;break e;case"link":var v=ov("link","href",h).get(o+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(o),gn(d,o,s),h.head.appendChild(d);break;case"meta":if(v=ov("meta","content",h).get(o+(s.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break t}}d=h.createElement(o),gn(d,o,s),h.head.appendChild(d);break;default:throw Error(a(468,o))}d[Dt]=t,Ot(d),o=d}t.stateNode=o}else lv(h,t.type,t.stateNode);else t.stateNode=sv(h,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?lv(h,t.type,t.stateNode):sv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&bd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Hn(i,t),Fn(t),o&512&&(en||s===null||br(s,s.return)),s!==null&&o&4&&bd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Hn(i,t),Fn(t),o&512&&(en||s===null||br(s,s.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(ge){ht(t,t.return,ge)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,bd(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Ad=!0);break;case 6:if(Hn(i,t),Fn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ge){ht(t,t.return,ge)}}break;case 3:if(Gc=null,h=Ji,Ji=Hc(i.containerInfo),Hn(i,t),Ji=h,Fn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{$o(i.containerInfo)}catch(ge){ht(t,t.return,ge)}Ad&&(Ad=!1,l0(t));break;case 4:o=Ji,Ji=Hc(t.stateNode.containerInfo),Hn(i,t),Fn(t),Ji=o;break;case 12:Hn(i,t),Fn(t);break;case 31:Hn(i,t),Fn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ic(t,o)));break;case 13:Hn(i,t),Fn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Dc=Nt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ic(t,o)));break;case 22:h=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,B=ta,K=en;if(ta=B||h,en=K||O,Hn(i,t),en=K,ta=B,Fn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||O||ta||en||Ws(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){O=s=i;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=O.stateNode;var J=O.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ge){ht(O,O.return,ge)}}}else if(i.tag===6){if(s===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ge){ht(O,O.return,ge)}}}else if(i.tag===18){if(s===null){O=i;try{var G=O.stateNode;h?J0(G,!0):J0(O.stateNode,!1)}catch(ge){ht(O,O.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ic(t,s))));break;case 19:Hn(i,t),Fn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ic(t,o)));break;case 30:break;case 21:break;default:Hn(i,t),Fn(t)}}function Fn(t){var i=t.flags;if(i&2){try{for(var s,o=t.return;o!==null;){if(Wy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Ed(t);Cc(t,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(xn(v,""),s.flags&=-33);var E=Ed(t);Cc(t,E,v);break;case 3:case 4:var O=s.stateNode.containerInfo,B=Ed(t);Td(t,B,O);break;default:throw Error(a(161))}}catch(K){ht(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function l0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;l0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ia(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n0(t,i.alternate,i),i=i.sibling}function Ws(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ya(4,i,i.return),Ws(i);break;case 1:br(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Jy(i,i.return,s),Ws(i);break;case 27:Wl(i.stateNode);case 26:case 5:br(i,i.return),Ws(i);break;case 22:i.memoizedState===null&&Ws(i);break;case 30:Ws(i);break;default:Ws(i)}t=t.sibling}}function ra(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ra(h,d,s),Hl(4,d);break;case 1:if(ra(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ht(o,o.return,B)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Lg(O[h],E)}catch(B){ht(o,o.return,B)}}s&&v&64&&Xy(d),Fl(d,d.return);break;case 27:e0(d);case 26:case 5:ra(h,d,s),s&&o===null&&v&4&&Zy(d),Fl(d,d.return);break;case 12:ra(h,d,s);break;case 31:ra(h,d,s),s&&v&4&&a0(h,d);break;case 13:ra(h,d,s),s&&v&4&&s0(h,d);break;case 22:d.memoizedState===null&&ra(h,d,s),Fl(d,d.return);break;case 30:break;default:ra(h,d,s)}i=i.sibling}}function Sd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Nl(s))}function wd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Nl(t))}function Zi(t,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u0(t,i,s,o),i=i.sibling}function u0(t,i,s,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zi(t,i,s,o),h&2048&&Hl(9,i);break;case 1:Zi(t,i,s,o);break;case 3:Zi(t,i,s,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Nl(t)));break;case 12:if(h&2048){Zi(t,i,s,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ht(i,i.return,O)}}else Zi(t,i,s,o);break;case 31:Zi(t,i,s,o);break;case 13:Zi(t,i,s,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Zi(t,i,s,o):Gl(t,i):d._visibility&2?Zi(t,i,s,o):(d._visibility|=2,Uo(t,i,s,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Sd(v,i);break;case 24:Zi(t,i,s,o),h&2048&&wd(i.alternate,i);break;default:Zi(t,i,s,o)}}function Uo(t,i,s,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,E=s,O=o,B=v.flags;switch(v.tag){case 0:case 11:case 15:Uo(d,v,E,O,h),Hl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Uo(d,v,E,O,h):Gl(d,v):(K._visibility|=2,Uo(d,v,E,O,h)),h&&B&2048&&Sd(v.alternate,v);break;case 24:Uo(d,v,E,O,h),h&&B&2048&&wd(v.alternate,v);break;default:Uo(d,v,E,O,h)}i=i.sibling}}function Gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,o=i,h=o.flags;switch(o.tag){case 22:Gl(s,o),h&2048&&Sd(o.alternate,o);break;case 24:Gl(s,o),h&2048&&wd(o.alternate,o);break;default:Gl(s,o)}i=i.sibling}}var Ql=8192;function Lo(t,i,s){if(t.subtreeFlags&Ql)for(t=t.child;t!==null;)c0(t,i,s),t=t.sibling}function c0(t,i,s){switch(t.tag){case 26:Lo(t,i,s),t.flags&Ql&&t.memoizedState!==null&&AT(s,Ji,t.memoizedState,t.memoizedProps);break;case 5:Lo(t,i,s);break;case 3:case 4:var o=Ji;Ji=Hc(t.stateNode.containerInfo),Lo(t,i,s),Ji=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ql,Ql=16777216,Lo(t,i,s),Ql=o):Lo(t,i,s));break;default:Lo(t,i,s)}}function h0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];hn=o,d0(o,t)}h0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f0(t),t=t.sibling}function f0(t){switch(t.tag){case 0:case 11:case 15:Yl(t),t.flags&2048&&Ya(9,t,t.return);break;case 3:Yl(t);break;case 12:Yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Nc(t)):Yl(t);break;default:Yl(t)}}function Nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];hn=o,d0(o,t)}h0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ya(8,i,i.return),Nc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Nc(i));break;default:Nc(i)}t=t.sibling}}function d0(t,i){for(;hn!==null;){var s=hn;switch(s.tag){case 0:case 11:case 15:Ya(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,hn=o;else e:for(s=t;hn!==null;){o=hn;var h=o.sibling,d=o.return;if(i0(o),o===s){hn=null;break e}if(h!==null){h.return=d,hn=h;break e}hn=d}}}var UE={getCacheForType:function(t){var i=mn(Jt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return mn(Jt).controller.signal}},LE=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Fe=null,Ye=0,ct=0,mi=null,Ka=!1,zo=!1,xd=!1,aa=0,zt=0,$a=0,eo=0,Rd=0,pi=0,Bo=0,Kl=null,Gn=null,Cd=!1,Dc=0,m0=0,Oc=1/0,Mc=null,Xa=null,ln=0,Ja=null,qo=null,sa=0,Id=0,Nd=null,p0=null,$l=0,Dd=null;function gi(){return(ot&2)!==0&&Ye!==0?Ye&-Ye:Y.T!==null?Pd():Sn()}function g0(){if(pi===0)if((Ye&536870912)===0||Ze){var t=bi;bi<<=1,(bi&3932160)===0&&(bi=262144),pi=t}else pi=536870912;return t=fi.current,t!==null&&(t.flags|=32),pi}function Qn(t,i,s){(t===vt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Ho(t,0),Za(t,Ye,pi,!1)),Ei(t,s),((ot&2)===0||t!==vt)&&(t===vt&&((ot&2)===0&&(eo|=s),zt===4&&Za(t,Ye,pi,!1)),Er(t))}function y0(t,i,s){if((ot&6)!==0)throw Error(a(327));var o=!s&&(i&127)===0&&(i&t.expiredLanes)===0||jn(t,i),h=o?qE(t,i):Md(t,i,!0),d=o;do{if(h===0){zo&&!o&&Za(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!zE(s)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=Kl;var O=E.current.memoizedState.isDehydrated;if(O&&(Ho(E,v).flags|=256),v=Md(E,v,!1),v!==2){if(xd&&!O){E.errorRecoveryDisabledLanes|=d,eo|=d,h=4;break e}d=Gn,Gn=h,d!==null&&(Gn===null?Gn=d:Gn.push.apply(Gn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ho(t,0),Za(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Za(o,i,pi,!Ka);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Dc+300-Nt(),10<h)){if(Za(o,i,pi,!Ka),Re(o,0,!0)!==0)break e;sa=i,o.timeoutHandle=K0(v0.bind(null,o,s,Gn,Mc,Cd,i,pi,eo,Bo,Ka,d,"Throttled",-0,0),h);break e}v0(o,s,Gn,Mc,Cd,i,pi,eo,Bo,Ka,d,null,-0,0)}}break}while(!0);Er(t)}function v0(t,i,s,o,h,d,v,E,O,B,K,J,q,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},c0(i,d,J);var ge=(d&62914560)===d?Dc-Nt():(d&4194048)===d?m0-Nt():0;if(ge=ST(J,ge),ge!==null){sa=d,t.cancelPendingCommit=ge(x0.bind(null,t,i,d,s,o,h,v,E,O,K,J,null,q,G)),Za(t,d,v,!B);return}}x0(t,i,d,s,o,h,v,E,O)}function zE(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!ci(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Za(t,i,s,o){i&=~Rd,i&=~eo,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-wt(h),v=1<<d;o[d]=-1,h&=~v}s!==0&&sr(t,s,i)}function Vc(){return(ot&6)===0?(Xl(0),!1):!0}function Od(){if(Fe!==null){if(ct===0)var t=Fe.return;else t=Fe,$r=Gs=null,Kf(t),Mo=null,Ol=0,t=Fe;for(;t!==null;)$y(t.alternate,t),t=t.return;Fe=null}}function Ho(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,sT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),sa=0,Od(),vt=t,Fe=s=Yr(t.current,null),Ye=i,ct=0,mi=null,Ka=!1,zo=jn(t,i),xd=!1,Bo=pi=Rd=eo=$a=zt=0,Gn=Kl=null,Cd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-wt(o),d=1<<h;i|=t[h],o&=~d}return aa=i,tc(),s}function _0(t,i){Pe=null,Y.H=zl,i===Oo||i===uc?(i=jg(),ct=3):i===kf?(i=jg(),ct=4):ct=i===cd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mi=i,Fe===null&&(zt=1,Ac(t,Ni(i,t.current)))}function b0(){var t=fi.current;return t===null?!0:(Ye&4194048)===Ye?Vi===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?t===Vi:!1}function E0(){var t=Y.H;return Y.H=zl,t===null?zl:t}function T0(){var t=Y.A;return Y.A=UE,t}function jc(){zt=4,Ka||(Ye&4194048)!==Ye&&fi.current!==null||(zo=!0),($a&134217727)===0&&(eo&134217727)===0||vt===null||Za(vt,Ye,pi,!1)}function Md(t,i,s){var o=ot;ot|=2;var h=E0(),d=T0();(vt!==t||Ye!==i)&&(Mc=null,Ho(t,i)),i=!1;var v=zt;e:do try{if(ct!==0&&Fe!==null){var E=Fe,O=mi;switch(ct){case 8:Od(),v=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(i=!0);var B=ct;if(ct=0,mi=null,Fo(t,E,O,B),s&&zo){v=0;break e}break;default:B=ct,ct=0,mi=null,Fo(t,E,O,B)}}BE(),v=zt;break}catch(K){_0(t,K)}while(!0);return i&&t.shellSuspendCounter++,$r=Gs=null,ot=o,Y.H=h,Y.A=d,Fe===null&&(vt=null,Ye=0,tc()),v}function BE(){for(;Fe!==null;)A0(Fe)}function qE(t,i){var s=ot;ot|=2;var o=E0(),h=T0();vt!==t||Ye!==i?(Mc=null,Oc=Nt()+500,Ho(t,i)):zo=jn(t,i);e:do try{if(ct!==0&&Fe!==null){i=Fe;var d=mi;t:switch(ct){case 1:ct=0,mi=null,Fo(t,i,d,1);break;case 2:case 9:if(Mg(d)){ct=0,mi=null,S0(i);break}i=function(){ct!==2&&ct!==9||vt!==t||(ct=7),Er(t)},d.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Mg(d)?(ct=0,mi=null,S0(i)):(ct=0,mi=null,Fo(t,i,d,7));break;case 5:var v=null;switch(Fe.tag){case 26:v=Fe.memoizedState;case 5:case 27:var E=Fe;if(v?uv(v):E.stateNode.complete){ct=0,mi=null;var O=E.sibling;if(O!==null)Fe=O;else{var B=E.return;B!==null?(Fe=B,kc(B)):Fe=null}break t}}ct=0,mi=null,Fo(t,i,d,5);break;case 6:ct=0,mi=null,Fo(t,i,d,6);break;case 8:Od(),zt=6;break e;default:throw Error(a(462))}}HE();break}catch(K){_0(t,K)}while(!0);return $r=Gs=null,Y.H=o,Y.A=h,ot=s,Fe!==null?0:(vt=null,Ye=0,tc(),zt)}function HE(){for(;Fe!==null&&!Ns();)A0(Fe)}function A0(t){var i=Yy(t.alternate,t,aa);t.memoizedProps=t.pendingProps,i===null?kc(t):Fe=i}function S0(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=By(s,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=By(s,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:Kf(i);default:$y(s,i),i=Fe=Tg(i,aa),i=Yy(s,i,aa)}t.memoizedProps=t.pendingProps,i===null?kc(t):Fe=i}function Fo(t,i,s,o){$r=Gs=null,Kf(i),Mo=null,Ol=0;var h=i.return;try{if(DE(t,h,i,s,Ye)){zt=1,Ac(t,Ni(s,t.current)),Fe=null;return}}catch(d){if(h!==null)throw Fe=h,d;zt=1,Ac(t,Ni(s,t.current)),Fe=null;return}i.flags&32768?(Ze||o===1?t=!0:zo||(Ye&536870912)!==0?t=!1:(Ka=t=!0,(o===2||o===9||o===3||o===6)&&(o=fi.current,o!==null&&o.tag===13&&(o.flags|=16384))),w0(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){w0(i,Ka);return}t=i.return;var s=VE(i.alternate,i,aa);if(s!==null){Fe=s;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=t}while(i!==null);zt===0&&(zt=5)}function w0(t,i){do{var s=jE(t.alternate,t);if(s!==null){s.flags&=32767,Fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=s}while(t!==null);zt=6,Fe=null}function x0(t,i,s,o,h,d,v,E,O){t.cancelPendingCommit=null;do Pc();while(ln!==0);if((ot&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Ef,wa(t,s,d,v,E,O),t===vt&&(Fe=vt=null,Ye=0),qo=i,Ja=t,sa=s,Id=d,Nd=h,p0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YE(zi,function(){return D0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,h=se.p,se.p=2,v=ot,ot|=4;try{kE(t,i,s)}finally{ot=v,se.p=h,Y.T=o}}ln=1,R0(),C0(),I0()}}function R0(){if(ln===1){ln=0;var t=Ja,i=qo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var o=se.p;se.p=2;var h=ot;ot|=4;try{o0(i,t);var d=Gd,v=dg(t.containerInfo),E=d.focusedElem,O=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(O!==null&&gf(E)){var B=O.start,K=O.end;if(K===void 0&&(K=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(K,E.value.length);else{var J=E.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),ge=E.textContent.length,we=Math.min(O.start,ge),pt=O.end===void 0?we:Math.min(O.end,ge);!G.extend&&we>pt&&(v=pt,pt=we,we=v);var U=hg(E,we),j=hg(E,pt);if(U&&j&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==j.node||G.focusOffset!==j.offset)){var z=J.createRange();z.setStart(U.node,U.offset),G.removeAllRanges(),we>pt?(G.addRange(z),G.extend(j.node,j.offset)):(z.setEnd(j.node,j.offset),G.addRange(z))}}}}for(J=[],G=E;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}$c=!!Fd,Gd=Fd=null}finally{ot=h,se.p=o,Y.T=s}}t.current=i,ln=2}}function C0(){if(ln===2){ln=0;var t=Ja,i=qo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var o=se.p;se.p=2;var h=ot;ot|=4;try{n0(t,i.alternate,i)}finally{ot=h,se.p=o,Y.T=s}}ln=3}}function I0(){if(ln===4||ln===3){ln=0,ba();var t=Ja,i=qo,s=sa,o=p0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,qo=Ja=null,N0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xa=null),ti(s),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(An,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{Y.T=i,se.p=h}}(sa&3)!==0&&Pc(),Er(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Dd?$l++:($l=0,Dd=t):$l=0,Xl(0)}}function N0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Nl(i)))}function Pc(){return R0(),C0(),I0(),D0()}function D0(){if(ln!==5)return!1;var t=Ja,i=Id;Id=0;var s=ti(sa),o=Y.T,h=se.p;try{se.p=32>s?32:s,Y.T=null,s=Nd,Nd=null;var d=Ja,v=sa;if(ln=0,qo=Ja=null,sa=0,(ot&6)!==0)throw Error(a(331));var E=ot;if(ot|=4,f0(d.current),u0(d,d.current,v,s),ot=E,Xl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(An,d)}catch{}return!0}finally{se.p=h,Y.T=o,N0(t,i)}}function O0(t,i,s){i=Ni(s,i),i=ud(t.stateNode,i,2),t=Fa(t,i,2),t!==null&&(Ei(t,2),Er(t))}function ht(t,i,s){if(t.tag===3)O0(t,t,s);else for(;i!==null;){if(i.tag===3){O0(i,t,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xa===null||!Xa.has(o))){t=Ni(s,t),s=My(2),o=Fa(i,s,2),o!==null&&(Vy(s,o,i,t),Ei(o,2),Er(o));break}}i=i.return}}function Vd(t,i,s){var o=t.pingCache;if(o===null){o=t.pingCache=new LE;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(s)||(xd=!0,h.add(s),t=FE.bind(null,t,i,s),i.then(t,t))}function FE(t,i,s){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,vt===t&&(Ye&s)===s&&(zt===4||zt===3&&(Ye&62914560)===Ye&&300>Nt()-Dc?(ot&2)===0&&Ho(t,0):Rd|=s,Bo===Ye&&(Bo=0)),Er(t)}function M0(t,i){i===0&&(i=qi()),t=qs(t,i),t!==null&&(Ei(t,i),Er(t))}function GE(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),M0(t,s)}function QE(t,i){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),M0(t,s)}function YE(t,i){return Pt(t,i)}var Uc=null,Go=null,jd=!1,Lc=!1,kd=!1,Wa=0;function Er(t){t!==Go&&t.next===null&&(Go===null?Uc=Go=t:Go=Go.next=t),Lc=!0,jd||(jd=!0,$E())}function Xl(t,i){if(!kd&&Lc){kd=!0;do for(var s=!1,o=Uc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-wt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,P0(o,d))}else d=Ye,d=Re(o,o===vt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||jn(o,d)||(s=!0,P0(o,d));o=o.next}while(s);kd=!1}}function KE(){V0()}function V0(){Lc=jd=!1;var t=0;Wa!==0&&aT()&&(t=Wa);for(var i=Nt(),s=null,o=Uc;o!==null;){var h=o.next,d=j0(o,i);d===0?(o.next=null,s===null?Uc=h:s.next=h,h===null&&(Go=s)):(s=o,(t!==0||(d&3)!==0)&&(Lc=!0)),o=h}ln!==0&&ln!==5||Xl(t),Wa!==0&&(Wa=0)}function j0(t,i){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-wt(d),E=1<<v,O=h[v];O===-1?((E&s)===0||(E&o)!==0)&&(h[v]=yo(E,i)):O<=i&&(t.expiredLanes|=E),d&=~E}if(i=vt,s=Ye,s=Re(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===i&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_i(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||jn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(o!==null&&_i(o),ti(s)){case 2:case 8:s=Li;break;case 32:s=zi;break;case 268435456:s=po;break;default:s=zi}return o=k0.bind(null,t),s=Pt(s,o),t.callbackPriority=i,t.callbackNode=s,i}return o!==null&&o!==null&&_i(o),t.callbackPriority=2,t.callbackNode=null,2}function k0(t,i){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Pc()&&t.callbackNode!==s)return null;var o=Ye;return o=Re(t,t===vt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(y0(t,o,i),j0(t,Nt()),t.callbackNode!=null&&t.callbackNode===s?k0.bind(null,t):null)}function P0(t,i){if(Pc())return null;y0(t,i,!0)}function $E(){oT(function(){(ot&6)!==0?Pt(Ea,KE):V0()})}function Pd(){if(Wa===0){var t=No;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),Wa=t}return Wa}function U0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function L0(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function XE(t,i,s,o,h){if(i==="submit"&&s&&s.stateNode===h){var d=U0((h[Le]||null).action),v=o.submitter;v&&(i=(i=v[Le]||null)?U0(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wa!==0){var O=v?L0(h,v):new FormData(h);id(s,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(E.preventDefault(),O=v?L0(h,v):new FormData(h),id(s,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Ud=0;Ud<bf.length;Ud++){var Ld=bf[Ud],JE=Ld.toLowerCase(),ZE=Ld[0].toUpperCase()+Ld.slice(1);Xi(JE,"on"+ZE)}Xi(gg,"onAnimationEnd"),Xi(yg,"onAnimationIteration"),Xi(vg,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(mE,"onTransitionRun"),Xi(pE,"onTransitionStart"),Xi(gE,"onTransitionCancel"),Xi(_g,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function z0(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],O=E.instance,B=E.currentTarget;if(E=E.listener,O!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=B;try{d(h)}catch(K){ec(K)}h.currentTarget=null,d=O}else for(v=0;v<o.length;v++){if(E=o[v],O=E.instance,B=E.currentTarget,E=E.listener,O!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=B;try{d(h)}catch(K){ec(K)}h.currentTarget=null,d=O}}}}function Ge(t,i){var s=i[Pr];s===void 0&&(s=i[Pr]=new Set);var o=t+"__bubble";s.has(o)||(B0(i,t,2,!1),s.add(o))}function zd(t,i,s){var o=0;i&&(o|=4),B0(s,t,o,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[zc]){t[zc]=!0,or.forEach(function(s){s!=="selectionchange"&&(WE.has(s)||zd(s,!1,t),zd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[zc]||(i[zc]=!0,zd("selectionchange",!1,i))}}function B0(t,i,s,o){switch(gv(i)){case 2:var h=RT;break;case 8:h=CT;break;default:h=nm}s=h.bind(null,i,s,t),h=void 0,!Br||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function qd(t,i,s,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=ii(E),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){o=d=v;continue e}E=E.parentNode}}o=o.return}mr(function(){var B=d,K=zn(s),J=[];e:{var q=bg.get(t);if(q!==void 0){var G=xi,ge=t;switch(t){case"keypress":if(Hr(s)===0)break e;case"keydown":case"keyup":G=Ju;break;case"focusin":ge="focus",G=nt;break;case"focusout":ge="blur",G=nt;break;case"beforeblur":case"afterblur":G=nt;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=F;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case gg:case yg:case vg:G=Vt;break;case _g:G=w;break;case"scroll":case"scrollend":G=Us;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Ri;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Qr;break;case"toggle":case"beforetoggle":G=ke}var we=(i&4)!==0,pt=!we&&(t==="scroll"||t==="scrollend"),U=we?q!==null?q+"Capture":null:q;we=[];for(var j=B,z;j!==null;){var X=j;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=li(j,U),X!=null&&we.push(Zl(j,X,z))),pt)break;j=j.return}0<we.length&&(q=new G(q,ge,null,s,K),J.push({event:q,listeners:we}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&s!==Lr&&(ge=s.relatedTarget||s.fromElement)&&(ii(ge)||ge[an]))break e;if((G||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ge=s.relatedTarget||s.toElement,G=B,ge=ge?ii(ge):null,ge!==null&&(pt=u(ge),we=ge.tag,ge!==pt||we!==5&&we!==27&&we!==6)&&(ge=null)):(G=null,ge=B),G!==ge)){if(we=F,X="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(we=Qr,X="onPointerLeave",U="onPointerEnter",j="pointer"),pt=G==null?q:sn(G),z=ge==null?q:sn(ge),q=new we(X,j+"leave",G,s,K),q.target=pt,q.relatedTarget=z,X=null,ii(K)===B&&(we=new we(U,j+"enter",ge,s,K),we.target=z,we.relatedTarget=pt,X=we),pt=X,G&&ge)t:{for(we=eT,U=G,j=ge,z=0,X=U;X;X=we(X))z++;X=0;for(var Te=j;Te;Te=we(Te))X++;for(;0<z-X;)U=we(U),z--;for(;0<X-z;)j=we(j),X--;for(;z--;){if(U===j||j!==null&&U===j.alternate){we=U;break t}U=we(U),j=we(j)}we=null}else we=null;G!==null&&q0(J,q,G,we,!1),ge!==null&&pt!==null&&q0(J,pt,ge,we,!0)}}e:{if(q=B?sn(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var it=ag;else if(ig(q))if(sg)it=hE;else{it=uE;var ve=lE}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ma(B.elementType)&&(it=ag):it=cE;if(it&&(it=it(t,B))){rg(J,it,s,K);break e}ve&&ve(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&js(q,"number",q.value)}switch(ve=B?sn(B):window,t){case"focusin":(ig(ve)||ve.contentEditable==="true")&&(To=ve,yf=B,Rl=null);break;case"focusout":Rl=yf=To=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,mg(J,s,K);break;case"selectionchange":if(dE)break;case"keydown":case"keyup":mg(J,s,K)}var Ue;if(st)e:{switch(t){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Eo?Ls(t,s)&&(Ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ke="onCompositionStart");Ke&&(yr&&s.locale!=="ko"&&(Eo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Eo&&(Ue=ka()):(Si=K,Ps="value"in Si?Si.value:Si.textContent,Eo=!0)),ve=Bc(B,Ke),0<ve.length&&(Ke=new gr(Ke,t,null,s,K),J.push({event:Ke,listeners:ve}),Ue?Ke.data=Ue:(Ue=bo(s),Ue!==null&&(Ke.data=Ue)))),(Ue=Ci?rE(t,s):aE(t,s))&&(Ke=Bc(B,"onBeforeInput"),0<Ke.length&&(ve=new gr("onBeforeInput","beforeinput",null,s,K),J.push({event:ve,listeners:Ke}),ve.data=Ue)),XE(J,t,B,s,K)}z0(J,i)})}function Zl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Bc(t,i){for(var s=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=li(t,s),h!=null&&o.unshift(Zl(t,h,d)),h=li(t,i),h!=null&&o.push(Zl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function eT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q0(t,i,s,o,h){for(var d=i._reactName,v=[];s!==null&&s!==o;){var E=s,O=E.alternate,B=E.stateNode;if(E=E.tag,O!==null&&O===o)break;E!==5&&E!==26&&E!==27||B===null||(O=B,h?(B=li(s,d),B!=null&&v.unshift(Zl(s,B,O))):h||(B=li(s,d),B!=null&&v.push(Zl(s,B,O)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var tT=/\r\n?/g,nT=/\u0000|\uFFFD/g;function H0(t){return(typeof t=="string"?t:""+t).replace(tT,`
`).replace(nT,"")}function F0(t,i){return i=H0(i),H0(t)===i}function mt(t,i,s,o,h,d){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||xn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&xn(t,""+o);break;case"className":cn(t,"class",o);break;case"tabIndex":cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,s,o);break;case"style":Oa(t,o,d);break;case"data":if(i!=="object"){cn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Va(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&mt(t,i,"name",h.name,h,null),mt(t,i,"formEncType",h.formEncType,h,null),mt(t,i,"formMethod",h.formMethod,h,null),mt(t,i,"formTarget",h.formTarget,h,null)):(mt(t,i,"encType",h.encType,h,null),mt(t,i,"method",h.method,h,null),mt(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Va(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=oi);break;case"onScroll":o!=null&&Ge("scroll",t);break;case"onScrollEnd":o!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),Na(t,"popover",o);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Na(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_o.get(s)||s,Na(t,s,o))}}function Hd(t,i,s,o,h,d){switch(s){case"style":Oa(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?xn(t,o):(typeof o=="number"||typeof o=="bigint")&&xn(t,""+o);break;case"onScroll":o!=null&&Ge("scroll",t);break;case"onScrollEnd":o!=null&&Ge("scrollend",t);break;case"onClick":o!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fi.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[Le]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Na(t,s,o)}}}function gn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:mt(t,i,d,v,s,null)}}h&&mt(t,i,"srcSet",s.srcSet,s,null),o&&mt(t,i,"src",s.src,s,null);return;case"input":Ge("invalid",t);var E=d=v=h=null,O=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":h=K;break;case"type":v=K;break;case"checked":O=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:mt(t,i,o,K,s,null)}}Vs(t,d,E,O,B,v,h,!1);return;case"select":Ge("invalid",t),o=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:mt(t,i,h,E,s,null)}i=d,s=v,t.multiple=!!o,i!=null?cr(t,!!o,i,!1):s!=null&&cr(t,!!o,s,!0);return;case"textarea":Ge("invalid",t),d=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:mt(t,i,v,E,s,null)}hr(t,o,h,d);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(o=s[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:mt(t,i,O,o,s,null)}return;case"dialog":Ge("beforetoggle",t),Ge("toggle",t),Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(o=0;o<Jl.length;o++)Ge(Jl[o],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:mt(t,i,B,o,s,null)}return;default:if(Ma(i)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Hd(t,i,K,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&mt(t,i,E,o,s,null))}function iT(t,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,O=null,B=null,K=null;for(G in s){var J=s[G];if(s.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=J;default:o.hasOwnProperty(G)||mt(t,i,G,null,o,J)}}for(var q in o){var G=o[q];if(J=s[q],o.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":K=G;break;case"value":v=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:G!==J&&mt(t,i,q,G,o,J)}}Da(t,v,E,O,B,K,d,h);return;case"select":G=v=E=q=null;for(d in s)if(O=s[d],s.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":G=O;default:o.hasOwnProperty(d)||mt(t,i,d,null,o,O)}for(h in o)if(d=o[h],O=s[h],o.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":q=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==O&&mt(t,i,h,d,o,O)}i=E,s=v,o=G,q!=null?cr(t,!!s,q,!1):!!o!=!!s&&(i!=null?cr(t,!!s,i,!0):cr(t,!!s,s?[]:"",!1));return;case"textarea":G=q=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:mt(t,i,E,null,o,h)}for(v in o)if(h=o[v],d=s[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&mt(t,i,v,h,o,d)}vo(t,q,G);return;case"option":for(var ge in s)if(q=s[ge],s.hasOwnProperty(ge)&&q!=null&&!o.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:mt(t,i,ge,null,o,q)}for(O in o)if(q=o[O],G=s[O],o.hasOwnProperty(O)&&q!==G&&(q!=null||G!=null))switch(O){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:mt(t,i,O,q,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in s)q=s[we],s.hasOwnProperty(we)&&q!=null&&!o.hasOwnProperty(we)&&mt(t,i,we,null,o,q);for(B in o)if(q=o[B],G=s[B],o.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:mt(t,i,B,q,o,G)}return;default:if(Ma(i)){for(var pt in s)q=s[pt],s.hasOwnProperty(pt)&&q!==void 0&&!o.hasOwnProperty(pt)&&Hd(t,i,pt,void 0,o,q);for(K in o)q=o[K],G=s[K],!o.hasOwnProperty(K)||q===G||q===void 0&&G===void 0||Hd(t,i,K,q,o,G);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&mt(t,i,U,null,o,q);for(J in o)q=o[J],G=s[J],!o.hasOwnProperty(J)||q===G||q==null&&G==null||mt(t,i,J,q,o,G)}function G0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],d=h.transferSize,v=h.initiatorType,E=h.duration;if(d&&E&&G0(v)){for(v=0,E=h.responseEnd,o+=1;o<s.length;o++){var O=s[o],B=O.startTime;if(B>E)break;var K=O.transferSize,J=O.initiatorType;K&&G0(J)&&(O=O.responseEnd,v+=K*(O<E?1:(E-B)/(O-B)))}if(--o,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fd=null,Gd=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function Q0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yd=null;function aT(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(t){return $0.resolve(null).then(t).catch(lT)}:K0;function lT(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function X0(t,i){var s=i,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),$o(i);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Wl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Wl(s);for(var d=s.firstChild;d;){var v=d.nextSibling,E=d.nodeName;d[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&Wl(t.ownerDocument.body);s=h}while(s);$o(i)}function J0(t,i){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Kd(s),Ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function uT(t,i,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ni])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ji(t.nextSibling),t===null)break}return null}function cT(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ji(t.nextSibling),t===null))return null;return t}function Z0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ji(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hT(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ji(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Jd=null;function W0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return ji(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function ev(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function tv(t,i,s){switch(i=qc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ra(t)}var ki=new Map,nv=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oa=se.d;se.d={f:fT,r:dT,D:mT,C:pT,L:gT,m:yT,X:_T,S:vT,M:bT};function fT(){var t=oa.f(),i=Vc();return t||i}function dT(t){var i=Ln(t);i!==null&&i.tag===5&&i.type==="form"?_y(i):oa.r(t)}var Qo=typeof document>"u"?null:document;function iv(t,i,s){var o=Qo;if(o&&typeof i=="string"&&i){var h=wn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),nv.has(h)||(nv.add(h),t={rel:t,crossOrigin:s,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),gn(i,"link",t),Ot(i),o.head.appendChild(i)))}}function mT(t){oa.D(t),iv("dns-prefetch",t,null)}function pT(t,i){oa.C(t,i),iv("preconnect",t,i)}function gT(t,i,s){oa.L(t,i,s);var o=Qo;if(o&&t&&i){var h='link[rel="preload"][as="'+wn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wn(s.imageSizes)+'"]')):h+='[href="'+wn(t)+'"]';var d=h;switch(i){case"style":d=Yo(t);break;case"script":d=Ko(t)}ki.has(d)||(t=R({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),ki.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(eu(d))||i==="script"&&o.querySelector(tu(d))||(i=o.createElement("link"),gn(i,"link",t),Ot(i),o.head.appendChild(i)))}}function yT(t,i){oa.m(t,i);var s=Qo;if(s&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ko(t)}if(!ki.has(d)&&(t=R({rel:"modulepreload",href:t},i),ki.set(d,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(tu(d)))return}o=s.createElement("link"),gn(o,"link",t),Ot(o),s.head.appendChild(o)}}}function vT(t,i,s){oa.S(t,i,s);var o=Qo;if(o&&t){var h=ri(o).hoistableStyles,d=Yo(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(eu(d)))E.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":i},s),(s=ki.get(d))&&Zd(t,s);var O=v=o.createElement("link");Ot(O),gn(O,"link",t),O._p=new Promise(function(B,K){O.onload=B,O.onerror=K}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Fc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function _T(t,i){oa.X(t,i);var s=Qo;if(s&&t){var o=ri(s).hoistableScripts,h=Ko(t),d=o.get(h);d||(d=s.querySelector(tu(h)),d||(t=R({src:t,async:!0},i),(i=ki.get(h))&&Wd(t,i),d=s.createElement("script"),Ot(d),gn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function bT(t,i){oa.M(t,i);var s=Qo;if(s&&t){var o=ri(s).hoistableScripts,h=Ko(t),d=o.get(h);d||(d=s.querySelector(tu(h)),d||(t=R({src:t,async:!0,type:"module"},i),(i=ki.get(h))&&Wd(t,i),d=s.createElement("script"),Ot(d),gn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function rv(t,i,s,o){var h=(h=Ne.current)?Hc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Yo(s.href),s=ri(h).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Yo(s.href);var d=ri(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(eu(t)))&&!d._p&&(v.instance=d,v.state.loading=5),ki.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ki.set(t,s),d||ET(h,t,s,v.state))),i&&o===null)throw Error(a(528,""));return v}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ko(s),s=ri(h).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Yo(t){return'href="'+wn(t)+'"'}function eu(t){return'link[rel="stylesheet"]['+t+"]"}function av(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function ET(t,i,s,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),gn(i,"link",s),Ot(i),t.head.appendChild(i))}function Ko(t){return'[src="'+wn(t)+'"]'}function tu(t){return"script[async]"+t}function sv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+wn(s.href)+'"]');if(o)return i.instance=o,Ot(o),o;var h=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),gn(o,"style",h),Fc(o,s.precedence,t),i.instance=o;case"stylesheet":h=Yo(s.href);var d=t.querySelector(eu(h));if(d)return i.state.loading|=4,i.instance=d,Ot(d),d;o=av(s),(h=ki.get(h))&&Zd(o,h),d=(t.ownerDocument||t).createElement("link"),Ot(d);var v=d;return v._p=new Promise(function(E,O){v.onload=E,v.onerror=O}),gn(d,"link",o),i.state.loading|=4,Fc(d,s.precedence,t),i.instance=d;case"script":return d=Ko(s.src),(h=t.querySelector(tu(d)))?(i.instance=h,Ot(h),h):(o=s,(h=ki.get(d))&&(o=R({},s),Wd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),gn(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Fc(o,s.precedence,t));return i.instance}function Fc(t,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Gc=null;function ov(t,i,s){if(Gc===null){var o=new Map,h=Gc=new Map;h.set(s,o)}else h=Gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ni]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function lv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function TT(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function AT(t,i,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Yo(o.href),d=i.querySelector(eu(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qc.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,Ot(d);return}d=i.ownerDocument||i,o=av(o),(h=ki.get(h))&&Zd(o,h),d=d.createElement("link"),Ot(d);var v=d;v._p=new Promise(function(E,O){v.onload=E,v.onerror=O}),gn(d,"link",o),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Qc.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var em=0;function ST(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&em===0&&(em=62500*rT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>em?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,i.forEach(wT,t),Yc=null,Qc.call(t))}function wT(t,i){if(!(i.state.loading&4)){var s=Yc.get(t);if(s)var o=s.get(null);else{s=new Map,Yc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||o,d===o&&s.set(null,h),s.set(v,h),this.count++,o=Qc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var nu={$$typeof:he,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function xT(t,i,s,o,h,d,v,E,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function cv(t,i,s,o,h,d,v,E,O,B,K,J){return t=new xT(t,i,s,v,O,B,K,J,E),i=1,d===!0&&(i|=24),d=hi(3,null,null,i),t.current=d,d.stateNode=t,i=Mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:i},Pf(d),t}function hv(t){return t?(t=wo,t):wo}function fv(t,i,s,o,h,d){h=hv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ha(i),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Fa(t,o,i),s!==null&&(Qn(s,t,i),Vl(s,t,i))}function dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function tm(t,i){dv(t,i),(t=t.alternate)&&dv(t,i)}function mv(t){if(t.tag===13||t.tag===31){var i=qs(t,67108864);i!==null&&Qn(i,t,67108864),tm(t,67108864)}}function pv(t){if(t.tag===13||t.tag===31){var i=gi();i=kn(i);var s=qs(t,i);s!==null&&Qn(s,t,i),tm(t,i)}}var $c=!0;function RT(t,i,s,o){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,nm(t,i,s,o)}finally{se.p=d,Y.T=h}}function CT(t,i,s,o){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,nm(t,i,s,o)}finally{se.p=d,Y.T=h}}function nm(t,i,s,o){if($c){var h=im(o);if(h===null)qd(t,i,o,Xc,s),yv(t,o);else if(NT(h,t,i,s,o))o.stopPropagation();else if(yv(t,o),i&4&&-1<IT.indexOf(t)){for(;h!==null;){var d=Ln(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Wn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var O=1<<31-wt(v);E.entanglements[1]|=O,v&=~O}Er(d),(ot&6)===0&&(Oc=Nt()+500,Xl(0))}}break;case 31:case 13:E=qs(d,2),E!==null&&Qn(E,d,2),Vc(),tm(d,2)}if(d=im(o),d===null&&qd(t,i,o,Xc,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else qd(t,i,o,null,s)}}function im(t){return t=zn(t),rm(t)}var Xc=null;function rm(t){if(Xc=null,t=ii(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=p(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case Ea:return 2;case Li:return 8;case zi:case Al:return 32;case po:return 268435456;default:return 32}default:return 32}}var am=!1,ts=null,ns=null,is=null,iu=new Map,ru=new Map,rs=[],IT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(t,i){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":iu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(i.pointerId)}}function au(t,i,s,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ln(i),i!==null&&mv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function NT(t,i,s,o,h){switch(i){case"focusin":return ts=au(ts,t,i,s,o,h),!0;case"dragenter":return ns=au(ns,t,i,s,o,h),!0;case"mouseover":return is=au(is,t,i,s,o,h),!0;case"pointerover":var d=h.pointerId;return iu.set(d,au(iu.get(d)||null,t,i,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ru.set(d,au(ru.get(d)||null,t,i,s,o,h)),!0}return!1}function vv(t){var i=ii(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,Pn(t.priority,function(){pv(s)});return}}else if(i===31){if(i=p(s),i!==null){t.blockedOn=i,Pn(t.priority,function(){pv(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=im(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Lr=o,s.target.dispatchEvent(o),Lr=null}else return i=Ln(s),i!==null&&mv(i),t.blockedOn=s,!1;i.shift()}return!0}function _v(t,i,s){Jc(t)&&s.delete(i)}function DT(){am=!1,ts!==null&&Jc(ts)&&(ts=null),ns!==null&&Jc(ns)&&(ns=null),is!==null&&Jc(is)&&(is=null),iu.forEach(_v),ru.forEach(_v)}function Zc(t,i){t.blockedOn===i&&(t.blockedOn=null,am||(am=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DT)))}var Wc=null;function bv(t){Wc!==t&&(Wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var i=0;i<t.length;i+=3){var s=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(rm(o||s)===null)continue;break}var d=Ln(s);d!==null&&(t.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function $o(t){function i(O){return Zc(O,t)}ts!==null&&Zc(ts,t),ns!==null&&Zc(ns,t),is!==null&&Zc(is,t),iu.forEach(i),ru.forEach(i);for(var s=0;s<rs.length;s++){var o=rs[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<rs.length&&(s=rs[0],s.blockedOn===null);)vv(s),s.blockedOn===null&&rs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],v=h[Le]||null;if(typeof d=="function")v||bv(s);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Le]||null)E=v.formAction;else if(rm(h)!==null)continue}else E=v.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),bv(s)}}}function Ev(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function sm(t){this._internalRoot=t}eh.prototype.render=sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,o=gi();fv(s,o,t,i,null,null)},eh.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fv(t.current,2,null,t,null,null),Vc(),i[an]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Sn();t={blockedOn:null,target:t,priority:i};for(var s=0;s<rs.length&&i!==0&&i<rs[s].priority;s++);rs.splice(s,0,t),s===0&&vv(t)}};var Tv=e.version;if(Tv!=="19.2.3")throw Error(a(527,Tv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var OT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{An=th.inject(OT),Ft=th}catch{}}return ou.createRoot=function(t,i){if(!l(t))throw Error(a(299));var s=!1,o="",h=Iy,d=Ny,v=Dy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=cv(t,1,!1,null,null,s,o,null,h,d,v,Ev),t[an]=i.current,Bd(t),new sm(i)},ou.hydrateRoot=function(t,i,s){if(!l(t))throw Error(a(299));var o=!1,h="",d=Iy,v=Ny,E=Dy,O=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),i=cv(t,1,!0,i,s??null,o,h,O,d,v,E,Ev),i.context=hv(null),s=i.current,o=gi(),o=kn(o),h=Ha(o),h.callback=null,Fa(s,h,o),s=o,i.current.lanes=s,Ei(i,s),Er(i),t[an]=i.current,Bd(t),new eh(i)},ou.version="19.2.3",ou}var Ov;function FT(){if(Ov)return um.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=HT(),um.exports}var GT=FT();/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S2=(...r)=>r.filter((e,n,a)=>!!e&&a.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=re.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:f,...p},g)=>re.createElement("svg",{ref:g,...YT,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:S2("lucide",l),...p},[...f.map(([_,T])=>re.createElement(_,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=(r,e)=>{const n=re.forwardRef(({className:a,...l},u)=>re.createElement(KT,{ref:u,iconNode:e,className:S2(`lucide-${QT(r)}`,a),...l}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=pa("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=pa("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=pa("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=pa("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=pa("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=pa("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=pa("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=pa("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=pa("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),eA=()=>{};var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},tA=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],p=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},C2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,p=f?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,T=u>>2,R=(u&3)<<4|p>>4;let M=(p&15)<<2|_>>6,Q=_&63;g||(Q=64,f||(M=64)),a.push(n[T],n[R],n[M],n[Q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(R2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||_==null||R==null)throw new nA;const M=u<<2|p>>4;if(a.push(M),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),R!==64){const te=_<<6&192|R;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iA=function(r){const e=R2(r);return C2.encodeByteArray(e,!0)},Sh=function(r){return iA(r).replace(/\./g,"")},I2=function(r){try{return C2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=()=>rA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof Vv>"u")return;const r=Vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&I2(r[1]);return e&&JSON.parse(e)},Gh=()=>{try{return eA()||aA()||sA()||oA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},N2=r=>{var e,n;return(n=(e=Gh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},lA=r=>{const e=N2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},D2=()=>{var r;return(r=Gh())==null?void 0:r.config},O2=r=>{var e;return(e=Gh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M2(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const yu={};function hA(){const r={prod:[],emulator:[]};for(const e of Object.keys(yu))yu[e]?r.emulator.push(e):r.prod.push(e);return r}function fA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let jv=!1;function V2(r,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||yu[r]===e||yu[r]||jv)return;yu[r]=e;function n(M){return`__firebase__banner__${M}`}const a="__firebase__banner",u=hA().prod.length>0;function f(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{jv=!0,f()},M}function T(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function R(){const M=fA(a),Q=n("text"),te=document.getElementById(Q)||document.createElement("span"),ae=n("learnmore"),ee=document.getElementById(ae)||document.createElement("a"),be=n("preprendIcon"),Se=document.getElementById(be)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const he=M.element;p(he),T(ee,ae);const de=_();g(Se,be),he.append(Se,te,ee,de),document.body.appendChild(he)}u?(te.innerText="Preview backend disconnected.",Se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function mA(){var e;const r=(e=Gh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){const r=Dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _A(){return!mA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="FirebaseError";class ga extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=TA,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?AA(u,a):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new ga(l,p,a)}}function AA(r,e){return r.replace(SA,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const SA=/\{\$([^}]+)}/g;function wA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ao(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const u=r[l],f=e[l];if(kv(u)&&kv(f)){if(!ao(u,f))return!1}else if(u!==f)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function kv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function cu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function hu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function xA(r,e){const n=new RA(r,e);return n.subscribe.bind(n)}class RA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");CA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=dm),l.error===void 0&&(l.error=dm),l.complete===void 0&&(l.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r){return r&&r._delegate?r._delegate:r}class so{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new uA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DA(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&f.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:NA(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NA(r){return r===to?void 0:r}function DA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($e||($e={}));const MA={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},VA=$e.INFO,jA={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},kA=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=jA[e];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=VA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const PA=(r,e)=>e.some(n=>r instanceof n);let Pv,Uv;function UA(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j2=new WeakMap,Om=new WeakMap,k2=new WeakMap,mm=new WeakMap,cp=new WeakMap;function zA(r){const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ms(r.result)),l()},f=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&j2.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function BA(r){if(Om.has(r))return;const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Om.set(r,e)}let Mm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||k2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qA(r){Mm=r(Mm)}function HA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(pm(this),e,...n);return k2.set(a,e.sort?e.sort():[e]),ms(a)}:LA().includes(r)?function(...e){return r.apply(pm(this),e),ms(j2.get(this))}:function(...e){return ms(r.apply(pm(this),e))}}function FA(r){return typeof r=="function"?HA(r):(r instanceof IDBTransaction&&BA(r),PA(r,UA())?new Proxy(r,Mm):r)}function ms(r){if(r instanceof IDBRequest)return zA(r);if(mm.has(r))return mm.get(r);const e=FA(r);return e!==r&&(mm.set(r,e),cp.set(e,r)),e}const pm=r=>cp.get(r);function GA(r,e,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),p=ms(f);return a&&f.addEventListener("upgradeneeded",g=>{a(ms(f.result),g.oldVersion,g.newVersion,ms(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const QA=["get","getKey","getAll","getAllKeys","count"],YA=["put","add","delete","clear"],gm=new Map;function Lv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=YA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||QA.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),l&&g.done]))[0]};return gm.set(e,u),u}qA(r=>({...r,get:(e,n,a)=>Lv(e,n)||r.get(e,n,a),has:(e,n)=>!!Lv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($A(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function $A(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vm="@firebase/app",zv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new up("@firebase/app"),XA="@firebase/app-compat",JA="@firebase/analytics-compat",ZA="@firebase/analytics",WA="@firebase/app-check-compat",eS="@firebase/app-check",tS="@firebase/auth",nS="@firebase/auth-compat",iS="@firebase/database",rS="@firebase/data-connect",aS="@firebase/database-compat",sS="@firebase/functions",oS="@firebase/functions-compat",lS="@firebase/installations",uS="@firebase/installations-compat",cS="@firebase/messaging",hS="@firebase/messaging-compat",fS="@firebase/performance",dS="@firebase/performance-compat",mS="@firebase/remote-config",pS="@firebase/remote-config-compat",gS="@firebase/storage",yS="@firebase/storage-compat",vS="@firebase/firestore",_S="@firebase/ai",bS="@firebase/firestore-compat",ES="firebase",TS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",AS={[Vm]:"fire-core",[XA]:"fire-core-compat",[ZA]:"fire-analytics",[JA]:"fire-analytics-compat",[eS]:"fire-app-check",[WA]:"fire-app-check-compat",[tS]:"fire-auth",[nS]:"fire-auth-compat",[iS]:"fire-rtdb",[rS]:"fire-data-connect",[aS]:"fire-rtdb-compat",[sS]:"fire-fn",[oS]:"fire-fn-compat",[lS]:"fire-iid",[uS]:"fire-iid-compat",[cS]:"fire-fcm",[hS]:"fire-fcm-compat",[fS]:"fire-perf",[dS]:"fire-perf-compat",[mS]:"fire-rc",[pS]:"fire-rc-compat",[gS]:"fire-gcs",[yS]:"fire-gcs-compat",[vS]:"fire-fst",[bS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,SS=new Map,km=new Map;function Bv(r,e){try{r.container.addComponent(e)}catch(n){ha.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ll(r){const e=r.name;if(km.has(e))return ha.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,r);for(const n of wh.values())Bv(n,r);for(const n of SS.values())Bv(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Mu("app","Firebase",wS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=TS;function P2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:jm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ps.create("bad-app-name",{appName:String(l)});if(n||(n=D2()),!n)throw ps.create("no-options");const u=wh.get(l);if(u){if(ao(n,u.options)&&ao(a,u.config))return u;throw ps.create("duplicate-app",{appName:l})}const f=new OA(l);for(const g of km.values())f.addComponent(g);const p=new xS(n,a,f);return wh.set(l,p),p}function U2(r=jm){const e=wh.get(r);if(!e&&r===jm&&D2())return P2();if(!e)throw ps.create("no-app",{appName:r});return e}function gs(r,e,n){let a=AS[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ha.warn(f.join(" "));return}ll(new so(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebase-heartbeat-database",CS=1,Su="firebase-heartbeat-store";let ym=null;function L2(){return ym||(ym=GA(RS,CS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(r=>{throw ps.create("idb-open",{originalErrorMessage:r.message})})),ym}async function IS(r){try{const n=(await L2()).transaction(Su),a=await n.objectStore(Su).get(z2(r));return await n.done,a}catch(e){if(e instanceof ga)ha.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ha.warn(n.message)}}}async function qv(r,e){try{const a=(await L2()).transaction(Su,"readwrite");await a.objectStore(Su).put(e,z2(r)),await a.done}catch(n){if(n instanceof ga)ha.warn(n.message);else{const a=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ha.warn(a.message)}}}function z2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=1024,DS=30;class OS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VS(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Hv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>DS){const f=jS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ha.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hv(),{heartbeatsToSend:a,unsentEntries:l}=MS(this._heartbeatsCache.heartbeats),u=Sh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ha.warn(n),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function MS(r,e=NS){const n=[];let a=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Fv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Fv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class VS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Fv(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function jS(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r){ll(new so("platform-logger",e=>new KA(e),"PRIVATE")),ll(new so("heartbeat",e=>new OS(e),"PRIVATE")),gs(Vm,zv,r),gs(Vm,zv,"esm2020"),gs("fire-js","")}kS("");var PS="firebase",US="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(PS,US,"app");function B2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LS=B2,q2=new Mu("auth","Firebase",B2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new up("@firebase/auth");function zS(r,...e){xh.logLevel<=$e.WARN&&xh.warn(`Auth (${yl}): ${r}`,...e)}function fh(r,...e){xh.logLevel<=$e.ERROR&&xh.error(`Auth (${yl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(r,...e){throw fp(r,...e)}function wr(r,...e){return fp(r,...e)}function H2(r,e,n){const a={...LS(),[e]:n};return new Mu("auth","Firebase",a).create(e,{appName:r.name})}function ca(r){return H2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return q2.create(r,...e)}function Ce(r,e,...n){if(!r)throw fp(e,...n)}function la(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function fa(r,e){r||la(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function BS(){return Gv()==="http:"||Gv()==="https:"}function Gv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BS()||gA()||"connection"in navigator)?navigator.onLine:!0}function HS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,fa(n>e,"Short delay should be less than long delay!"),this.isMobile=dA()||yA()}get(){return qS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r,e){fa(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QS=new ju(3e4,6e4);function ya(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Or(r,e,n,a,l={}){return G2(r,l,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const p=Vu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...u};return pA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&gl(r.emulatorConfig.host)&&(_.credentials="include"),F2.fetch()(await Q2(r,r.config.apiHost,n,p),_)})}async function G2(r,e,n){r._canInitEmulator=!1;const a={...FS,...e};try{const l=new KS(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw nh(r,"user-disabled",f);const T=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw H2(r,T,_);nr(r,T)}}catch(l){if(l instanceof ga)throw l;nr(r,"network-request-failed",{message:String(l)})}}async function ku(r,e,n,a,l={}){const u=await Or(r,e,n,a,l);return"mfaPendingCredential"in u&&nr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Q2(r,e,n,a){const l=`${e}${n}?${a}`,u=r,f=u.config.emulator?dp(r.config,l):`${r.config.apiScheme}://${l}`;return GS.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function YS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(wr(this.auth,"network-request-failed")),QS.get())})}}function nh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=wr(r,e,a);return l.customData._tokenResponse=n,l}function Qv(r){return r!==void 0&&r.enterprise!==void 0}class $S{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XS(r,e){return Or(r,"GET","/v2/recaptchaConfig",ya(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(r,e){return Or(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return Or(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZS(r,e=!1){const n=Ct(r),a=await n.getIdToken(e),l=mp(a);Ce(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:vu(vm(l.auth_time)),issuedAtTime:vu(vm(l.iat)),expirationTime:vu(vm(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function vm(r){return Number(r)*1e3}function mp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const l=I2(n);return l?JSON.parse(l):(fh("Failed to decode base64 JWT payload"),null)}catch(l){return fh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Yv(r){const e=mp(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ga&&WS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(r){var R;const e=r.auth,n=await r.getIdToken(),a=await ul(r,Rh(e,{idToken:n}));Ce(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=(R=l.providerUserInfo)!=null&&R.length?Y2(l.providerUserInfo):[],f=tw(r.providerData,u),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Um(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function Lm(r){const e=Ct(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tw(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Y2(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(r,e){const n=await G2(r,{},async()=>{const a=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await Q2(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return r.emulatorConfig&&gl(r.emulatorConfig.host)&&(g.credentials="include"),F2.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iw(r,e){return Or(r,"POST","/v2/accounts:revokeToken",ya(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Yv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await nw(e,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,f=new il;return a&&(Ce(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),l&&(Ce(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Ce(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wi{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ew(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ul(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZS(this,e)}reload(){return Lm(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await ul(this,JS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:R,emailVerified:M,isAnonymous:Q,providerData:te,stsTokenManager:ae}=n;Ce(R&&ae,e,"internal-error");const ee=il.fromJSON(this.name,ae);Ce(typeof R=="string",e,"internal-error"),ss(a,e.name),ss(l,e.name),Ce(typeof M=="boolean",e,"internal-error"),Ce(typeof Q=="boolean",e,"internal-error"),ss(u,e.name),ss(f,e.name),ss(p,e.name),ss(g,e.name),ss(_,e.name),ss(T,e.name);const be=new Wi({uid:R,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:Q,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:ee,createdAt:_,lastLoginAt:T});return te&&Array.isArray(te)&&(be.providerData=te.map(Se=>({...Se}))),g&&(be._redirectEventId=g),be}static async _fromIdTokenResponse(e,n,a=!1){const l=new il;l.updateFromServerResponse(n);const u=new Wi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Ce(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Y2(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),p=new il;p.updateFromIdToken(a);const g=new Wi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;function ua(r){fa(r instanceof Function,"Expected a class definition");let e=Kv.get(r);return e?(fa(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Kv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K2.type="NONE";const $v=K2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class rl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=dh(this.userKey,l.apiKey,u),this.fullPersistenceKey=dh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?Wi._fromGetAccountInfoResponse(this.auth,n,e):null}return Wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new rl(ua($v),e,a);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||ua($v);const f=dh(a,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const T=await _._get(f);if(T){let R;if(typeof T=="string"){const M=await Rh(e,{idToken:T}).catch(()=>{});if(!M)break;R=await Wi._fromGetAccountInfoResponse(e,M,T)}else R=Wi._fromJSON(e,T);_!==u&&(p=R),u=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new rl(u,e,a):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new rl(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e1(e))return"Blackberry";if(t1(e))return"Webos";if(X2(e))return"Safari";if((e.includes("chrome/")||J2(e))&&!e.includes("edge/"))return"Chrome";if(W2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function $2(r=Dn()){return/firefox\//i.test(r)}function X2(r=Dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J2(r=Dn()){return/crios\//i.test(r)}function Z2(r=Dn()){return/iemobile/i.test(r)}function W2(r=Dn()){return/android/i.test(r)}function e1(r=Dn()){return/blackberry/i.test(r)}function t1(r=Dn()){return/webos/i.test(r)}function pp(r=Dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rw(r=Dn()){var e;return pp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function aw(){return vA()&&document.documentMode===10}function n1(r=Dn()){return pp(r)||W2(r)||t1(r)||e1(r)||/windows phone/i.test(r)||Z2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(r,e=[]){let n;switch(r){case"Browser":n=Xv(Dn());break;case"Worker":n=`${Xv(Dn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,e={}){return Or(r,"GET","/v2/passwordPolicy",ya(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=6;class uw{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ua(n)),this._initializationPromise=this.queue(async()=>{var a,l,u;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),a=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Pi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(f){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(ca(this));const n=e?Ct(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ow(this),n=new uw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await iw(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ua(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[ua(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&zS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rs(r){return Ct(r)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=xA(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hw(r){Qh=r}function r1(r){return Qh.loadJS(r)}function fw(){return Qh.recaptchaEnterpriseScript}function dw(){return Qh.gapiScript}function mw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class pw{constructor(){this.enterprise=new gw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yw="recaptcha-enterprise",a1="NO_RECAPTCHA";class vw{constructor(e){this.type=yw,this.auth=Rs(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{XS(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new $S(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(g=>{p(g)})})}function l(u,f,p){const g=window.grecaptcha;Qv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(a1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(p=>{if(!n&&Qv(window.grecaptcha))l(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=fw();g.length!==0&&(g+=p),r1(g).then(()=>{l(p,u,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function Zv(r,e,n,a=!1,l=!1){const u=new vw(r);let f;if(l)f=a1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ih(r,e,n,a,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Zv(r,e,n,n==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Zv(r,e,n,n==="getOobCode");return a(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r,e){const n=hp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ao(u,e??{}))return l;nr(l,"already-initialized")}return n.initialize({options:e})}function bw(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ua);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Ew(r,e,n){const a=Rs(r);Ce(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=s1(e),{host:f,port:p}=Tw(e),g=p===null?"":`:${p}`,_={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ce(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ce(ao(_,a.config.emulator)&&ao(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,gl(f)?(M2(`${u}//${f}${g}`),V2("Auth",!0)):Aw()}function s1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Tw(r){const e=s1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:Wv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:Wv(f)}}}function Wv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Aw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return la("not implemented")}_getIdTokenResponse(e){return la("not implemented")}_linkToIdToken(e,n){return la("not implemented")}_getReauthenticationResolver(e){return la("not implemented")}}async function Sw(r,e){return Or(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(r,e){return ku(r,"POST","/v1/accounts:signInWithPassword",ya(r,e))}async function o1(r,e){return Or(r,"POST","/v1/accounts:sendOobCode",ya(r,e))}async function xw(r,e){return o1(r,e)}async function Rw(r,e){return o1(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(r,e){return ku(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}async function Iw(r,e){return ku(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends gp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new wu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,n,"signInWithPassword",ww);case"emailLink":return Cw(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,a,"signUpPassword",Sw);case"emailLink":return Iw(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(r,e){return ku(r,"POST","/v1/accounts:signInWithIdp",ya(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="http://localhost";class oo extends gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const f=new oo(a,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,al(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:Nw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ow(r){const e=cu(hu(r)).link,n=e?cu(hu(e)).deep_link_id:null,a=cu(hu(r)).deep_link_id;return(a?cu(hu(a)).link:null)||a||n||e||r}class yp{constructor(e){const n=cu(hu(e)),a=n.apiKey??null,l=n.oobCode??null,u=Dw(n.mode??null);Ce(a&&l&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ow(e);try{return new yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.providerId=bs.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=yp.parseLink(n);return Ce(a,"argument-error"),wu._fromEmailAndCode(e,a.code,a.tenantId)}}bs.PROVIDER_ID="password";bs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Pu{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return us.credential(n,a)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Pu{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Pu{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return hs.credential(n,a)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,e){return ku(r,"POST","/v1/accounts:signUp",ya(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const u=await Wi._fromIdTokenResponse(e,a,l),f=e_(a);return new lo({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=e_(a);return new lo({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function e_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends ga{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Nh(e,n,a,l)}}function u1(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,a):u})}async function Vw(r,e,n=!1){const a=await ul(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return lo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(r,e,n=!1){const{auth:a}=r;if(Pi(a.app))return Promise.reject(ca(a));const l="reauthenticate";try{const u=await ul(r,u1(a,l,e,r),n);Ce(u.idToken,a,"internal-error");const f=mp(u.idToken);Ce(f,a,"internal-error");const{sub:p}=f;return Ce(r.uid===p,a,"user-mismatch"),lo._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&nr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(r,e,n=!1){if(Pi(r.app))return Promise.reject(ca(r));const a="signIn",l=await u1(r,a,e),u=await lo._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(u.user),u}async function jw(r,e){return h1(Rs(r),e)}async function t_(r,e){return c1(Ct(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r){const e=Rs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _m(r,e,n){const a=Rs(r);await Ih(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Rw)}async function kw(r,e,n){if(Pi(r.app))return Promise.reject(ca(r));const a=Rs(r),f=await Ih(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mw).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&f1(r),g}),p=await lo._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(p.user),p}function n_(r,e,n){return Pi(r.app)?Promise.reject(ca(r)):jw(Ct(r),bs.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&f1(r),a})}async function i_(r,e){const n=Ct(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await xw(n.auth,l);u!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(r,e){return Or(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r_(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=Ct(r),u={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await ul(a,Pw(a.auth,u));a.displayName=f.displayName||null,a.photoURL=f.photoUrl||null;const p=a.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r,e){return Ct(r).setPersistence(e)}function Uw(r,e,n,a){return Ct(r).onIdTokenChanged(e,n,a)}function Lw(r,e,n){return Ct(r).beforeAuthStateChanged(e,n)}function zw(r,e,n,a){return Ct(r).onAuthStateChanged(e,n,a)}function os(r){return Ct(r).signOut()}async function Bw(r){return Ct(r).delete()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=1e3,Hw=10;class m1 extends d1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);aw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Hw):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}m1.type="LOCAL";const mh=m1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends d1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}p1.type="SESSION";const _u=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new Yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(f).map(async _=>_(n.origin,u)),g=await Fw(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const _=vp("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(R){const M=R;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(M.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function Qw(r){xr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function Yw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function $w(){return g1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="firebaseLocalStorageDb",Xw=1,Oh="firebaseLocalStorage",v1="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function Jw(){const r=indexedDB.deleteDatabase(y1);return new Uu(r).toPromise()}function zm(){const r=indexedDB.open(y1,Xw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Oh,{keyPath:v1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Oh)?e(a):(a.close(),await Jw(),e(await zm()))})})}async function a_(r,e,n){const a=Kh(r,!0).put({[v1]:e,value:n});return new Uu(a).toPromise()}async function Zw(r,e){const n=Kh(r,!1).get(e),a=await new Uu(n).toPromise();return a===void 0?null:a.value}function s_(r,e){const n=Kh(r,!0).delete(e);return new Uu(n).toPromise()}const Ww=800,ex=3;class _1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>ex)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance($w()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await Yw(),!this.activeServiceWorker)return;this.sender=new Gw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await a_(e,Dh,"1"),await s_(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>a_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Zw(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Kh(l,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_1.type="LOCAL";const tx=_1;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r,e){return e?ua(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ix(r){return h1(r.auth,new _p(r),r.bypassAuthState)}function rx(r){const{auth:e,user:n}=r;return Ce(n,e,"internal-error"),c1(n,new _p(r),r.bypassAuthState)}async function ax(r){const{auth:e,user:n}=r;return Ce(n,e,"internal-error"),Vw(n,new _p(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ix;case"linkViaPopup":case"linkViaRedirect":return ax;case"reauthViaPopup":case"reauthViaRedirect":return rx;default:nr(this.auth,"internal-error")}}resolve(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new ju(2e3,1e4);class el extends b1{constructor(e,n,a,l,u){super(e,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,el.currentPopupAction&&el.currentPopupAction.cancel(),el.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){fa(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,el.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sx.get())};e()}}el.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="pendingRedirect",ph=new Map;class lx extends b1{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const a=await ux(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ux(r,e){const n=fx(e),a=hx(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function cx(r,e){ph.set(r._key(),e)}function hx(r){return ua(r._redirectPersistence)}function fx(r){return dh(ox,r.config.apiKey,r.name)}async function dx(r,e,n=!1){if(Pi(r.app))return Promise.reject(ca(r));const a=Rs(r),l=nx(a,e),f=await new lx(a,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=600*1e3;class px{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!E1(e)){const l=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mx&&this.cachedEventUids.clear(),this.cachedEventUids.has(o_(e))}saveEventToCache(e){this.cachedEventUids.add(o_(e)),this.lastProcessedEventTime=Date.now()}}function o_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function E1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(r,e={}){return Or(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_x=/^https?/;async function bx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await yx(r);for(const n of e)try{if(Ex(n))return}catch{}nr(r,"unauthorized-domain")}function Ex(r){const e=Pm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!_x.test(n))return!1;if(vx.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new ju(3e4,6e4);function l_(){const r=xr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ax(r){return new Promise((e,n)=>{var l,u,f;function a(){l_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l_(),n(wr(r,"network-request-failed"))},timeout:Tx.get()})}if((u=(l=xr().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=xr().gapi)!=null&&f.load)a();else{const p=mw("iframefcb");return xr()[p]=()=>{gapi.load?a():n(wr(r,"network-request-failed"))},r1(`${dw()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw gh=null,e})}let gh=null;function Sx(r){return gh=gh||Ax(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new ju(5e3,15e3),xx="__/auth/iframe",Rx="emulator/auth/iframe",Cx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nx(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?dp(e,Rx):`https://${r.config.authDomain}/${xx}`,a={apiKey:e.apiKey,appName:r.name,v:yl},l=Ix.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Vu(a).slice(1)}`}async function Dx(r){const e=await Sx(r),n=xr().gapi;return Ce(n,r,"internal-error"),e.open({where:document.body,url:Nx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cx,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const f=wr(r,"network-request-failed"),p=xr().setTimeout(()=>{u(f)},wx.get());function g(){xr().clearTimeout(p),l(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mx=500,Vx=600,jx="_blank",kx="http://localhost";class u_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Px(r,e,n,a=Mx,l=Vx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...Ox,width:a.toString(),height:l.toString(),top:u,left:f},_=Dn().toLowerCase();n&&(p=J2(_)?jx:n),$2(_)&&(e=e||kx,g.scrollbars="yes");const T=Object.entries(g).reduce((M,[Q,te])=>`${M}${Q}=${te},`,"");if(rw(_)&&p!=="_self")return Ux(e||"",p),new u_(null);const R=window.open(e||"",p,T);Ce(R,r,"popup-blocked");try{R.focus()}catch{}return new u_(R)}function Ux(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__/auth/handler",zx="emulator/auth/handler",Bx=encodeURIComponent("fac");async function c_(r,e,n,a,l,u){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:yl,eventId:l};if(e instanceof l1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",wA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries({}))f[T]=R}if(e instanceof Pu){const T=e.getScopes().filter(R=>R!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),_=g?`#${Bx}=${encodeURIComponent(g)}`:"";return`${qx(r)}?${Vu(p).slice(1)}${_}`}function qx({config:r}){return r.emulator?dp(r,zx):`https://${r.authDomain}/${Lx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class Hx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_u,this._completeRedirectFn=dx,this._overrideRedirectResult=cx}async _openPopup(e,n,a,l){var f;fa((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await c_(e,n,a,Pm(),l);return Px(e,u,vp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const u=await c_(e,n,a,Pm(),l);return Qw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(fa(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Dx(e),a=new px(e);return n.register("authEvent",l=>(Ce(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[Em];u!==void 0&&n(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n1()||X2()||pp()}}const Fx=Hx;var h_="@firebase/auth",f_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yx(r){ll(new so("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=a.options;Ce(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(r)},_=new cw(a,l,u,g);return bw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),ll(new so("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(a=>new Gx(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(h_,f_,Qx(r)),gs(h_,f_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=300,$x=O2("authIdTokenMaxAge")||Kx;let d_=null;const Xx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>$x)return;const l=n==null?void 0:n.token;d_!==l&&(d_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Jx(r=U2()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=_w(r,{popupRedirectResolver:Fx,persistence:[tx,mh,_u]}),a=O2("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=Xx(u.toString());Lw(n,f,()=>f(n.currentUser)),Uw(n,p=>f(p))}}const l=N2("auth");return l&&Ew(n,`http://${l}`),n}function Zx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}hw({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const u=wr("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",Zx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yx("Browser");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,T1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function D(){}D.prototype=N.prototype,I.F=N.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(P,V,A){for(var C=Array(arguments.length-2),je=2;je<arguments.length;je++)C[je-2]=arguments[je];return N.prototype[V].apply(P,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,N,D){D||(D=0);const P=Array(16);if(typeof N=="string")for(var V=0;V<16;++V)P[V]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(V=0;V<16;++V)P[V]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=I.g[0],D=I.g[1],V=I.g[2];let A=I.g[3],C;C=N+(A^D&(V^A))+P[0]+3614090360&4294967295,N=D+(C<<7&4294967295|C>>>25),C=A+(V^N&(D^V))+P[1]+3905402710&4294967295,A=N+(C<<12&4294967295|C>>>20),C=V+(D^A&(N^D))+P[2]+606105819&4294967295,V=A+(C<<17&4294967295|C>>>15),C=D+(N^V&(A^N))+P[3]+3250441966&4294967295,D=V+(C<<22&4294967295|C>>>10),C=N+(A^D&(V^A))+P[4]+4118548399&4294967295,N=D+(C<<7&4294967295|C>>>25),C=A+(V^N&(D^V))+P[5]+1200080426&4294967295,A=N+(C<<12&4294967295|C>>>20),C=V+(D^A&(N^D))+P[6]+2821735955&4294967295,V=A+(C<<17&4294967295|C>>>15),C=D+(N^V&(A^N))+P[7]+4249261313&4294967295,D=V+(C<<22&4294967295|C>>>10),C=N+(A^D&(V^A))+P[8]+1770035416&4294967295,N=D+(C<<7&4294967295|C>>>25),C=A+(V^N&(D^V))+P[9]+2336552879&4294967295,A=N+(C<<12&4294967295|C>>>20),C=V+(D^A&(N^D))+P[10]+4294925233&4294967295,V=A+(C<<17&4294967295|C>>>15),C=D+(N^V&(A^N))+P[11]+2304563134&4294967295,D=V+(C<<22&4294967295|C>>>10),C=N+(A^D&(V^A))+P[12]+1804603682&4294967295,N=D+(C<<7&4294967295|C>>>25),C=A+(V^N&(D^V))+P[13]+4254626195&4294967295,A=N+(C<<12&4294967295|C>>>20),C=V+(D^A&(N^D))+P[14]+2792965006&4294967295,V=A+(C<<17&4294967295|C>>>15),C=D+(N^V&(A^N))+P[15]+1236535329&4294967295,D=V+(C<<22&4294967295|C>>>10),C=N+(V^A&(D^V))+P[1]+4129170786&4294967295,N=D+(C<<5&4294967295|C>>>27),C=A+(D^V&(N^D))+P[6]+3225465664&4294967295,A=N+(C<<9&4294967295|C>>>23),C=V+(N^D&(A^N))+P[11]+643717713&4294967295,V=A+(C<<14&4294967295|C>>>18),C=D+(A^N&(V^A))+P[0]+3921069994&4294967295,D=V+(C<<20&4294967295|C>>>12),C=N+(V^A&(D^V))+P[5]+3593408605&4294967295,N=D+(C<<5&4294967295|C>>>27),C=A+(D^V&(N^D))+P[10]+38016083&4294967295,A=N+(C<<9&4294967295|C>>>23),C=V+(N^D&(A^N))+P[15]+3634488961&4294967295,V=A+(C<<14&4294967295|C>>>18),C=D+(A^N&(V^A))+P[4]+3889429448&4294967295,D=V+(C<<20&4294967295|C>>>12),C=N+(V^A&(D^V))+P[9]+568446438&4294967295,N=D+(C<<5&4294967295|C>>>27),C=A+(D^V&(N^D))+P[14]+3275163606&4294967295,A=N+(C<<9&4294967295|C>>>23),C=V+(N^D&(A^N))+P[3]+4107603335&4294967295,V=A+(C<<14&4294967295|C>>>18),C=D+(A^N&(V^A))+P[8]+1163531501&4294967295,D=V+(C<<20&4294967295|C>>>12),C=N+(V^A&(D^V))+P[13]+2850285829&4294967295,N=D+(C<<5&4294967295|C>>>27),C=A+(D^V&(N^D))+P[2]+4243563512&4294967295,A=N+(C<<9&4294967295|C>>>23),C=V+(N^D&(A^N))+P[7]+1735328473&4294967295,V=A+(C<<14&4294967295|C>>>18),C=D+(A^N&(V^A))+P[12]+2368359562&4294967295,D=V+(C<<20&4294967295|C>>>12),C=N+(D^V^A)+P[5]+4294588738&4294967295,N=D+(C<<4&4294967295|C>>>28),C=A+(N^D^V)+P[8]+2272392833&4294967295,A=N+(C<<11&4294967295|C>>>21),C=V+(A^N^D)+P[11]+1839030562&4294967295,V=A+(C<<16&4294967295|C>>>16),C=D+(V^A^N)+P[14]+4259657740&4294967295,D=V+(C<<23&4294967295|C>>>9),C=N+(D^V^A)+P[1]+2763975236&4294967295,N=D+(C<<4&4294967295|C>>>28),C=A+(N^D^V)+P[4]+1272893353&4294967295,A=N+(C<<11&4294967295|C>>>21),C=V+(A^N^D)+P[7]+4139469664&4294967295,V=A+(C<<16&4294967295|C>>>16),C=D+(V^A^N)+P[10]+3200236656&4294967295,D=V+(C<<23&4294967295|C>>>9),C=N+(D^V^A)+P[13]+681279174&4294967295,N=D+(C<<4&4294967295|C>>>28),C=A+(N^D^V)+P[0]+3936430074&4294967295,A=N+(C<<11&4294967295|C>>>21),C=V+(A^N^D)+P[3]+3572445317&4294967295,V=A+(C<<16&4294967295|C>>>16),C=D+(V^A^N)+P[6]+76029189&4294967295,D=V+(C<<23&4294967295|C>>>9),C=N+(D^V^A)+P[9]+3654602809&4294967295,N=D+(C<<4&4294967295|C>>>28),C=A+(N^D^V)+P[12]+3873151461&4294967295,A=N+(C<<11&4294967295|C>>>21),C=V+(A^N^D)+P[15]+530742520&4294967295,V=A+(C<<16&4294967295|C>>>16),C=D+(V^A^N)+P[2]+3299628645&4294967295,D=V+(C<<23&4294967295|C>>>9),C=N+(V^(D|~A))+P[0]+4096336452&4294967295,N=D+(C<<6&4294967295|C>>>26),C=A+(D^(N|~V))+P[7]+1126891415&4294967295,A=N+(C<<10&4294967295|C>>>22),C=V+(N^(A|~D))+P[14]+2878612391&4294967295,V=A+(C<<15&4294967295|C>>>17),C=D+(A^(V|~N))+P[5]+4237533241&4294967295,D=V+(C<<21&4294967295|C>>>11),C=N+(V^(D|~A))+P[12]+1700485571&4294967295,N=D+(C<<6&4294967295|C>>>26),C=A+(D^(N|~V))+P[3]+2399980690&4294967295,A=N+(C<<10&4294967295|C>>>22),C=V+(N^(A|~D))+P[10]+4293915773&4294967295,V=A+(C<<15&4294967295|C>>>17),C=D+(A^(V|~N))+P[1]+2240044497&4294967295,D=V+(C<<21&4294967295|C>>>11),C=N+(V^(D|~A))+P[8]+1873313359&4294967295,N=D+(C<<6&4294967295|C>>>26),C=A+(D^(N|~V))+P[15]+4264355552&4294967295,A=N+(C<<10&4294967295|C>>>22),C=V+(N^(A|~D))+P[6]+2734768916&4294967295,V=A+(C<<15&4294967295|C>>>17),C=D+(A^(V|~N))+P[13]+1309151649&4294967295,D=V+(C<<21&4294967295|C>>>11),C=N+(V^(D|~A))+P[4]+4149444226&4294967295,N=D+(C<<6&4294967295|C>>>26),C=A+(D^(N|~V))+P[11]+3174756917&4294967295,A=N+(C<<10&4294967295|C>>>22),C=V+(N^(A|~D))+P[2]+718787259&4294967295,V=A+(C<<15&4294967295|C>>>17),C=D+(A^(V|~N))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+A&4294967295}a.prototype.v=function(I,N){N===void 0&&(N=I.length);const D=N-this.blockSize,P=this.C;let V=this.h,A=0;for(;A<N;){if(V==0)for(;A<=D;)l(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<N;)if(P[V++]=I.charCodeAt(A++),V==this.blockSize){l(this,P),V=0;break}}else for(;A<N;)if(P[V++]=I[A++],V==this.blockSize){l(this,P),V=0;break}}this.h=V,this.o+=N},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)I[N++]=this.g[D]>>>P&255;return I};function u(I,N){var D=p;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=N(I)}function f(I,N){this.h=N;const D=[];let P=!0;for(let V=I.length-1;V>=0;V--){const A=I[V]|0;P&&A==N||(D[V]=A,P=!1)}this.g=D}var p={};function g(I){return-128<=I&&I<128?u(I,function(N){return new f([N|0],N<0?-1:0)}):new f([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return R;if(I<0)return ee(_(-I));const N=[];let D=1;for(let P=0;I>=D;P++)N[P]=I/D|0,D*=4294967296;return new f(N,0)}function T(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return ee(T(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(N,8));let P=R;for(let A=0;A<I.length;A+=8){var V=Math.min(8,I.length-A);const C=parseInt(I.substring(A,A+V),N);V<8?(V=_(Math.pow(N,V)),P=P.j(V).add(_(C))):(P=P.j(D),P=P.add(_(C)))}return P}var R=g(0),M=g(1),Q=g(16777216);r=f.prototype,r.m=function(){if(ae(this))return-ee(this).m();let I=0,N=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);I+=(P>=0?P:4294967296+P)*N,N*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(te(this))return"0";if(ae(this))return"-"+ee(this).toString(I);const N=_(Math.pow(I,6));var D=this;let P="";for(;;){const V=de(D,N).g;D=be(D,V.j(N));let A=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=V,te(D))return A+P;for(;A.length<6;)A="0"+A;P=A+P}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function te(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function ae(I){return I.h==-1}r.l=function(I){return I=be(this,I),ae(I)?-1:te(I)?0:1};function ee(I){const N=I.g.length,D=[];for(let P=0;P<N;P++)D[P]=~I.g[P];return new f(D,~I.h).add(M)}r.abs=function(){return ae(this)?ee(this):this},r.add=function(I){const N=Math.max(this.g.length,I.g.length),D=[];let P=0;for(let V=0;V<=N;V++){let A=P+(this.i(V)&65535)+(I.i(V)&65535),C=(A>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);P=C>>>16,A&=65535,C&=65535,D[V]=C<<16|A}return new f(D,D[D.length-1]&-2147483648?-1:0)};function be(I,N){return I.add(ee(N))}r.j=function(I){if(te(this)||te(I))return R;if(ae(this))return ae(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(ae(I))return ee(this.j(ee(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const N=this.g.length+I.g.length,D=[];for(var P=0;P<2*N;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<I.g.length;V++){const A=this.i(P)>>>16,C=this.i(P)&65535,je=I.i(V)>>>16,et=I.i(V)&65535;D[2*P+2*V]+=C*et,Se(D,2*P+2*V),D[2*P+2*V+1]+=A*et,Se(D,2*P+2*V+1),D[2*P+2*V+1]+=C*je,Se(D,2*P+2*V+1),D[2*P+2*V+2]+=A*je,Se(D,2*P+2*V+2)}for(I=0;I<N;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=N;I<2*N;I++)D[I]=0;return new f(D,0)};function Se(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function he(I,N){this.g=I,this.h=N}function de(I,N){if(te(N))throw Error("division by zero");if(te(I))return new he(R,R);if(ae(I))return N=de(ee(I),N),new he(ee(N.g),ee(N.h));if(ae(N))return N=de(I,ee(N)),new he(ee(N.g),N.h);if(I.g.length>30){if(ae(I)||ae(N))throw Error("slowDivide_ only works with positive integers.");for(var D=M,P=N;P.l(I)<=0;)D=ye(D),P=ye(P);var V=pe(D,1),A=pe(P,1);for(P=pe(P,2),D=pe(D,2);!te(P);){var C=A.add(P);C.l(I)<=0&&(V=V.add(D),A=C),P=pe(P,1),D=pe(D,1)}return N=be(I,V.j(N)),new he(V,N)}for(V=R;I.l(N)>=0;){for(D=Math.max(1,Math.floor(I.m()/N.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),A=_(D),C=A.j(N);ae(C)||C.l(I)>0;)D-=P,A=_(D),C=A.j(N);te(A)&&(A=M),V=V.add(A),I=be(I,C)}return new he(V,I)}r.B=function(I){return de(this,I).h},r.and=function(I){const N=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<N;P++)D[P]=this.i(P)&I.i(P);return new f(D,this.h&I.h)},r.or=function(I){const N=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<N;P++)D[P]=this.i(P)|I.i(P);return new f(D,this.h|I.h)},r.xor=function(I){const N=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<N;P++)D[P]=this.i(P)^I.i(P);return new f(D,this.h^I.h)};function ye(I){const N=I.g.length+1,D=[];for(let P=0;P<N;P++)D[P]=I.i(P)<<1|I.i(P-1)>>>31;return new f(D,I.h)}function pe(I,N){const D=N>>5;N%=32;const P=I.g.length-D,V=[];for(let A=0;A<P;A++)V[A]=N>0?I.i(A+D)>>>N|I.i(A+D+1)<<32-N:I.i(A+D);return new f(V,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,T1=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,ys=f}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A1,fu,S1,yh,Bm,w1,x1,R1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var m=0;m<c.length;++m){var b=c[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function l(c,m){if(m)e:{var b=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in b))break e;b=b[L]}c=c[c.length-1],w=b[c],m=m(w),m!=w&&m!=null&&e(b,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var b=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.push([w,m[w]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,b){return c.call.apply(c.bind,arguments)}function _(c,m,b){return _=g,_.apply(null,arguments)}function T(c,m){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function R(c,m){function b(){}b.prototype=m.prototype,c.Z=m.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,L,H){for(var oe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)oe[ke-2]=arguments[ke];return m.prototype[L].apply(w,oe)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function Q(c){const m=c.length;if(m>0){const b=Array(m);for(let w=0;w<m;w++)b[w]=c[w];return b}return[]}function te(c,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=c.length||0;const H=L.length||0;c.length=b+H;for(let oe=0;oe<H;oe++)c[b+oe]=L[oe]}else c.push(L)}}class ae{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(c){f.setTimeout(()=>{throw c},0)}function be(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,b){const w=he.get();w.set(m,b),this.h?this.h.next=w:this.g=w,this.h=w}}var he=new ae(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,pe=!1,I=new Se,N=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(D)}};function D(){for(var c;c=be();){try{c.h.call(c.g)}catch(b){ee(b)}var m=he;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}pe=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,m),f.removeEventListener("test",b,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function je(c,m){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}R(je,V),je.prototype.init=function(c,m){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(b=="mouseover"?m=c.fromElement:b=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,m,b,w,L){this.listener=c,this.proxy=null,this.src=m,this.type=b,this.capture=!!w,this.ha=L,this.key=++Y,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function He(c,m,b){for(const w in c)m.call(b,c[w],w,c)}function tt(c,m){for(const b in c)m.call(void 0,c[b],b,c)}function k(c){const m={};for(const b in c)m[b]=c[b];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,m){let b,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(b in w)c[b]=w[b];for(let H=0;H<$.length;H++)b=$[H],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,m,b,w,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const oe=Ne(c,m,w,L);return oe>-1?(m=c[oe],b||(m.fa=!1)):(m=new se(m,this.src,H,!!w,L),m.fa=b,c.push(m)),m};function xe(c,m){const b=m.type;if(b in c.g){var w=c.g[b],L=Array.prototype.indexOf.call(w,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(w,L,1),H&&(_e(m),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ne(c,m,b,w){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==w)return L}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),kt={};function ft(c,m,b,w,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ft(c,m[H],b,w,L);return null}return b=jr(b),c&&c[et]?c.J(m,b,p(w)?!!w.capture:!1,L):rr(c,m,b,!1,w,L)}function rr(c,m,b,w,L,H){if(!m)throw Error("Invalid event type");const oe=p(L)?!!L.capture:!!L;let ke=Tn(c);if(ke||(c[Be]=ke=new ue(c)),b=ke.add(m,b,w,oe,H),b.proxy)return b;if(w=Mr(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)A||(L=oe),L===void 0&&(L=!1),c.addEventListener(m.toString(),w,L);else if(c.attachEvent)c.attachEvent(Zn(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Mr(){function c(b){return m.call(c.src,c.listener,b)}const m=va;return c}function En(c,m,b,w,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)En(c,m[H],b,w,L);else w=p(w)?!!w.capture:!!w,b=jr(b),c&&c[et]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],b=Ne(m,b,w,L),b>-1&&(_e(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=Tn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ne(m,b,w,L)),(b=c>-1?m[c]:null)&&Vr(b))}function Vr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[et])xe(m.i,c);else{var b=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(b,w,c.capture):m.detachEvent?m.detachEvent(Zn(b),w):m.addListener&&m.removeListener&&m.removeListener(w),(b=Tn(m))?(xe(b,c),b.h==0&&(b.src=null,m[Be]=null)):_e(c)}}}function Zn(c){return c in kt?kt[c]:kt[c]="on"+c}function va(c,m){if(c.da)c=!0;else{m=new je(m,this);const b=c.listener,w=c.ha||c.src;c.fa&&Vr(c),c=b.call(w,m)}return c}function Tn(c){return c=c[Be],c instanceof ue?c:null}var _a="__closure_events_fn_"+(Math.random()*1e9>>>0);function jr(c){return typeof c=="function"?c:(c[_a]||(c[_a]=function(m){return c.handleEvent(m)}),c[_a])}function It(){P.call(this),this.i=new ue(this),this.M=this,this.G=null}R(It,P),It.prototype[et]=!0,It.prototype.removeEventListener=function(c,m,b,w){En(this,c,m,b,w)};function Pt(c,m){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new V(m,c);else if(m instanceof V)m.target=m.target||c;else{var L=m;m=new V(w,c),le(m,L)}L=!0;let H,oe;if(b)for(oe=b.length-1;oe>=0;oe--)H=m.g=b[oe],L=_i(H,w,!0,m)&&L;if(H=m.g=c,L=_i(H,w,!0,m)&&L,L=_i(H,w,!1,m)&&L,b)for(oe=0;oe<b.length;oe++)H=m.g=b[oe],L=_i(H,w,!1,m)&&L}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const b=c.g[m];for(let w=0;w<b.length;w++)_e(b[w]);delete c.g[m],c.h--}}this.G=null},It.prototype.J=function(c,m,b,w){return this.i.add(String(c),m,!1,b,w)},It.prototype.K=function(c,m,b,w){return this.i.add(String(c),m,!0,b,w)};function _i(c,m,b,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const oe=m[H];if(oe&&!oe.da&&oe.capture==b){const ke=oe.listener,Gt=oe.ha||oe.src;oe.fa&&xe(c.i,oe),L=ke.call(Gt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Ns(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function ba(c){c.g=Ns(()=>{c.g=null,c.i&&(c.i=!1,ba(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Nt extends P{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(c){P.call(this),this.h=c,this.g={}}R(ar,P);var Ea=[];function Li(c){He(c.g,function(m,b){this.g.hasOwnProperty(b)&&Vr(m)},c),c.g={}}ar.prototype.N=function(){ar.Z.N.call(this),Li(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zi=f.JSON.stringify,Al=f.JSON.parse,po=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Bi(){}function Ta(){}var An={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){V.call(this,"d")}R(Ft,V);function at(){V.call(this,"c")}R(at,V);var wt={},Aa=null;function Sa(){return Aa=Aa||new It}wt.Ia="serverreachability";function go(c){V.call(this,wt.Ia,c)}R(go,V);function On(c){const m=Sa();Pt(m,new go(m))}wt.STAT_EVENT="statevent";function bi(c,m){V.call(this,wt.STAT_EVENT,c),this.stat=m}R(bi,V);function gt(c){const m=Sa();Pt(m,new bi(m,c))}wt.Ja="timingevent";function Wn(c,m){V.call(this,wt.Ja,c),this.size=m}R(Wn,V);function Re(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function yo(c,m,b,w,L,H){c.info(function(){if(c.g)if(H){var oe="",ke=H.split("&");for(let st=0;st<ke.length;st++){var Gt=ke[st].split("=");if(Gt.length>1){const xt=Gt[0];Gt=Gt[1];const Ci=xt.split("_");oe=Ci.length>=2&&Ci[1]=="type"?oe+(xt+"="+Gt+"&"):oe+(xt+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+b+`
`+oe})}function qi(c,m,b,w,L,H,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+b+`
`+H+" "+oe})}function ei(c,m,b,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+wa(c,b)+(w?" "+w:"")})}function Ei(c,m){c.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function wa(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var b=H[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return zi(H)}catch{return m}}var sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kr;function kn(){}R(kn,Bi),kn.prototype.g=function(){return new XMLHttpRequest},kr=new kn;function ti(c){return encodeURIComponent(String(c))}function Sn(c){var m=1;c=c.split(":");const b=[];for(;m>0&&c.length;)b.push(c.shift()),m--;return c.length&&b.push(c.join(":")),b}function Pn(c,m,b,w){this.j=c,this.i=m,this.l=b,this.S=w||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var Dt={},Le={};function an(c,m,b){c.M=1,c.A=yt(Ut(m)),c.u=b,c.R=!0,Pr(c,null)}function Pr(c,m){c.F=Date.now(),ni(c),c.B=Ut(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ma(b.i,"t",w),c.C=0,b=c.j.L,c.h=new Un,c.g=$u(c.j,b?m:null,!c.u),c.P>0&&(c.O=new Nt(_(c.Y,c,c.g),c.P)),m=c.V,b=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ea[0]=L.toString()),L=Ea);for(let H=0;H<L.length;H++){const oe=ft(b,L[H],w||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),On(),yo(c.i,c.v,c.B,c.l,c.S,c.u)}Pn.prototype.ba=function(c){c=c.target;const m=this.O;m&&ui(c)==3?m.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const ke=ui(this.g),Gt=this.g.ya(),st=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||ke!=4||Gt==7||(Gt==8||st<=0?On(3):On(2)),ii(this);var m=this.g.ca();this.X=m;var b=Qe(this);if(this.o=m==200,qi(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var H=w;break t}}H=null}if(c=H)ei(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,c);else{this.o=!1,this.m=3,gt(12),sn(this),Ln(this);break e}}if(this.R){c=!0;let xt;for(;!this.K&&this.C<b.length;)if(xt=Ds(this,b),xt==Le){ke==4&&(this.m=4,gt(14),c=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Dt){this.m=4,gt(15),ei(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ei(this.i,this.l,xt,null),ri(this,xt);if(xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||b.length!=0||this.h.h||(this.m=1,gt(16),c=!1),this.o=this.o&&c,!c)ei(this.i,this.l,b,"[Invalid Chunked Response]"),sn(this),Ln(this);else if(b.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Mt(oe),oe.P=!0,gt(11))}}else ei(this.i,this.l,b,null),ri(this,b);ke==4&&sn(this),this.o&&!this.K&&(ke==4?Ri(this.j,this):(this.o=!1,ni(this)))}else Qi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),sn(this),Ln(this)}}}catch{}finally{}};function Qe(c){if(!xa(c))return c.g.la();const m=on(c.g);if(m==="")return"";let b="";const w=m.length,L=ui(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return sn(c),Ln(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<w;H++)c.h.h=!0,b+=c.h.i.decode(m[H],{stream:!(L&&H==w-1)});return m.length=0,c.h.g+=b,c.C=0,c.h.g}function xa(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ds(c,m){var b=c.C,w=m.indexOf(`
`,b);return w==-1?Le:(b=Number(m.substring(b,w)),isNaN(b)?Dt:(w+=1,w+b>m.length?Le:(m=m.slice(w,w+b),c.C=w+b,m)))}Pn.prototype.cancel=function(){this.K=!0,sn(this)};function ni(c){c.T=Date.now()+c.H,Ra(c,c.H)}function Ra(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Re(_(c.aa,c),m)}function ii(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Pn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ei(this.i,this.B),this.M!=2&&(On(),gt(17)),sn(this),this.m=2,Ln(this)):Ra(this,this.T-c)};function Ln(c){c.j.I==0||c.K||Ri(c.j,c)}function sn(c){ii(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Li(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ri(c,m){try{var b=c.j;if(b.I!=0&&(b.g==c||si(b.h,c))){if(!c.L&&si(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Gr(b),Yi(b);else break e;nt(b),gt(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Re(_(b.Va,b),6e3));ai(b.h)<=1&&b.ta&&(b.ta=void 0)}else gr(b,11)}else if((c.L||b.g==c)&&Gr(b),!C(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let st=L[m];const xt=st[0];if(!(xt<=b.K))if(b.K=xt,st=st[1],b.I==2)if(st[0]=="c"){b.M=st[1],b.ba=st[2];const Ci=st[3];Ci!=null&&(b.ka=Ci,b.j.info("VER="+b.ka));const yr=st[4];yr!=null&&(b.za=yr,b.j.info("SVER="+b.za));const Ki=st[5];Ki!=null&&typeof Ki=="number"&&Ki>0&&(w=1.5*Ki,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const $i=c.g;if($i){const Ls=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var H=w.h;H.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ca(H,H.h),H.h=null))}if(w.G){const bo=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(w.wa=bo,ie(w.J,w.G,bo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var oe=c;if(w.na=Ku(w,w.L?w.ba:null,w.W),oe.L){Os(w.h,oe);var ke=oe,Gt=w.O;Gt&&(ke.H=Gt),ke.D&&(ii(ke),ni(ke)),w.g=oe}else Ve(w);b.i.length>0&&S(b)}else st[0]!="stop"&&st[0]!="close"||gr(b,7);else b.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?gr(b,7):Us(b):st[0]!="noop"&&b.l&&b.l.qa(st),b.A=0)}}On(4)}catch{}}var Ot=class{constructor(c,m){this.g=c,this.map=m}};function or(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ai(c){return c.h?1:c.g?c.g.size:0}function si(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ca(c,m){c.g?c.g.add(m):c.h=m}function Os(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}or.prototype.cancel=function(){if(this.i=Ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ia(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const b of c.g.values())m=m.concat(b.G);return m}return Q(c.i)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,m){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let L,H=null;w>=0?(L=c[b].substring(0,w),H=c[b].substring(w+1)):L=c[b],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function cn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof cn?(this.l=c.l,Xt(this,c.j),this.o=c.o,this.g=c.g,lr(this,c.u),this.h=c.h,Gi(this,_o(c.i)),this.m=c.m):c&&(m=String(c).match(Ms))?(this.l=!1,Xt(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),lr(this,m[4]),this.h=Ti(m[5]||"",!0),Gi(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}cn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ur(m,Da,!0),":");var b=this.g;return(b||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ur(m,Da,!0),"@"),c.push(ti(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(ur(b,b.charAt(0)=="/"?js:Vs,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",ur(b,vo)),c.join("")},cn.prototype.resolve=function(c){const m=Ut(this);let b=!!c.j;b?Xt(m,c.j):b=!!c.o,b?m.o=c.o:b=!!c.g,b?m.g=c.g:b=c.u!=null;var w=c.h;if(b)lr(m,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let oe=0;oe<L.length;){const ke=L[oe++];ke=="."?w&&oe==L.length&&H.push(""):ke==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&oe==L.length&&H.push("")):(H.push(ke),w=!0)}w=H.join("/")}else w=L}return b?m.h=w:b=c.i.toString()!=="",b?Gi(m,_o(c.i)):b=!!c.m,b&&(m.m=c.m),m};function Ut(c){return new cn(c)}function Xt(c,m,b){c.j=b?Ti(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function lr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Gi(c,m,b){m instanceof hr?(c.i=m,Va(c.i,c.l)):(b||(m=ur(m,cr)),c.i=new hr(m,c.l))}function ie(c,m,b){c.i.set(m,b)}function yt(c){return ie(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ur(c,m,b){return typeof c=="string"?(c=encodeURI(c).replace(m,wn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Da=/[#\/\?@]/g,Vs=/[#\?:]/g,js=/[#\?]/g,cr=/[#\?@]/g,vo=/#/g;function hr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(m,b){c.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}r=hr.prototype,r.add=function(c,m){xn(this),this.i=null,c=fr(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(m),this.h+=1,this};function ks(c,m){xn(c),m=fr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ur(c,m){return xn(c),m=fr(c,m),c.g.has(m)}r.forEach=function(c,m){xn(this),this.g.forEach(function(b,w){b.forEach(function(L){c.call(m,L,w,this)},this)},this)};function Oa(c,m){xn(c);let b=[];if(typeof m=="string")Ur(c,m)&&(b=b.concat(c.g.get(fr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)b=b.concat(c[m]);return b}r.set=function(c,m){return xn(this),this.i=null,c=fr(this,c),Ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Oa(this,c),c.length>0?String(c[0]):m):m};function Ma(c,m,b){ks(c,m),b.length>0&&(c.i=null,c.g.set(fr(c,m),Q(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var b=m[w];const L=ti(b);b=Oa(this,b);for(let H=0;H<b.length;H++){let oe=L;b[H]!==""&&(oe+="="+ti(b[H])),c.push(oe)}}return this.i=c.join("&")};function _o(c){const m=new hr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function fr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Va(c,m){m&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(b,w){const L=w.toLowerCase();w!=L&&(ks(this,w),Ma(this,L,b))},c)),c.j=m}function oi(c,m){const b=new jn;if(f.Image){const w=new Image;w.onload=T(zn,b,"TestLoadImage: loaded",!0,m,w),w.onerror=T(zn,b,"TestLoadImage: error",!1,m,w),w.onabort=T(zn,b,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(zn,b,"TestLoadImage: timeout",!1,m,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function Lr(c,m){const b=new jn,w=new AbortController,L=setTimeout(()=>{w.abort(),zn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(H=>{clearTimeout(L),H.ok?zn(b,"TestPingServer: ok",!0,m):zn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),zn(b,"TestPingServer: error",!1,m)})}function zn(c,m,b,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(b)}catch{}}function dr(){this.g=new po}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}R(Ai,Bi),Ai.prototype.g=function(){return new zr(this.i,this.h)};function zr(c,m){It.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(zr,It),r=zr.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,li(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?mr(this):li(this),this.readyState==3&&ja(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,mr(this))},r.Na=function(c){this.g&&(this.response=c,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,li(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=m.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bn(c){let m="";return He(c,function(b,w){m+=w,m+=":",m+=b,m+=`\r
`}),m}function Br(c,m,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Bn(b),typeof c=="string"?b!=null&&ti(b):ie(c,m,b))}function lt(c){It.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(lt,It);var Si=/^https?$/i,Ps=["POST","PUT"];r=lt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kr.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){qr(this,H);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)b.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())b.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ps,m,void 0)>=0)||w||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of b)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){qr(this,H)}};function qr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ka(c),wi(c)}function ka(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),lt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},r.Xa=function(){Hr(this)};function Hr(c){if(c.h&&typeof u<"u"){if(c.v&&ui(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),ui(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var w;if(w=H===0){let oe=String(c.D).match(Ms)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),w=!Si.test(oe?oe.toLowerCase():"")}b=w}if(b)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var L=ui(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",ka(c)}}finally{wi(c)}}}}function wi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,m||Pt(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Al(m)}};function on(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const m={};c=(c.g&&ui(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var b=Sn(c[w]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=m[L]||[];m[L]=H,H.push(b)}tt(m,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(c,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||m}function pr(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,c),this.Za=xi("retryDelaySeedMs",1e4,c),this.Ta=xi("forwardChannelMaxRetries",2,c),this.va=xi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new or(c&&c.concurrentRequestLimit),this.Ba=new dr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,b,w){gt(0),this.W=c,this.H=m||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Ku(this,null,this.W),S(this)};function Us(c){if(Fr(c),c.I==3){var m=c.V++,b=Ut(c.J);if(ie(b,"SID",c.M),ie(b,"RID",m),ie(b,"TYPE","terminate"),ne(c,b),m=new Pn(c,c.j,m),m.M=2,m.A=yt(Ut(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=m.A,b=!0),b||(m.g=$u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}Yu(c)}function Yi(c){c.g&&(Mt(c),c.g.cancel(),c.g=null)}function Fr(c){Yi(c),c.v&&(f.clearTimeout(c.v),c.v=null),Gr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function S(c){if(!Fi(c.h)&&!c.m){c.m=!0;var m=c.Ea;ye||N(),pe||(ye(),pe=!0),I.add(m,c),c.D=0}}function x(c,m){return ai(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Re(_(c.Ea,c,m),Qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Pn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=k(H),le(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=Ee(this,L,m),b=Ut(this.J),ie(b,"RID",c),ie(b,"CVER",22),this.G&&ie(b,"X-HTTP-Session-Id",this.G),ne(this,b),H&&(this.R?m="headers="+ti(Bn(H))+"&"+m:this.u&&Br(b,this.u,H)),Ca(this.h,L),this.Ra&&ie(b,"TYPE","init"),this.S?(ie(b,"$req",m),ie(b,"SID","null"),L.U=!0,an(L,b,null)):an(L,b,m),this.I=2}}else this.I==3&&(c?F(this,c):this.i.length==0||Fi(this.h)||F(this))};function F(c,m){var b;m?b=m.l:b=c.V++;const w=Ut(c.J);ie(w,"SID",c.M),ie(w,"RID",b),ie(w,"AID",c.K),ne(c,w),c.u&&c.o&&Br(w,c.u,c.o),b=new Pn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ee(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ca(c.h,b),an(b,w,m)}function ne(c,m){c.H&&He(c.H,function(b,w){ie(m,w,b)}),c.l&&He({},function(b,w){ie(m,w,b)})}function Ee(c,m,b){b=Math.min(c.i.length,b);const w=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let ke=-1;for(;;){const Gt=["count="+b];ke==-1?b>0?(ke=L[0].g,Gt.push("ofs="+ke)):ke=0:Gt.push("ofs="+ke);let st=!0;for(let xt=0;xt<b;xt++){var H=L[xt].g;const Ci=L[xt].map;if(H-=ke,H<0)ke=Math.max(0,L[xt].g-100),st=!1;else try{H="req"+H+"_"||"";try{var oe=Ci instanceof Map?Ci:Object.entries(Ci);for(const[yr,Ki]of oe){let $i=Ki;p(Ki)&&($i=zi(Ki)),Gt.push(H+yr+"="+encodeURIComponent($i))}}catch(yr){throw Gt.push(H+"type="+encodeURIComponent("_badmap")),yr}}catch{w&&w(Ci)}}if(st){oe=Gt.join("&");break e}}oe=void 0}return c=c.i.splice(0,b),m.G=c,oe}function Ve(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ye||N(),pe||(ye(),pe=!0),I.add(m,c),c.A=0}}function nt(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Re(_(c.Da,c),Qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Vt(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Re(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Yi(this),Vt(this))};function Mt(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Vt(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ut(c.na);ie(m,"RID","rpc"),ie(m,"SID",c.M),ie(m,"AID",c.K),ie(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&ie(m,"TO",c.ia),ie(m,"TYPE","xmlhttp"),ne(c,m),c.u&&c.o&&Br(m,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=yt(Ut(m)),b.u=null,b.R=!0,Pr(b,c)}r.Va=function(){this.C!=null&&(this.C=null,Yi(this),nt(this),gt(19))};function Gr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ri(c,m){var b=null;if(c.g==m){Gr(c),Mt(c),c.g=null;var w=2}else if(si(c.h,m))b=m.G,Os(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;w=Sa(),Pt(w,new Wn(w,b)),S(c)}else Ve(c);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&x(c,m)||w==2&&nt(c)))switch(b&&b.length>0&&(m=c.h,m.i=m.i.concat(b)),L){case 1:gr(c,5);break;case 4:gr(c,10);break;case 3:gr(c,6);break;default:gr(c,2)}}}function Qu(c,m){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*m}function gr(c,m){if(c.j.info("Error code "+m),m==2){var b=_(c.bb,c),w=c.Ua;const L=!w;w=new cn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xt(w,"https"),yt(w),L?oi(w.toString(),b):Lr(w.toString(),b)}else gt(2);c.I=0,c.l&&c.l.pa(m),Yu(c),Fr(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const m=Ia(c.h);(m.length!=0||c.i.length!=0)&&(te(c.ja,m),te(c.ja,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.oa()}}function Ku(c,m,b){var w=b instanceof cn?Ut(b):new cn(b);if(w.g!="")m&&(w.g=m+"."+w.g),lr(w,w.u);else{var L=f.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new cn(null);w&&Xt(H,w),m&&(H.g=m),L&&lr(H,L),b&&(H.h=b),w=H}return b=c.G,m=c.wa,b&&m&&ie(w,b,m),ie(w,"VER",c.ka),ne(c,w),w}function $u(c,m,b){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new lt(new Ai({ab:b})):new lt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Pa(){}Pa.prototype.g=function(c,m){return new Mn(c,m)};function Mn(c,m){It.call(this),this.g=new pr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Qr(this)}R(Mn,It),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Us(this.g)},Mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=zi(c),c=b);m.i.push(new Ot(m.Ya++,c)),m.I==3&&S(m)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Us(this.g),delete this.g,Mn.Z.N.call(this)};function Ju(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const b in m){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}R(Ju,Ft);function Zu(){at.call(this),this.status=1}R(Zu,at);function Qr(c){this.g=c}R(Qr,Xu),Qr.prototype.ra=function(){Pt(this.g,"a")},Qr.prototype.qa=function(c){Pt(this.g,new Ju(c))},Qr.prototype.pa=function(c){Pt(this.g,new Zu)},Qr.prototype.oa=function(){Pt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,R1=function(){return new Pa},x1=function(){return Sa()},w1=wt,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,yh=sr,Hi.COMPLETE="complete",S1=Hi,Ta.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",It.prototype.listen=It.prototype.J,fu=Ta,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,A1=lt}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore",g_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new up("@firebase/firestore");function Xo(){return uo.logLevel}function me(r,...e){if(uo.logLevel<=$e.DEBUG){const n=e.map(bp);uo.debug(`Firestore (${vl}): ${r}`,...n)}}function da(r,...e){if(uo.logLevel<=$e.ERROR){const n=e.map(bp);uo.error(`Firestore (${vl}): ${r}`,...n)}}function cl(r,...e){if(uo.logLevel<=$e.WARN){const n=e.map(bp);uo.warn(`Firestore (${vl}): ${r}`,...n)}}function bp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,C1(r,a,n)}function C1(r,e,n){let a=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw da(a),new Error(a)}function ut(r,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||C1(e,l,a)}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ga{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class eR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tR{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vs,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ut(typeof a.accessToken=="string",31837,{l:a}),new I1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class nR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new nR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=aR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=e.charAt(l[u]%62))}return a}}function Xe(r,e){return r<e?-1:r>e?1:0}function qm(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const l=r.charAt(a),u=e.charAt(a);if(l!==u)return Tm(l)===Tm(u)?Xe(l,u):Tm(l)?1:-1}return Xe(r.length,e.length)}const sR=55296,oR=57343;function Tm(r){const e=r.charCodeAt(0);return e>=sR&&e<=oR}function hl(r,e,n){return r.length===e.length&&r.every(((a,l)=>n(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__name__";class Ar{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ie(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const u=Ar.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Xe(e.length,n.length)}static compareSegments(e,n){const a=Ar.isNumericId(e),l=Ar.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class _t extends Ar{construct(e,n,a){return new _t(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const lR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Ar{construct(e,n,a){return new _n(e,n,a)}static isValidIdentifier(e){return lR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new _n([v_])}static fromServerFormat(e){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(a+=p,l++):(u(),l++)}if(u(),f)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(_t.fromString(e))}static fromName(e){return new Ae(_t.fromString(e).popFirst(5))}static empty(){return new Ae(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function uR(r,e,n,a){if(e===!0&&a===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function __(r){if(!Ae.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b_(r){if(Ae.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function D1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function er(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Lu(r,e){if(!D1(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(l&&typeof f!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,T_=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*T_);return new St(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E_)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:rn("string",St._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new St(0,0))}static max(){return new De(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function cR(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=De.fromTimestamp(a===1e9?new St(n+1,0):new St(n,a));return new Es(l,Ae.empty(),e)}function hR(r){return new Es(r.readTime,r.key,xu)}class Es{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Es(De.min(),Ae.empty(),xu)}static max(){return new Es(De.max(),Ae.empty(),xu)}}function fR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(r.documentKey,e.documentKey),n!==0?n:Xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==dR)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,a)=>{n(e)}))}static reject(e){return new W(((n,a)=>{a(e)}))}static waitFor(e){return new W(((n,a)=>{let l=0,u=0,f=!1;e.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&n()}),(g=>a(g)))})),f=!0,u===l&&n()}))}static or(e){let n=W.resolve(!1);for(const a of e)n=n.next((l=>l?W.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(e,n){return new W(((a,l)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next((T=>{f[_]=T,++p,p===u&&a(f)}),(T=>l(T)))}}))}static doWhile(e,n){return new W(((a,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):a()};u()}))}}function pR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=-1;function Jh(r){return r==null}function Mh(r){return r===0&&1/r==-1/0}function gR(r){return typeof r=="number"&&Number.isInteger(r)&&!Mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="";function yR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=A_(e)),e=vR(r.get(n),e);return A_(e)}function vR(r,e){let n=e;const a=r.length;for(let l=0;l<a;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case O1:n+="";break;default:n+=u}}return n}function A_(r){return r+O1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function M1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,a,l,u){this.key=e,this.value=n,this.color=a??vn.RED,this.left=l??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,u){return new vn(e??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return vn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,a,l,u){return this}insert(e,n,a){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new vi([])}unionWith(e){let n=new un(_n.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new V1("Invalid base64 string: "+u):u}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const _R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(r){if(ut(!!r,39018),typeof r=="string"){let e=0;const n=_R.exec(r);if(ut(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:$t(r.seconds),nanos:$t(r.nanos)}}function $t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function As(r){return typeof r=="string"?bn.fromBase64String(r):bn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="server_timestamp",k1="__type__",P1="__previous_value__",U1="__local_write_time__";function Ap(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[k1])==null?void 0:a.stringValue)===j1}function Zh(r){const e=r.mapValue.fields[P1];return Ap(e)?Zh(e):e}function Ru(r){const e=Ts(r.mapValue.fields[U1].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,a,l,u,f,p,g,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const Vh="(default)";class Cu{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__type__",ER="__max__",ah={mapValue:{}},z1="__vector__",jh="value";function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:AR(r)?9007199254740991:TR(r)?10:11:Ie(28295,{value:r})}function Dr(r,e){if(r===e)return!0;const n=Ss(r);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ru(r).isEqual(Ru(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Ts(l.timestampValue),p=Ts(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return As(l.bytesValue).isEqual(As(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return $t(l.geoPointValue.latitude)===$t(u.geoPointValue.latitude)&&$t(l.geoPointValue.longitude)===$t(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return $t(l.integerValue)===$t(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=$t(l.doubleValue),p=$t(u.doubleValue);return f===p?Mh(f)===Mh(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return hl(r.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(S_(f)!==S_(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Dr(f[g],p[g])))return!1;return!0})(r,e);default:return Ie(52216,{left:r})}}function Iu(r,e){return(r.values||[]).find((n=>Dr(n,e)))!==void 0}function fl(r,e){if(r===e)return 0;const n=Ss(r),a=Ss(e);if(n!==a)return Xe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=$t(u.integerValue||u.doubleValue),g=$t(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return x_(r.timestampValue,e.timestampValue);case 4:return x_(Ru(r),Ru(e));case 5:return qm(r.stringValue,e.stringValue);case 6:return(function(u,f){const p=As(u),g=As(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=Xe(p[_],g[_]);if(T!==0)return T}return Xe(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Xe($t(u.latitude),$t(f.latitude));return p!==0?p:Xe($t(u.longitude),$t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return R_(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var M,Q,te,ae;const p=u.fields||{},g=f.fields||{},_=(M=p[jh])==null?void 0:M.arrayValue,T=(Q=g[jh])==null?void 0:Q.arrayValue,R=Xe(((te=_==null?void 0:_.values)==null?void 0:te.length)||0,((ae=T==null?void 0:T.values)==null?void 0:ae.length)||0);return R!==0?R:R_(_,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ah.mapValue&&f===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(f===ah.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=f.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let R=0;R<g.length&&R<T.length;++R){const M=qm(g[R],T[R]);if(M!==0)return M;const Q=fl(p[g[R]],_[T[R]]);if(Q!==0)return Q}return Xe(g.length,T.length)})(r.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function x_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Xe(r,e);const n=Ts(r),a=Ts(e),l=Xe(n.seconds,a.seconds);return l!==0?l:Xe(n.nanos,a.nanos)}function R_(r,e){const n=r.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=fl(n[l],a[l]);if(u)return u}return Xe(n.length,a.length)}function dl(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ts(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return As(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ae.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=Hm(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of a)u?u=!1:l+=",",l+=`${f}:${Hm(n.fields[f])}`;return l+"}"})(r.mapValue):Ie(61005,{value:r})}function vh(r){switch(Ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(r);return e?16+vh(e):16;case 5:return 2*r.stringValue.length;case 6:return As(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+vh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Cs(a.fields,((u,f)=>{l+=u.length+vh(f)})),l})(r.mapValue);default:throw Ie(13486,{value:r})}}function C_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fm(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function I_(r){return!!r&&"nullValue"in r}function N_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function TR(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[L1])==null?void 0:a.stringValue)===z1}function bu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=bu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bu(r.arrayValue.values[n]);return e}return{...r}}function AR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(n)}setAll(e){let n=_n.emptyPath(),a={},l=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,a,l),a={},l=[],n=p.popLast()}f?a[p.lastSegment()]=bu(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];_h(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){Cs(n,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new Jn(bu(this.value))}}function B1(r){const e=[];return Cs(r.fields,((n,a)=>{const l=new _n([n]);if(_h(a)){const u=B1(a.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,a,l,u,f,p){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Nn(e,0,De.min(),De.min(),De.min(),Jn.empty(),0)}static newFoundDocument(e,n,a,l){return new Nn(e,1,n,De.min(),a,l,0)}static newNoDocument(e,n){return new Nn(e,2,n,De.min(),De.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,De.min(),De.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.position=e,this.inclusive=n}}function D_(r,e,n){let a=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?a=Ae.comparator(Ae.fromName(f.referenceValue),n.key):a=fl(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function O_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Dr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function SR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{}class nn extends q1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new xR(e,n,a):n==="array-contains"?new IR(e,a):n==="in"?new NR(e,a):n==="not-in"?new DR(e,a):n==="array-contains-any"?new OR(e,a):new nn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new RR(e,a):new CR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fl(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends q1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return H1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H1(r){return r.op==="and"}function F1(r){return wR(r)&&H1(r)}function wR(r){for(const e of r.filters)if(e instanceof ir)return!1;return!0}function Gm(r){if(r instanceof nn)return r.field.canonicalString()+r.op.toString()+dl(r.value);if(F1(r))return r.filters.map((e=>Gm(e))).join(",");{const e=r.filters.map((n=>Gm(n))).join(",");return`${r.op}(${e})`}}function G1(r,e){return r instanceof nn?(function(a,l){return l instanceof nn&&a.op===l.op&&a.field.isEqual(l.field)&&Dr(a.value,l.value)})(r,e):r instanceof ir?(function(a,l){return l instanceof ir&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,f,p)=>u&&G1(f,l.filters[p])),!0):!1})(r,e):void Ie(19439)}function Q1(r){return r instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`})(r):r instanceof ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(Q1).join(" ,")+"}"})(r):"Filter"}class xR extends nn{constructor(e,n,a){super(e,n,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class RR extends nn{constructor(e,n){super(e,"in",n),this.keys=Y1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CR extends nn{constructor(e,n){super(e,"not-in",n),this.keys=Y1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Y1(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>Ae.fromName(a.referenceValue)))}class IR extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&Iu(n.arrayValue,this.value)}}class NR extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class DR extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Iu(this.value.arrayValue,n)}}class OR extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Iu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n=null,a=[],l=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function M_(r,e=null,n=[],a=[],l=null,u=null,f=null){return new MR(r,e,n,a,l,u,f)}function wp(r){const e=Me(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Gm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>dl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>dl(a))).join(",")),e.Te=n}return e.Te}function xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!SR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!G1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!O_(r.startAt,e.startAt)&&O_(r.endAt,e.endAt)}function Qm(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n=null,a=[],l=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VR(r,e,n,a,l,u,f,p){return new zu(r,e,n,a,l,u,f,p)}function Wh(r){return new zu(r)}function V_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function K1(r){return r.collectionGroup!==null}function Eu(r){const e=Me(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new un(_n.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ph(u,a))})),n.has(_n.keyField().canonicalString())||e.Ie.push(new Ph(_n.keyField(),a))}return e.Ie}function Rr(r){const e=Me(r);return e.Ee||(e.Ee=jR(e,Eu(r))),e.Ee}function jR(r,e){if(r.limitType==="F")return M_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ph(l.field,u)}));const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return M_(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Ym(r,e){const n=r.filters.concat([e]);return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Km(r,e,n){return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ef(r,e){return xp(Rr(r),Rr(e))&&r.limitType===e.limitType}function $1(r){return`${wp(Rr(r))}|lt:${r.limitType}`}function Jo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>Q1(l))).join(", ")}]`),Jh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>dl(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>dl(l))).join(",")),`Target(${a})`})(Rr(r))}; limitType=${r.limitType})`}function tf(r,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ae.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,l){for(const u of Eu(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(f,p,g){const _=D_(f,p,g);return f.inclusive?_<=0:_<0})(a.startAt,Eu(a),l)||a.endAt&&!(function(f,p,g){const _=D_(f,p,g);return f.inclusive?_>=0:_>0})(a.endAt,Eu(a),l))})(r,e)}function kR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function X1(r){return(e,n)=>{let a=!1;for(const l of Eu(r)){const u=PR(l,e,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function PR(r,e,n){const a=r.field.isKeyField()?Ae.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),_=p.data.field(u);return g!==null&&_!==null?fl(g,_):Ie(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new jt(Ae.comparator);function ma(){return UR}const J1=new jt(Ae.comparator);function du(...r){let e=J1;for(const n of r)e=e.insert(n.key,n);return e}function Z1(r){let e=J1;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function no(){return Tu()}function W1(){return Tu()}function Tu(){return new fo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const LR=new jt(Ae.comparator),zR=new un(Ae.comparator);function Je(...r){let e=zR;for(const n of r)e=e.add(n);return e}const BR=new un(Xe);function qR(){return BR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function eb(r){return{integerValue:""+r}}function tb(r,e){return gR(e)?eb(e):Rp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function HR(r,e,n){return r instanceof Uh?(function(l,u){const f={fields:{[k1]:{stringValue:j1},[U1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Ap(u)&&(u=Zh(u)),u&&(f.fields[P1]=u),{mapValue:f}})(n,e):r instanceof Nu?ib(r,e):r instanceof Du?rb(r,e):(function(l,u){const f=nb(l,u),p=j_(f)+j_(l.Ae);return Fm(f)&&Fm(l.Ae)?eb(p):Rp(l.serializer,p)})(r,e)}function FR(r,e,n){return r instanceof Nu?ib(r,e):r instanceof Du?rb(r,e):n}function nb(r,e){return r instanceof Ou?(function(a){return Fm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Uh extends nf{}class Nu extends nf{constructor(e){super(),this.elements=e}}function ib(r,e){const n=ab(e);for(const a of r.elements)n.some((l=>Dr(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Du extends nf{constructor(e){super(),this.elements=e}}function rb(r,e){let n=ab(e);for(const a of r.elements)n=n.filter((l=>!Dr(l,a)));return{arrayValue:{values:n}}}class Ou extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function j_(r){return $t(r.integerValue||r.doubleValue)}function ab(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.field=e,this.transform=n}}function QR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof Nu&&l instanceof Nu||a instanceof Du&&l instanceof Du?hl(a.elements,l.elements,Dr):a instanceof Ou&&l instanceof Ou?Dr(a.Ae,l.Ae):a instanceof Uh&&l instanceof Uh})(r.transform,e.transform)}class YR{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function sb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cp(r.key,tr.none()):new Bu(r.key,r.data,tr.none());{const n=r.data,a=Jn.empty();let l=new un(_n.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),l=l.add(u)}return new Is(r.key,a,new vi(l.toArray()),tr.none())}}function KR(r,e,n){r instanceof Bu?(function(l,u,f){const p=l.value.clone(),g=P_(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Is?(function(l,u,f){if(!bh(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=P_(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(ob(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Au(r,e,n,a){return r instanceof Bu?(function(u,f,p,g){if(!bh(u.precondition,f))return p;const _=u.value.clone(),T=U_(u.fieldTransforms,g,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,e,n,a):r instanceof Is?(function(u,f,p,g){if(!bh(u.precondition,f))return p;const _=U_(u.fieldTransforms,g,f),T=f.data;return T.setAll(ob(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(r,e,n,a):(function(u,f,p){return bh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function $R(r,e){let n=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),u=nb(a.transform,l||null);u!=null&&(n===null&&(n=Jn.empty()),n.set(a.field,u))}return n||null}function k_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&hl(a,l,((u,f)=>QR(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Bu extends rf{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Is extends rf{constructor(e,n,a,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ob(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function P_(r,e,n){const a=new Map;ut(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,p=e.data.field(u.field);a.set(u.field,FR(f,p,n[l]))}return a}function U_(r,e,n){const a=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);a.set(l.field,HR(u,f,e))}return a}class Cp extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XR extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&KR(u,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Au(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Au(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=W1();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(l.key)?null:p;const g=sb(f,p);g!==null&&a.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(De.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((n,a)=>k_(n,a)))&&hl(this.baseMutations,e.baseMutations,((n,a)=>k_(n,a)))}}class Ip{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){ut(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return LR})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,a[f].version);return new Ip(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,We;function eC(r){switch(r){case Z.OK:return Ie(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function lb(r){if(r===void 0)return da("GRPC error has no .code"),Z.UNKNOWN;switch(r){case tn.OK:return Z.OK;case tn.CANCELLED:return Z.CANCELLED;case tn.UNKNOWN:return Z.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Z.INTERNAL;case tn.UNAVAILABLE:return Z.UNAVAILABLE;case tn.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case tn.NOT_FOUND:return Z.NOT_FOUND;case tn.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case tn.ABORTED:return Z.ABORTED;case tn.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case tn.DATA_LOSS:return Z.DATA_LOSS;default:return Ie(39323,{code:r})}}(We=tn||(tn={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new ys([4294967295,4294967295],0);function L_(r){const e=tC().encode(r),n=new T1;return n.update(e),new Uint8Array(n.digest())}function z_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ys([n,a],0),new ys([l,u],0)]}class Np{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new mu(`Invalid padding: ${n}`);if(a<0)throw new mu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(ys.fromNumber(a)));return l.compare(nC)===1&&(l=new ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=L_(e),[a,l]=z_(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,l,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Np(u,l,n);return a.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=L_(e),[a,l]=z_(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,a,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new af(De.min(),l,new jt(Xe),ma(),Je())}}class qu{constructor(e,n,a,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new qu(a,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class ub{constructor(e,n){this.targetId=e,this.Ce=n}}class cb{constructor(e,n,a=bn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class B_{constructor(){this.ve=0,this.Fe=q_(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),a=Je();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Ie(38017,{changeType:u})}})),new qu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=q_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ma(),this.Je=sh(),this.He=sh(),this.Ye=new jt(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Qm(u))if(a===0){const f=new Ae(u.path);this.et(n,f,Nn.newNoDocument(f,De.min()))}else ut(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let f,p;try{f=As(a).toUint8Array()}catch(g){if(g instanceof V1)return cl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Np(f,l,u)}catch(g){return cl(g instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Qm(p.target)){const g=new Ae(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Nn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let a=Je();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new af(e,n,this.Ye,this.je,a);return this.je=ma(),this.Je=sh(),this.He=sh(),this.Ye=new jt(Xe),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new B_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new jt(Ae.comparator)}function q_(){return new jt(Ae.comparator)}const rC={asc:"ASCENDING",desc:"DESCENDING"},aC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sC={and:"AND",or:"OR"};class oC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function lC(r,e){return Lh(r,e.toTimestamp())}function Cr(r){return ut(!!r,49232),De.fromTimestamp((function(n){const a=Ts(n);return new St(a.seconds,a.nanos)})(r))}function Dp(r,e){return Xm(r,e).canonicalString()}function Xm(r,e){const n=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function fb(r){const e=_t.fromString(r);return ut(yb(e),10190,{key:e.toString()}),e}function Jm(r,e){return Dp(r.databaseId,e.path)}function Am(r,e){const n=fb(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ae(mb(n))}function db(r,e){return Dp(r.databaseId,e)}function uC(r){const e=fb(r);return e.length===4?_t.emptyPath():mb(e)}function Zm(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mb(r){return ut(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function H_(r,e,n){return{name:Jm(r,e),fields:n.value.mapValue.fields}}function cC(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ie(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(ut(T===void 0||typeof T=="string",58123),bn.fromBase64String(T||"")):(ut(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),bn.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(_){const T=_.code===void 0?Z.UNKNOWN:lb(_.code);return new ce(T,_.message||"")})(f);n=new cb(a,l,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Am(r,a.document.name),u=Cr(a.document.updateTime),f=a.document.createTime?Cr(a.document.createTime):De.min(),p=new Jn({mapValue:{fields:a.document.fields}}),g=Nn.newFoundDocument(l,u,f,p),_=a.targetIds||[],T=a.removedTargetIds||[];n=new Eh(_,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Am(r,a.document),u=a.readTime?Cr(a.readTime):De.min(),f=Nn.newNoDocument(l,u),p=a.removedTargetIds||[];n=new Eh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Am(r,a.document),u=a.removedTargetIds||[];n=new Eh([],u,l,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,f=new WR(l,u),p=a.targetId;n=new ub(p,f)}}return n}function hC(r,e){let n;if(e instanceof Bu)n={update:H_(r,e.key,e.value)};else if(e instanceof Cp)n={delete:Jm(r,e.key)};else if(e instanceof Is)n={update:H_(r,e.key,e.data),updateMask:bC(e.fieldMask)};else{if(!(e instanceof XR))return Ie(16599,{Vt:e.type});n={verify:Jm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const p=f.transform;if(p instanceof Uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ou)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ie(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:lC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(r,e.precondition)),n}function fC(r,e){return r&&r.length>0?(ut(e!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Cr(l.updateTime):Cr(u);return f.isEqual(De.min())&&(f=Cr(u)),new YR(f,l.transformResults||[])})(n,e)))):[]}function dC(r,e){return{documents:[db(r,e.path)]}}function mC(r,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=db(r,l);const u=(function(_){if(_.length!==0)return gb(ir.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((T=>(function(M){return{field:Zo(M.field),direction:yC(M.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=$m(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:l}}function pC(r){let e=uC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){ut(a===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(R){const M=pb(R);return M instanceof ir&&F1(M)?M.getFilters():[M]})(n.where));let f=[];n.orderBy&&(f=(function(R){return R.map((M=>(function(te){return new Ph(Wo(te.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(n.orderBy));let p=null;n.limit&&(p=(function(R){let M;return M=typeof R=="object"?R.value:R,Jh(M)?null:M})(n.limit));let g=null;n.startAt&&(g=(function(R){const M=!!R.before,Q=R.values||[];return new kh(Q,M)})(n.startAt));let _=null;return n.endAt&&(_=(function(R){const M=!R.before,Q=R.values||[];return new kh(Q,M)})(n.endAt)),VR(e,l,f,u,p,"F",g,_)}function gC(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Wo(n.unaryFilter.field);return nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wo(n.unaryFilter.field);return nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wo(n.unaryFilter.field);return nn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wo(n.unaryFilter.field);return nn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(r):r.fieldFilter!==void 0?(function(n){return nn.create(Wo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ir.create(n.compositeFilter.filters.map((a=>pb(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(r):Ie(30097,{filter:r})}function yC(r){return rC[r]}function vC(r){return aC[r]}function _C(r){return sC[r]}function Zo(r){return{fieldPath:r.canonicalString()}}function Wo(r){return _n.fromServerFormat(r.fieldPath)}function gb(r){return r instanceof nn?(function(n){if(n.op==="=="){if(N_(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(I_(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N_(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(I_(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:vC(n.op),value:n.value}}})(r):r instanceof ir?(function(n){const a=n.getFilters().map((l=>gb(l)));return a.length===1?a[0]:{compositeFilter:{op:_C(n.op),filters:a}}})(r):Ie(54877,{filter:r})}function bC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,a,l,u=De.min(),f=De.min(),p=bn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.yt=e}}function TC(r){const e=pC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.Cn=new SC}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Es.min())}updateCollectionGroup(e,n,a){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class SC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new un(_t.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new un(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vb=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(vb,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LruGarbageCollector",wC=1048576;function Q_([r,e],[n,a]){const l=Xe(r,n);return l===0?Xe(e,a):l}class xC{constructor(e){this.Ir=e,this.buffer=new un(Q_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Q_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RC{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(G_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?me(G_,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Vr(3e5)}))}}class CC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Xh.ce);const a=new xC(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(F_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,u,f,p,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,f=Date.now(),this.nthSequenceNumber(e,l)))).next((R=>(a=R,p=Date.now(),this.removeTargets(e,a,n)))).next((R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((R=>(_=Date.now(),Xo()<=$e.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${R} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:R}))))}}function IC(r,e){return new CC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.changes=new fo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?W.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&Au(a.mutation,l,vi.empty(),St.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Je()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Je()){const l=no();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((u=>{let f=du();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=no();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Je())))}populateOverlays(e,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,a,l){let u=ma();const f=Tu(),p=(function(){return Tu()})();return n.forEach(((g,_)=>{const T=a.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Is)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Au(T.mutation,_,T.mutation.getFieldMask(),St.now())):f.set(_.key,vi.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((_,T)=>f.set(_,T))),n.forEach(((_,T)=>p.set(_,new DC(T,f.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,n){const a=Tu();let l=new jt(((f,p)=>f-p)),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const _=n.get(g);if(_===null)return;let T=a.get(g)||vi.empty();T=p.applyToLocalView(_,T),a.set(g,T);const R=(l.get(p.batchId)||Je()).add(g);l=l.insert(p.batchId,R)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,R=W1();T.forEach((M=>{if(!u.has(M)){const Q=sb(n.get(M),a.get(M));Q!==null&&R.set(M,Q),u=u.add(M)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,R))}return W.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-u.size):W.resolve(no());let p=xu,g=u;return f.next((_=>W.forEach(_,((T,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((M=>{g=g.insert(T,M)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,g,_,Je()))).next((T=>({batchId:p,changes:Z1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((a=>{let l=du();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const u=n.collectionGroup;let f=du();return this.indexManager.getCollectionParents(e,u).next((p=>W.forEach(p,(g=>{const _=(function(R,M){return new zu(M,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((T=>{T.forEach(((R,M)=>{f=f.insert(R,M)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,l)))).next((f=>{u.forEach(((g,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Nn.newInvalidDocument(T)))}));let p=du();return f.forEach(((g,_)=>{const T=u.get(g);T!==void 0&&Au(T.mutation,_,vi.empty(),St.now()),tf(n,_)&&(p=p.insert(g,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Cr(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:TC(l.bundledQuery),readTime:Cr(l.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.overlays=new jt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const a=no();return W.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,u)=>{this.St(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(e,n,a){const l=no(),u=n.length+1,f=new Ae(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>a&&l.set(g.getKey(),g)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let u=new jt(((_,T)=>_-T));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let T=u.get(_.largestBatchId);T===null&&(T=no(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=no(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return W.resolve(p)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new ZR(n,a));let u=this.qr.get(n);u===void 0&&(u=Je(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Qr=new un(fn.$r),this.Ur=new un(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new fn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new fn(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Ae(new _t([])),a=new fn(n,e),l=new fn(n,e+1),u=[];return this.Ur.forEachInRange([a,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new _t([])),a=new fn(n,e),l=new fn(n,e+1);let u=Je();return this.Ur.forEachInRange([a,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new fn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(fn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new JR(u,n,a,l);this.mutationQueue.push(f);for(const p of l)this.Zr=this.Zr.add(new fn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Tp:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new fn(n,0),l=new fn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(f=>{const p=this.Xr(f.Yr);u.push(p)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new un(Xe);return n.forEach((l=>{const u=new fn(l,0),f=new fn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{a=a.add(p.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let u=a;Ae.isDocumentKey(u)||(u=u.child(""));const f=new fn(new Ae(u),0);let p=new un(Xe);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),f),W.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(n.mutations,(l=>{const u=new fn(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new fn(n,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.ri=e,this.docs=(function(){return new jt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return W.resolve(a?a.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let a=ma();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Nn.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let u=ma();const f=n.path,p=new Ae(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||fR(hR(T),a)<=0||(l.has(T.key)||tf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,a,l){Ie(9500)}ii(e,n){return W.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new UC(this)}getSize(e){return W.resolve(this.size)}}class UC extends NC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.persistence=e,this.si=new fo((n=>wp(n)),xp),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,a){let l=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return W.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),W.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return W.resolve(a)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new jC,this.referenceDelegate=e(this),this.Pi=new LC(this),this.indexManager=new AC,this.remoteDocumentCache=(function(l){return new PC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new EC(n),this.Ii=new MC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new kC(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const l=new zC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class zC extends mR{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new Mp(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),W.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=Ae.fromPath(a);return this.gi(e,l).next((u=>{u||n.removeEntry(l,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new fo((a=>yR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=IC(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((a,l)=>this.br(e,a,l).next((u=>u?W.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((p=>{p||(a++,u.removeEntry(f,De.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,a){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=Je(),l=Je();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Vp(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _A()?8:pR(Dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new BC;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(Xo()<=$e.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Xo()<=$e.DEBUG&&me("QueryEngine","Query:",Jo(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Xo()<=$e.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):W.resolve())}ys(e,n){if(V_(n))return W.resolve(null);let a=Rr(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Km(n,null,"F"),a=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Je(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.Ds(n,p);return this.Cs(n,_,f,g.readTime)?this.ys(e,Km(n,null,"F")):this.vs(e,_,n,g)}))))})))))}ws(e,n,a,l){return V_(n)||l.isEqual(De.min())?W.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,l)?W.resolve(null):(Xo()<=$e.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Jo(n)),this.vs(e,f,n,cR(l,xu)).next((p=>p)))}))}Ds(e,n){let a=new un(X1(e));return n.forEach(((l,u)=>{tf(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,a){return Xo()<=$e.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.ps.getDocumentsMatchingQuery(e,n,Es.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",HC=3e8;class FC{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new jt(Xe),this.xs=new fo((u=>wp(u)),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function GC(r,e,n,a){return new FC(r,e,n,a)}async function bb(r,e){const n=Me(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],p=[];let g=Je();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:p})))}))}))}function QC(r,e){const n=Me(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,T){const R=_.batch,M=R.keys();let Q=W.resolve();return M.forEach((te=>{Q=Q.next((()=>T.getEntry(g,te))).next((ae=>{const ee=_.docVersions.get(te);ut(ee!==null,48541),ae.version.compareTo(ee)<0&&(R.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),T.addEntry(ae)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(g,R)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=Je();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function Eb(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function YC(r,e){const n=Me(r),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,R)=>{const M=l.get(R);if(!M)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,R).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,R))));let Q=M.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?Q=Q.withResumeToken(bn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):T.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(T.resumeToken,a)),l=l.insert(R,Q),(function(ae,ee,be){return ae.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=HC?!0:be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0})(M,Q,T)&&p.push(n.Pi.updateTargetData(u,Q))}));let g=ma(),_=Je();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(KC(u,f,e.documentUpdates).next((T=>{g=T.ks,_=T.qs}))),!a.isEqual(De.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((R=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));p.push(T)}return W.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function KC(r,e,n){let a=Je(),l=Je();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=ma();return n.forEach(((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(De.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):me(jp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function $C(r,e){const n=Me(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Tp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function XC(r,e){const n=Me(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((u=>u?(l=u,W.resolve(l)):n.Pi.allocateTargetId(a).next((f=>(l=new ds(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Wm(r,e,n){const a=Me(r),l=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!bl(f))throw f;me(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function Y_(r,e,n){const a=Me(r);let l=De.min(),u=Je();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,_,T){const R=Me(g),M=R.xs.get(T);return M!==void 0?W.resolve(R.Ms.get(M)):R.Pi.getTargetData(_,T)})(a,f,Rr(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?l:De.min(),n?u:Je()))).next((p=>(JC(a,kR(e),p),{documents:p,Qs:u})))))}function JC(r,e,n){let a=r.Os.get(e)||De.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class K_{constructor(){this.activeTargetIds=qR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZC{constructor(){this.Mo=new K_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="ConnectivityMonitor";class X_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me($_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me($_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function ep(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="RestConnection",eI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Vh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,u){const f=ep(),p=this.zo(e,n.toUriEncodedString());me(Sm,`Sending RPC '${e}' ${f}:`,p,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:_}=new URL(p),T=gl(_);return this.Jo(e,p,g,a,T).then((R=>(me(Sm,`Received RPC '${e}' ${f}: `,R),R)),(R=>{throw cl(Sm,`RPC '${e}' ${f} failed with error: `,R,"url: ",p,"request:",a),R}))}Ho(e,n,a,l,u,f){return this.Go(e,n,a,l,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const a=eI[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class iI extends tI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,u){const f=ep();return new Promise(((p,g)=>{const _=new A1;_.setWithCredentials(!0),_.listenOnce(S1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case yh.NO_ERROR:const R=_.getResponseJson();me(Cn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(R)),p(R);break;case yh.TIMEOUT:me(Cn,`RPC '${e}' ${f} timed out`),g(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const M=_.getStatus();if(me(Cn,`RPC '${e}' ${f} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const te=Q==null?void 0:Q.error;if(te&&te.status&&te.message){const ae=(function(be){const Se=be.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Se)>=0?Se:Z.UNKNOWN})(te.status);g(new ce(ae,te.message))}else g(new ce(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{me(Cn,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(l);me(Cn,`RPC '${e}' ${f} sending request:`,l),_.send(n,"POST",T,a,15)}))}T_(e,n,a){const l=ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=R1(),p=x1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const T=u.join("");me(Cn,`Creating RPC '${e}' stream ${l}: ${T}`,g);const R=f.createWebChannel(T,g);this.I_(R);let M=!1,Q=!1;const te=new nI({Yo:ee=>{Q?me(Cn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(M||(me(Cn,`Opening RPC '${e}' stream ${l} transport.`),R.open(),M=!0),me(Cn,`RPC '${e}' stream ${l} sending:`,ee),R.send(ee))},Zo:()=>R.close()}),ae=(ee,be,Se)=>{ee.listen(be,(he=>{try{Se(he)}catch(de){setTimeout((()=>{throw de}),0)}}))};return ae(R,fu.EventType.OPEN,(()=>{Q||(me(Cn,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),ae(R,fu.EventType.CLOSE,(()=>{Q||(Q=!0,me(Cn,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(R))})),ae(R,fu.EventType.ERROR,(ee=>{Q||(Q=!0,cl(Cn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),te.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),ae(R,fu.EventType.MESSAGE,(ee=>{var be;if(!Q){const Se=ee.data[0];ut(!!Se,16349);const he=Se,de=(he==null?void 0:he.error)||((be=he[0])==null?void 0:be.error);if(de){me(Cn,`RPC '${e}' stream ${l} received error:`,de);const ye=de.status;let pe=(function(D){const P=tn[D];if(P!==void 0)return lb(P)})(ye),I=de.message;pe===void 0&&(pe=Z.INTERNAL,I="Unknown error status: "+ye+" with message "+de.message),Q=!0,te.a_(new ce(pe,I)),R.close()}else me(Cn,`RPC '${e}' stream ${l} received:`,Se),te.u_(Se)}})),ae(p,w1.STAT_EVENT,(ee=>{ee.stat===Bm.PROXY?me(Cn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===Bm.NOPROXY&&me(Cn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r){return new oC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,a=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="PersistentStream";class Ab{constructor(e,n,a,l,u,f,p,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(da(n.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new ce(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(J_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(J_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rI extends Ab{constructor(e,n,a,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cC(this.serializer,e),a=(function(u){if(!("targetChange"in u))return De.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?De.min():f.readTime?Cr(f.readTime):De.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Qm(g)?{documents:dC(u,g)}:{query:mC(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=hb(u,f.resumeToken);const _=$m(u,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(De.min())>0){p.readTime=Lh(u,f.snapshotVersion.toTimestamp());const _=$m(u,f.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=gC(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class aI extends Ab{constructor(e,n,a,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fC(e.writeResults,e.commitTime),a=Cr(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>hC(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class oI extends sI{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Xm(n,a),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())}))}Ho(e,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Xm(n,a),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(da(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class uI{constructor(e,n,a,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{mo(this)&&(me(co,"Restarting streams for network reachability change."),await(async function(g){const _=Me(g);_.Ea.add(4),await Hu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await of(_)})(this))}))})),this.Ra=new lI(a,l)}}async function of(r){if(mo(r))for(const e of r.da)await e(!0)}async function Hu(r){for(const e of r.da)await e(!1)}function Sb(r,e){const n=Me(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lp(n)?Up(n):El(n).O_()&&Pp(n,e))}function kp(r,e){const n=Me(r),a=El(n);n.Ia.delete(e),a.O_()&&wb(n,e),n.Ia.size===0&&(a.O_()?a.L_():mo(n)&&n.Ra.set("Unknown"))}function Pp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(r).Y_(e)}function wb(r,e){r.Va.Ue(e),El(r).Z_(e)}function Up(r){r.Va=new iC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),El(r).start(),r.Ra.ua()}function Lp(r){return mo(r)&&!El(r).x_()&&r.Ia.size>0}function mo(r){return Me(r).Ea.size===0}function xb(r){r.Va=void 0}async function cI(r){r.Ra.set("Online")}async function hI(r){r.Ia.forEach(((e,n)=>{Pp(r,e)}))}async function fI(r,e){xb(r),Lp(r)?(r.Ra.ha(e),Up(r)):r.Ra.set("Unknown")}async function dI(r,e,n){if(r.Ra.set("Online"),e instanceof cb&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(a){me(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Bh(r,a)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof ub?r.Va.st(e):r.Va.tt(e),!n.isEqual(De.min()))try{const a=await Eb(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,_)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(bn.EMPTY_BYTE_STRING,T.snapshotVersion)),wb(u,g);const R=new ds(T.target,g,_,T.sequenceNumber);Pp(u,R)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(a){me(co,"Failed to raise snapshot:",a),await Bh(r,a)}}async function Bh(r,e,n){if(!bl(e))throw e;r.Ea.add(1),await Hu(r),r.Ra.set("Offline"),n||(n=()=>Eb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(co,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await of(r)}))}function Rb(r,e){return e().catch((n=>Bh(r,n,e)))}async function lf(r){const e=Me(r),n=ws(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tp;for(;mI(e);)try{const l=await $C(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,pI(e,l)}catch(l){await Bh(e,l)}Cb(e)&&Ib(e)}function mI(r){return mo(r)&&r.Ta.length<10}function pI(r,e){r.Ta.push(e);const n=ws(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Cb(r){return mo(r)&&!ws(r).x_()&&r.Ta.length>0}function Ib(r){ws(r).start()}async function gI(r){ws(r).ra()}async function yI(r){const e=ws(r);for(const n of r.Ta)e.ea(n.mutations)}async function vI(r,e,n){const a=r.Ta.shift(),l=Ip.from(a,e,n);await Rb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await lf(r)}async function _I(r,e){e&&ws(r).X_&&await(async function(a,l){if((function(f){return eC(f)&&f!==Z.ABORTED})(l.code)){const u=a.Ta.shift();ws(a).B_(),await Rb(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await lf(a)}})(r,e),Cb(r)&&Ib(r)}async function Z_(r,e){const n=Me(r);n.asyncQueue.verifyOperationInProgress(),me(co,"RemoteStore received new credentials");const a=mo(n);n.Ea.add(3),await Hu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function bI(r,e){const n=Me(r);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function El(r){return r.ma||(r.ma=(function(n,a,l){const u=Me(n);return u.sa(),new rI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:cI.bind(null,r),t_:hI.bind(null,r),r_:fI.bind(null,r),H_:dI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Lp(r)?Up(r):r.Ra.set("Unknown")):(await r.ma.stop(),xb(r))}))),r.ma}function ws(r){return r.fa||(r.fa=(function(n,a,l){const u=Me(n);return u.sa(),new aI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:gI.bind(null,r),r_:_I.bind(null,r),ta:yI.bind(null,r),na:vI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await lf(r)):(await r.fa.stop(),r.Ta.length>0&&(me(co,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,a,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,u){const f=Date.now()+a,p=new zp(e,n,f,l,u);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,e){if(da("AsyncQueue",`${e}: ${r}`),bl(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ae.comparator(n.key,a.key):(n,a)=>Ae.comparator(n.key,a.key),this.keyedMap=du(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new sl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.ga=new jt(Ae.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class pl{constructor(e,n,a,l,u,f,p,g,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,l,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new pl(e,n,sl.emptySet(n),f,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TI{constructor(){this.queries=e2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Me(n),u=l.queries;l.queries=e2(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(a)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function e2(){return new fo((r=>$1(r)),ef)}async function Nb(r,e){const n=Me(r);let a=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(a=2):(u=new EI,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=Bp(f,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&qp(n)}async function Db(r,e){const n=Me(r),a=e.query;let l=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function AI(r,e){const n=Me(r);let a=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(l)&&(a=!0);f.wa=l}}a&&qp(n)}function SI(r,e,n){const a=Me(r),l=a.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);a.queries.delete(e)}function qp(r){r.Ca.forEach((e=>{e.next()}))}var tp,t2;(t2=tp||(tp={})).Ma="default",t2.Cache="cache";class Ob{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new pl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class wI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=X1(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new W_,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,R)=>{const M=l.get(T),Q=tf(this.query,R)?R:null,te=!!M&&this.mutatedKeys.has(M.key),ae=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;M&&Q?M.data.isEqual(Q.data)?te!==ae&&(a.track({type:3,doc:Q}),ee=!0):this.su(M,Q)||(a.track({type:2,doc:Q}),ee=!0,(g&&this.eu(Q,g)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!M&&Q?(a.track({type:0,doc:Q}),ee=!0):M&&!Q&&(a.track({type:1,doc:M}),ee=!0,(g||_)&&(p=!0)),ee&&(Q?(f=f.add(Q),u=ae?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{tu:f,iu:a,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,R)=>(function(Q,te){const ae=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:ee})}};return ae(Q)-ae(te)})(T.type,R.type)||this.eu(T.doc,R.doc))),this.ou(a),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,f.length!==0||_?{snapshot:new pl(this.query,e.tu,u,f,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new Vb(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new Mb(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class xI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class RI{constructor(e){this.key=e,this.hu=!1}}class CI{constructor(e,n,a,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fo((p=>$1(p)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new jt(Ae.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function II(r,e,n=!0){const a=zb(r);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await jb(a,e,n,!0),l}async function NI(r,e){const n=zb(r);await jb(n,e,!0,!1)}async function jb(r,e,n,a){const l=await XC(r.localStore,Rr(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return a&&(p=await DI(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&Sb(r.remoteStore,l),p}async function DI(r,e,n,a,l){r.pu=(R,M,Q)=>(async function(ae,ee,be,Se){let he=ee.view.ru(be);he.Cs&&(he=await Y_(ae.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,he))));const de=Se&&Se.targetChanges.get(ee.targetId),ye=Se&&Se.targetMismatches.get(ee.targetId)!=null,pe=ee.view.applyChanges(he,ae.isPrimaryClient,de,ye);return i2(ae,ee.targetId,pe.au),pe.snapshot})(r,R,M,Q);const u=await Y_(r.localStore,e,!0),f=new wI(e,u.Qs),p=f.ru(u.documents),g=qu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),_=f.applyChanges(p,r.isPrimaryClient,g);i2(r,n,_.au);const T=new xI(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),_.snapshot}async function OI(r,e,n){const a=Me(r),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((f=>!ef(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Wm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&kp(a.remoteStore,l.targetId),np(a,l.targetId)})).catch(_l)):(np(a,l.targetId),await Wm(a.localStore,l.targetId,!0))}async function MI(r,e){const n=Me(r),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),kp(n.remoteStore,a.targetId))}async function VI(r,e,n){const a=BI(r);try{const l=await(function(f,p){const g=Me(f),_=St.now(),T=p.reduce(((Q,te)=>Q.add(te.key)),Je());let R,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let te=ma(),ae=Je();return g.Ns.getEntries(Q,T).next((ee=>{te=ee,te.forEach(((be,Se)=>{Se.isValidDocument()||(ae=ae.add(be))}))})).next((()=>g.localDocuments.getOverlayedDocuments(Q,te))).next((ee=>{R=ee;const be=[];for(const Se of p){const he=$R(Se,R.get(Se.key).overlayedDocument);he!=null&&be.push(new Is(Se.key,he,B1(he.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(Q,_,be,p)})).next((ee=>{M=ee;const be=ee.applyToLocalDocumentSet(R,ae);return g.documentOverlayCache.saveOverlays(Q,ee.batchId,be)}))})).then((()=>({batchId:M.batchId,changes:Z1(R)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let _=f.Vu[f.currentUser.toKey()];_||(_=new jt(Xe)),_=_.insert(p,g),f.Vu[f.currentUser.toKey()]=_})(a,l.batchId,n),await Fu(a,l.changes),await lf(a.remoteStore)}catch(l){const u=Bp(l,"Failed to persist write");n.reject(u)}}async function kb(r,e){const n=Me(r);try{const a=await YC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?ut(f.hu,14607):l.removedDocuments.size>0&&(ut(f.hu,42227),f.hu=!1))})),await Fu(n,a,e)}catch(a){await _l(a)}}function n2(r,e,n){const a=Me(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=Me(f);g.onlineState=p;let _=!1;g.queries.forEach(((T,R)=>{for(const M of R.Sa)M.va(p)&&(_=!0)})),_&&qp(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function jI(r,e,n){const a=Me(r);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),u=l&&l.key;if(u){let f=new jt(Ae.comparator);f=f.insert(u,Nn.newNoDocument(u,De.min()));const p=Je().add(u),g=new af(De.min(),new Map,new jt(Xe),f,p);await kb(a,g),a.du=a.du.remove(u),a.Au.delete(e),Fp(a)}else await Wm(a.localStore,e,!1).then((()=>np(a,e,n))).catch(_l)}async function kI(r,e){const n=Me(r),a=e.batch.batchId;try{const l=await QC(n.localStore,e);Ub(n,a,null),Pb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Fu(n,l)}catch(l){await _l(l)}}async function PI(r,e,n){const a=Me(r);try{const l=await(function(f,p){const g=Me(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next((R=>(ut(R!==null,37113),T=R.keys(),g.mutationQueue.removeMutationBatch(_,R)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>g.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);Ub(a,e,n),Pb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Fu(a,l)}catch(l){await _l(l)}}function Pb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Ub(r,e,n){const a=Me(r);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function np(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||Lb(r,a)}))}function Lb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(kp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Fp(r))}function i2(r,e,n){for(const a of n)a instanceof Mb?(r.Ru.addReference(a.key,e),UI(r,a)):a instanceof Vb?(me(Hp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Lb(r,a.key)):Ie(19791,{wu:a})}function UI(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(me(Hp,"New document in limbo: "+n),r.Eu.add(a),Fp(r))}function Fp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ae(_t.fromString(e)),a=r.fu.next();r.Au.set(a,new RI(n)),r.du=r.du.insert(n,a),Sb(r.remoteStore,new ds(Rr(Wh(n.path)),a,"TargetPurposeLimboResolution",Xh.ce))}}async function Fu(r,e,n){const a=Me(r),l=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{f.push(a.pu(g,e,n).then((_=>{var T;if((_||n)&&a.isPrimaryClient){const R=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:T.current;a.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(_){l.push(_);const R=Vp.As(g.targetId,_);u.push(R)}})))})),await Promise.all(f),a.Pu.H_(l),await(async function(g,_){const T=Me(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>W.forEach(_,(M=>W.forEach(M.Es,(Q=>T.persistence.referenceDelegate.addReference(R,M.targetId,Q))).next((()=>W.forEach(M.ds,(Q=>T.persistence.referenceDelegate.removeReference(R,M.targetId,Q)))))))))}catch(R){if(!bl(R))throw R;me(jp,"Failed to update sequence numbers: "+R)}for(const R of _){const M=R.targetId;if(!R.fromCache){const Q=T.Ms.get(M),te=Q.snapshotVersion,ae=Q.withLastLimboFreeSnapshotVersion(te);T.Ms=T.Ms.insert(M,ae)}}})(a.localStore,u))}async function LI(r,e){const n=Me(r);if(!n.currentUser.isEqual(e)){me(Hp,"User change. New user:",e.toKey());const a=await bb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ce(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Fu(n,a.Ls)}}function zI(r,e){const n=Me(r),a=n.Au.get(e);if(a&&a.hu)return Je().add(a.key);{let l=Je();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function zb(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jI.bind(null,e),e.Pu.H_=AI.bind(null,e.eventManager),e.Pu.yu=SI.bind(null,e.eventManager),e}function BI(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PI.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return GC(this.persistence,new qC,e.initialUser,this.serializer)}Cu(e){return new _b(Mp.mi,this.serializer)}Du(e){return new ZC}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class qI extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof zh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new RC(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new _b((a=>zh.mi(a,n)),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>n2(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=LI.bind(null,this.syncEngine),await bI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TI})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),a=(function(u){return new iI(u)})(e.databaseInfo);return(function(u,f,p,g){return new oI(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,u,f,p){return new uI(a,l,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>n2(this.syncEngine,n,0)),(function(){return X_.v()?new X_:new WC})())}createSyncEngine(e,n){return(function(l,u,f,p,g,_,T){const R=new CI(l,u,f,p,g,_);return T&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Me(l);me(co,"RemoteStore shutting down."),u.Ea.add(5),await Hu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class HI{constructor(e,n,a,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=In.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{me(xs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(me(xs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Bp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),me(xs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await bb(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function r2(r,e){r.asyncQueue.verifyOperationInProgress();const n=await FI(r);me(xs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>Z_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Z_(e.remoteStore,l))),r._onlineComponents=e}async function FI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(xs,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new qh)}}else me(xs,"Using default OfflineComponentProvider"),await xm(r,new qI(void 0));return r._offlineComponents}async function qb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(xs,"Using user provided OnlineComponentProvider"),await r2(r,r._uninitializedComponentsProvider._online)):(me(xs,"Using default OnlineComponentProvider"),await r2(r,new ip))),r._onlineComponents}function GI(r){return qb(r).then((e=>e.syncEngine))}async function rp(r){const e=await qb(r),n=e.eventManager;return n.onListen=II.bind(null,e.syncEngine),n.onUnlisten=OI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MI.bind(null,e.syncEngine),n}function QI(r,e,n={}){const a=new vs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,_){const T=new Bb({next:M=>{T.Nu(),f.enqueueAndForget((()=>Db(u,R)));const Q=M.docs.has(p);!Q&&M.fromCache?_.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&M.fromCache&&g&&g.source==="server"?_.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),R=new Ob(Wh(p.path),T,{includeMetadataChanges:!0,qa:!0});return Nb(u,R)})(await rp(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firestore.googleapis.com",s2=!0;class o2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fb,this.ssl=s2}else this.host=e.host,this.ssl=e.ssl??s2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wC)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Wx;switch(a.type){case"firstParty":return new iR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=a2.get(n);a&&(me("ComponentProvider","Removing Datastore"),a2.delete(n),a.terminate())})(this),Promise.resolve()}}function YI(r,e,n,a={}){var _;r=er(r,uf);const l=gl(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;l&&(M2(`https://${p}`),V2("Firestore",!0)),u.host!==Fb&&u.host!==p&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:a};if(!ao(g,f)&&(r._setSettings(g),a.mockUserToken)){let T,R;if(typeof a.mockUserToken=="string")T=a.mockUserToken,R=In.MOCK_USER;else{T=cA(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const M=a.mockUserToken.sub||a.mockUserToken.user_id;if(!M)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new In(M)}r._authCredentials=new eR(new I1(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Tl(this.firestore,e,this._query)}}class Ht{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Lu(n,Ht._jsonSchema))return new Ht(e,a||null,new Ae(_t.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:rn("string",Ht._jsonSchemaVersion),referencePath:rn("string")};class _s extends Tl{constructor(e,n,a){super(e,n,Wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ae(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function l2(r,e,...n){if(r=Ct(r),N1("collection","path",e),r instanceof uf){const a=_t.fromString(e,...n);return b_(a),new _s(r,null,a)}{if(!(r instanceof Ht||r instanceof _s))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...n));return b_(a),new _s(r.firestore,null,a)}}function yn(r,e,...n){if(r=Ct(r),arguments.length===1&&(e=Ep.newId()),N1("doc","path",e),r instanceof uf){const a=_t.fromString(e,...n);return __(a),new Ht(r,null,new Ae(a))}{if(!(r instanceof Ht||r instanceof _s))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...n));return __(a),new Ht(r.firestore,r instanceof _s?r.converter:null,new Ae(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="AsyncQueue";class c2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tb(this,"async_queue_retry"),this._c=()=>{const a=wm();a&&me(u2,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;me(u2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,da("INTERNAL UNHANDLED ERROR: ",h2(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=zp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ie(47125,{Pc:h2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function h2(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ho extends uf{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new c2,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c2(e),this._firestoreClient=void 0,await e}}}function KI(r,e){const n=typeof r=="object"?r:U2(),a=typeof r=="string"?r:Vh,l=hp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=lA("firestore");u&&YI(l,...u)}return l}function Gp(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$I(r),r._firestoreClient}function $I(r){var a,l,u;const e=r._freezeSettings(),n=(function(p,g,_,T){return new bR(p,g,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Hb(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new HI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(bn.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Ui._jsonSchema))return Ui.fromBase64String(e.bytes)}}Ui._jsonSchemaVersion="firestore/bytes/1.0",Ui._jsonSchema={type:rn("string",Ui._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:rn("string",Ir._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Nr(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:rn("string",Nr._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=/^__.*__$/;class JI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class Gb{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:r})}}class Qp{constructor(e,n,a,l,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Qb(this.Ac)&&XI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||sf(e)}Cc(e,n,a,l=!1){return new Qp({Ac:e,methodName:n,Dc:a,path:_n.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(r){const e=r._freezeSettings(),n=sf(r._databaseId);return new ZI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function WI(r,e,n,a,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);$p("Data must be an object, but it was:",f,a);const p=Yb(a,f);let g,_;if(u.merge)g=new vi(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const R of u.mergeFields){const M=ap(e,R,n);if(!f.contains(M))throw new ce(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);$b(T,M)||T.push(M)}g=new vi(T),_=f.fieldTransforms.filter((R=>g.covers(R.field)))}else g=null,_=f.fieldTransforms;return new JI(new Jn(p),g,_)}class ff extends hf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}class Kp extends hf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Ou(e.serializer,tb(e.serializer,this.Fc));return new GR(e.path,n)}isEqual(e){return e instanceof Kp&&this.Fc===e.Fc}}function eN(r,e,n,a){const l=r.Cc(1,e,n);$p("Data must be an object, but it was:",l,a);const u=[],f=Jn.empty();Cs(a,((g,_)=>{const T=Xp(e,g,n);_=Ct(_);const R=l.yc(T);if(_ instanceof ff)u.push(T);else{const M=Gu(_,R);M!=null&&(u.push(T),f.set(T,M))}}));const p=new vi(u);return new Gb(f,p,l.fieldTransforms)}function tN(r,e,n,a,l,u){const f=r.Cc(1,e,n),p=[ap(e,a,n)],g=[l];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)p.push(ap(e,u[M])),g.push(u[M+1]);const _=[],T=Jn.empty();for(let M=p.length-1;M>=0;--M)if(!$b(_,p[M])){const Q=p[M];let te=g[M];te=Ct(te);const ae=f.yc(Q);if(te instanceof ff)_.push(Q);else{const ee=Gu(te,ae);ee!=null&&(_.push(Q),T.set(Q,ee))}}const R=new vi(_);return new Gb(T,R,f.fieldTransforms)}function nN(r,e,n,a=!1){return Gu(n,r.Cc(a?4:3,e))}function Gu(r,e){if(Kb(r=Ct(r)))return $p("Unsupported field value:",e,r),Yb(r,e);if(r instanceof hf)return(function(a,l){if(!Qb(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let f=0;for(const p of a){let g=Gu(p,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,l){if((a=Ct(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tb(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=St.fromDate(a);return{timestampValue:Lh(l.serializer,u)}}if(a instanceof St){const u=new St(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Lh(l.serializer,u)}}if(a instanceof Ir)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ui)return{bytesValue:hb(l.serializer,a._byteString)};if(a instanceof Ht){const u=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Nr)return(function(f,p){return{mapValue:{fields:{[L1]:{stringValue:z1},[jh]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Rp(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${$h(a)}`)})(r,e)}function Yb(r,e){const n={};return M1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,((a,l)=>{const u=Gu(l,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function Kb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof St||r instanceof Ir||r instanceof Ui||r instanceof Ht||r instanceof hf||r instanceof Nr)}function $p(r,e,n){if(!Kb(n)||!D1(n)){const a=$h(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function ap(r,e,n){if((e=Ct(e))instanceof cf)return e._internalPath;if(typeof e=="string")return Xp(r,e);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,n)}const iN=new RegExp("[~\\*/\\[\\]]");function Xp(r,e,n){if(e.search(iN)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new cf(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hh(r,e,n,a,l){const u=a&&!a.isEmpty(),f=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${l}`),g+=")"),new ce(Z.INVALID_ARGUMENT,p+r+g)}function $b(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,a,l,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rN extends Xb{data(){return super.data()}}function Jp(r,e){return typeof e=="string"?Xp(r,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class sN extends Zp{}function d2(r,e,...n){let a=[];e instanceof Zp&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((g=>g instanceof Wp)).length,p=u.filter((g=>g instanceof df)).length;if(f>1||f>0&&p>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class df extends sN{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new df(e,n,a)}_apply(e){const n=this._parse(e);return Jb(e._query,n),new Tl(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=Yp(e.firestore);return(function(u,f,p,g,_,T,R){let M;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){p2(R,T);const te=[];for(const ae of R)te.push(m2(g,u,ae));M={arrayValue:{values:te}}}else M=m2(g,u,R)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||p2(R,T),M=nN(p,f,R,T==="in"||T==="not-in");return nn.create(_,T,M)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oN(r,e,n){const a=e,l=Jp("where",r);return df._create(l,a,n)}class Wp extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)Jb(f,g),f=Ym(f,g)})(e._query,n),new Tl(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function m2(r,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K1(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(_t.fromString(n));if(!Ae.isDocumentKey(a))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return C_(r,new Ae(a))}if(n instanceof Ht)return C_(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function p2(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jb(r,e){const n=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lN{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Cs(e,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(e){var a,l,u;const n=(u=(l=(a=e.fields)==null?void 0:a[jh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>$t(f.doubleValue)));return new Nr(n)}convertGeoPoint(e){return new Ir($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Zh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=_t.fromString(e);ut(yb(a),9688,{name:e});const l=new Cu(a.get(1),a.get(3)),u=new Ae(a.popFirst(5));return l.isEqual(n)||da(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class io extends Xb{constructor(e,n,a,l,u,f){super(e,n,a,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Jp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=io._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}io._jsonSchemaVersion="firestore/documentSnapshot/1.0",io._jsonSchema={type:rn("string",io._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class Th extends io{data(e={}){return super.data(e)}}class ol{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new pu(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Th(this._firestore,this._userDataWriter,a.key,a,new pu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new Th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pu(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pu(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:cN(p.type),doc:g,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r){r=er(r,Ht);const e=er(r.firestore,ho);return QI(Gp(e),r._key).then((n=>Wb(e,r,n)))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:rn("string",ol._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class Zb extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function lh(r,e,n){r=er(r,Ht);const a=er(r.firestore,ho),l=uN(r.converter,e,n);return eg(a,[WI(Yp(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,tr.none())])}function Yn(r,e,n,...a){r=er(r,Ht);const l=er(r.firestore,ho),u=Yp(l);let f;return f=typeof(e=Ct(e))=="string"||e instanceof cf?tN(u,"updateDoc",r._key,e,n,a):eN(u,"updateDoc",r._key,e),eg(l,[f.toMutation(r._key,tr.exists(!0))])}function hN(r){return eg(er(r.firestore,ho),[new Cp(r._key,tr.none())])}function Cm(r,...e){var g,_,T;r=Ct(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||f2(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(f2(e[a])){const R=e[a];e[a]=(g=R.next)==null?void 0:g.bind(R),e[a+1]=(_=R.error)==null?void 0:_.bind(R),e[a+2]=(T=R.complete)==null?void 0:T.bind(R)}let u,f,p;if(r instanceof Ht)f=er(r.firestore,ho),p=Wh(r._key.path),u={next:R=>{e[a]&&e[a](Wb(f,r,R))},error:e[a+1],complete:e[a+2]};else{const R=er(r,Tl);f=er(R.firestore,ho),p=R._query;const M=new Zb(f);u={next:Q=>{e[a]&&e[a](new ol(f,M,R,Q))},error:e[a+1],complete:e[a+2]},aN(r._query)}return(function(M,Q,te,ae){const ee=new Bb(ae),be=new Ob(Q,ee,te);return M.asyncQueue.enqueueAndForget((async()=>Nb(await rp(M),be))),()=>{ee.Nu(),M.asyncQueue.enqueueAndForget((async()=>Db(await rp(M),be)))}})(Gp(f),p,l,u)}function eg(r,e){return(function(a,l){const u=new vs;return a.asyncQueue.enqueueAndForget((async()=>VI(await GI(a),l,u))),u.promise})(Gp(r),e)}function Wb(r,e,n){const a=n.docs.get(e._key),l=new Zb(r);return new io(r,l,e._key,a,new pu(n.hasPendingWrites,n.fromCache),e.converter)}function fN(r){return new Kp("increment",r)}(function(e,n=!0){(function(l){vl=l})(yl),ll(new so("firestore",((a,{instanceIdentifier:l,options:u})=>{const f=a.getProvider("app").getImmediate(),p=new ho(new tR(a.getProvider("auth-internal")),new rR(f,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(_.options.projectId,T)})(f,l),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),gs(p_,g_,e),gs(p_,g_,"esm2020")})();const dN=["2020-02-24","2020-02-25","2020-04-10","2020-04-21","2020-05-01","2020-06-11","2020-06-12","2020-09-07","2020-09-08","2020-10-12","2020-11-02","2020-11-03","2020-11-15","2020-12-11","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-02-16","2021-04-01","2021-04-02","2021-04-21","2021-05-01","2021-06-03","2021-06-04","2021-09-06","2021-09-07","2021-09-08","2021-10-11","2021-10-12","2021-11-01","2021-11-02","2021-11-15","2021-12-17","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-02-28","2022-03-01","2022-04-14","2022-04-15","2022-04-21","2022-04-22","2022-05-01","2022-06-16","2022-06-17","2022-09-07","2022-09-08","2022-09-09","2022-10-12","2022-10-31","2022-11-01","2022-11-02","2022-11-14","2022-11-15","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-07","2023-01-08","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-14","2023-01-15","2023-01-16","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-02-20","2023-02-21","2023-04-06","2023-04-07","2023-04-21","2023-05-01","2023-06-08","2023-06-09","2023-09-07","2023-09-08","2023-10-12","2023-10-13","2023-10-28","2023-11-02","2023-11-03","2023-11-15","2023-12-08","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-23","2023-12-24","2023-12-25","2023-12-26","2023-12-27","2023-12-28","2023-12-29","2023-12-30","2023-12-31","2024-01-01","2024-01-02","2024-01-03","2024-01-04","2024-01-05","2024-01-06","2024-01-07","2024-01-08","2024-01-09","2024-01-10","2024-01-11","2024-01-12","2024-01-13","2024-01-14","2024-01-15","2024-01-16","2024-01-17","2024-01-18","2024-01-19","2024-01-20","2024-02-12","2024-02-13","2024-03-28","2024-03-29","2024-04-21","2024-05-01","2024-05-30","2024-05-31","2024-09-07","2024-09-08","2024-10-12","2024-10-16","2024-11-02","2024-11-15","2024-11-20","2024-12-08","2024-12-18","2024-12-19","2024-12-20","2024-12-21","2024-12-22","2024-12-23","2024-12-24","2024-12-25","2024-12-26","2024-12-27","2024-12-28","2024-12-29","2024-12-30","2024-12-31","2025-01-01","2025-01-02","2025-01-03","2025-01-04","2025-01-05","2025-01-06","2025-01-07","2025-01-08","2025-01-09","2025-01-10","2025-01-11","2025-01-12","2025-01-13","2025-01-14","2025-01-15","2025-01-16","2025-01-17","2025-01-18","2025-01-19","2025-01-20","2025-03-03","2025-03-04","2025-04-17","2025-04-18","2025-04-21","2025-05-01","2025-06-19","2025-06-20","2025-09-07","2025-09-08","2025-10-12","2025-10-28","2025-11-02","2025-11-15","2025-11-20","2025-12-08","2025-12-19"],mN=["2020-05-11","2020-06-30","2021-08-02","2021-09-13","2022-03-21","2022-03-22","2022-04-01","2022-06-13","2022-06-27","2022-08-08","2022-08-22","2022-08-31","2022-09-14","2022-09-27","2022-11-08","2022-11-24","2022-12-02","2022-12-05","2022-12-09","2022-12-13","2023-07-13","2023-07-31","2023-08-01","2023-08-30","2023-08-31","2023-09-01","2023-09-04","2023-09-05","2024-04-23","2024-06-21","2024-07-24","2024-09-13"],pN=[{start:"2013-02-01",value:131.87},{start:"2014-03-07",value:139.2},{start:"2015-02-06",value:148.12},{start:"2016-02-19",value:163.92},{start:"2017-02-02",value:174.23},{start:"2018-02-02",value:179.37},{start:"2019-02-01",value:186.1},{start:"2020-02-01",value:194.12},{start:"2021-02-01",value:202.89},{start:"2022-02-01",value:223.3},{start:"2023-02-01",value:236.23},{start:"2023-07-04",value:236.23},{start:"2024-02-01",value:247.14},{start:"2025-02-03",value:259.08}],gN=[{start:"2014-01-29",value:153.86},{start:"2014-05-28",value:153.86},{start:"2015-01-19",value:163.8},{start:"2015-06-16",value:163.8},{start:"2016-02-11",value:181.34},{start:"2016-06-13",value:181.34},{start:"2018-01-25",value:198.95},{start:"2018-04-25",value:198.95},{start:"2018-09-20",value:198.95},{start:"2018-12-18",value:198.95},{start:"2019-03-07",value:206.63},{start:"2020-01-20",value:214.71},{start:"2020-02-14",value:214.71},{start:"2021-06-02",value:223.79},{start:"2024-05-15",value:1022}],yN=[{start:"2014-01-01",value:37.33},{start:"2015-01-01",value:39.89},{start:"2016-01-01",value:43.65},{start:"2017-01-01",value:47.34},{start:"2018-01-01",value:48.54},{start:"2019-01-01",value:50.73},{start:"2020-01-01",value:52.17},{start:"2022-01-01",value:59.31},{start:"2024-01-01",value:66.85}],g2=""+new URL("WhatsApp Image 2025-12-16 at 16.54.26-CihH5Q5F.jpeg",import.meta.url).href,Im="triario_state_v2",vN=3,_N=1e3*60*60*24*30,Kn="users",lu="adminRequests",y2="triario_remember_login",gu={apiKey:"AIzaSyCNUcWaY7_LfXKmnQ7O72_x1iCrt-7EJ1w",authDomain:"simba-99aa9.firebaseapp.com",projectId:"simba-99aa9",storageBucket:"simba-99aa9.firebasestorage.app",messagingSenderId:"551435844538",appId:"1:551435844538:web:3664ee17b9a6f1f728fb83"},sp=!!(gu.apiKey&&gu.authDomain&&gu.projectId&&gu.appId),Fh=sp?P2(gu):null,qe=Fh?Jx(Fh):null,ze=Fh?KI(Fh):null;qe&&(qe.languageCode="pt-BR");const yi="tjpr.jus.br".trim().toLowerCase(),tl={tipo:"",acordo:"",valido:"",desist:"",valida:"",sigla:"",interp:"",decrec:"",camara:"",camaraArea:"",camaraNumero:"",emaberto:"",sfh:"no",envio:"",consulta:"no",leitura:"",emdobro:"",eca:"no",multa:"",motivo:"",dispensa:"",gratuidade:"",deferida:"",movdef:"",requerida:"",movped:"",atoincomp:"",comprova:"",apos16:"",grumov:"",grumovComp:"",gruProc:"",valorst:"",guiavinc:"",guia:"",guiorig:"",comp:"",funjusmov:"",funjusmovComp:"",funjusProc:"",comptipo:"",codbar:"",valorfj:"",funjusObs:"",parcialTipo:"",parcialOutro:"",usarIntegral:!1,subscritor:"",nomemovi:"",movis:"",cadeia:"",faltante:"",suspefeito:"",autuado:"",exclusivi:"",exclusNome:"",cadastrada:"",regular:"",contrarra:"",contramovis:"",intimado:"",intimovi:"",crraberto:"",decursocrr:"",semadv:"",emepe:"",mani:"",teormani:"",manimovis:"",decursomp:"",remetido:"",anotacoes:""},eE=r=>new Date(`${r}T00:00:00`),tE=r=>{const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0");return`${r.getFullYear()}-${n}-${e}`},tg=r=>[...r].sort((e,n)=>new Date(e.start).getTime()-new Date(n.start).getTime()),bN=tg(pN),EN=tg(gN),TN=tg(yN),AN=new Set(dN),SN=new Set(mN),wN=r=>new Date(r.getFullYear(),r.getMonth(),r.getDate()),fs=(r,e)=>{const n=new Date(r);return n.setDate(n.getDate()+e),n},xN=r=>AN.has(tE(r)),op=r=>SN.has(tE(r)),ng=r=>{const e=r.getDay();return e===0||e===6?!1:!xN(r)},RN=r=>ng(r),uh=(r,e={})=>{let n=wN(r);for(;!ng(n)||e.skipProrrogacao&&op(n);)n=fs(n,1);return n},Nm=(r,e)=>{if(!r)return{value:0};let n;for(const a of e)if(r>=eE(a.start))n=a;else break;return n?{value:n.value,start:n.start}:{value:0}},Ah=r=>{if(!r)return"";const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),a=r.getFullYear();return`${e}.${n}.${a}`},CN=r=>r?r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",v2=r=>r?Ah(eE(r)):"",IN=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),Sr=r=>Number.isFinite(r)?IN.format(r):"R$ 0,00",ro=r=>r?new Date(`${r}T00:00:00`):null,NN=r=>{if(!r)return null;const e=new Date(r);return Number.isNaN(e.getTime())?null:e},DN=r=>r.trim().replace(/[\\/:*?"<>|]/g,"-").replace(/\s+/g,"_"),ON=r=>{try{const e=localStorage.getItem(r);if(!e)return{state:tl,savedAt:null};const n=JSON.parse(e),a=NN(n.savedAt);if(a&&Date.now()-a.getTime()>_N)return localStorage.removeItem(r),{state:tl,savedAt:null};const l=n.state||n,u={...tl,...l};if(!u.parcialTipo&&(l!=null&&l.parcial)){const f=l.parcial;u.parcialTipo=f==="sim"?"COHAB Londrina":f==="no"?"no":""}if(!u.grumov){const f=l==null?void 0:l.guiast,p=l==null?void 0:l.compst;f&&p&&f!==p?u.grumov=`${f}; ${p}`:u.grumov=f||p||""}if(u.grumovComp||(u.grumovComp=u.grumov||""),!u.funjusmov){const f=l==null?void 0:l.guiamov,p=l==null?void 0:l.compmov;f&&p&&f!==p?u.funjusmov=`${f}; ${p}`:u.funjusmov=f||p||""}return u.funjusmovComp||(u.funjusmovComp=u.funjusmov||""),u.usarIntegral===void 0&&(u.usarIntegral=!1),u.consulta===""&&(u.consulta="no"),{state:u,savedAt:a}}catch{return{state:tl,savedAt:null}}},nl=r=>r.trim().toLowerCase(),ch=r=>r==="dark"||r==="light"||r==="system"?r:"system",MN=r=>(r.email?nl(r.email):"")||r.uid,_2=r=>{const e=Date.parse(r);return Number.isNaN(e)?0:e},VN=(r,e)=>{if(r.role!==e.role)return e.role==="admin"?e:r;if(r.active!==e.active)return e.active?e:r;const n=_2(r.updatedAt),a=_2(e.updatedAt);if(a!==n)return a>n?e:r;const l=r.triageCount||0,u=e.triageCount||0;return u!==l&&u>l?e:r},jN=r=>{const e=new Map;return r.forEach(n=>{const a=MN(n),l=e.get(a);if(!l){e.set(a,n);return}e.set(a,VN(l,n))}),Array.from(e.values())},uu=r=>nl(r).endsWith(`@${yi}`),b2=r=>{const e=r.trim().split(/\s+/).filter(Boolean);return e.length===0?"U":e.length===1?e[0].slice(0,2).toUpperCase():`${e[0][0]}${e[e.length-1][0]}`.toUpperCase()},Tt=r=>{const e=r;switch(e.code){case"auth/invalid-email":return"E-mail invlido.";case"auth/user-not-found":return"Usurio no encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/invalid-credential":return"Credenciais invlidas.";case"auth/email-already-in-use":return"Este e-mail j est cadastrado.";case"auth/weak-password":return"A senha precisa ter pelo menos 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case"auth/network-request-failed":return"Falha de rede. Verifique sua conexo.";case"permission-denied":return"Permisso negada para esta ao.";default:return e.message||"Falha ao autenticar."}},kN=(r,e)=>{if(e<=1)return r;let n=r,a=1;for(;a<e;)n=fs(n,1),RN(n)&&(a+=1);return n},PN=r=>{const e=ro(r.envio),n=ro(r.interp);if(!e||!n)return{status:"pendente",mensagem:"Use a calculadora de prazos."};const a=r.eca==="sim"?10:15,l=r.emdobro==="em dobro"?a*2:a,u=r.eca==="sim"?"corridos":"teis",f=r.consulta==="sim"?ro(r.leitura):null,p=fs(e,10),g=f&&f<=p?f:p,_=uh(g);let T=fs(_,1);u==="teis"?T=uh(T,{skipProrrogacao:!0}):op(T)&&(T=uh(fs(T,1),{skipProrrogacao:!0}));let R=u==="corridos"?fs(T,Math.max(0,l-1)):kN(T,l);return(!ng(R)||op(R))&&(R=uh(fs(R,1),{skipProrrogacao:!0})),{status:n<=R?"tempestivo":"intempestivo",intim:_,comeco:T,venc:R,prazo:l,prazoTipo:u}},$n=r=>{const e=r.trim();return e?e.toLowerCase().startsWith("mov.")?e:`Mov. ${e}`:""},UN=r=>r==="tempestivo"?"Sim":r==="intempestivo"?"No":"Calculadora",LN=r=>{switch(r){case"mera cincia":return"cincia";case"pela admisso":return"admisso";case"pela inadmisso":return"inadmisso";case"ausncia de interesse":return"sem interesse";default:return""}},zN=r=>{if(!r)return"";const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),a=r.getFullYear();return`${e}/${n}/${a}`},nE=(r,e)=>{var ye;const n=`${((ye=r.sigla)==null?void 0:ye.trim())||""}  ${FN(r)}`,a=ro(r.interp),l=zN(a??void 0),u=r.contrarra?r.contrarra==="apresentadas"?r.contramovis.trim()?$n(r.contramovis):"Apresentadas":r.contrarra==="ausente alguma"?r.contramovis.trim()?$n(r.contramovis):"Ausente alguma":r.contrarra==="ausentes"?r.semadv==="sim"?"Sem advogado":r.intimado==="no"?"No intimado":r.crraberto==="sim"?"Prazo em aberto":"Ausentes":"":"",f=(()=>{if(r.emepe==="no")return"no";if(r.mani==="sim"){const pe=r.manimovis.trim()?$n(r.manimovis):"",I=LN(r.teormani),N=r.tipo==="Especial"?"Resp":r.tipo==="Extraordinrio"?"Rext":"",D=N&&pe?` (${N})`:"";return pe&&I?`${pe}${D} (${I})`:pe?`${pe}${D}`:I||"sim"}return""})(),p=r.dispensa==="sim"?"Dispensado":r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"?"JG presumida":r.gratuidade==="j  ou afirma ser beneficirio"?r.deferida==="sim"?r.movdef.trim()?`JG Ok. Mov: ${r.movdef.trim()}`:"JG Ok.":r.requerida==="sim"&&r.movped.trim()?`JG requerida. Mov: ${r.movped.trim()}`:"JG requerida":r.gratuidade==="requer no recurso em anlise"?"JG requerida no recurso":r.gratuidade===" o prprio objeto do recurso"?"JG  objeto do recurso":"",g=Number(r.valorfj||0),_=r.dispensa==="no"&&r.gratuidade==="no invocada"&&r.valorfj.trim()!==""&&Number.isFinite(g)&&g<e.deverFJ,T=!!(r.guia||r.comp||r.funjusmov.trim()||r.funjusmovComp.trim()),R=(()=>{if(p)return p;const pe=r.grumov.trim(),I=r.grumovComp.trim();return pe&&I?pe===I?`Guia + Comp : Mov. ${pe}`:`Guia ${$n(pe)}; Comp ${$n(I)}`:pe||I?$n(pe||I):""})(),M=(()=>{if(p)return p;if(!_&&!T)return"";const pe=r.funjusmov.trim(),I=r.funjusmovComp.trim();return r.guia==="sim"&&r.comp==="sim"?pe&&I&&pe===I?`Guia + Comp : Mov. ${pe}`:pe&&I?`Guia ${$n(pe)}; Comp ${$n(I)}`:pe||I?$n(pe||I):"Guia + Comp":r.guia==="sim"&&r.comp==="no"?pe?`Guia ${$n(pe)}; Comp ausente`:"Guia ok; Comp ausente":r.guia==="no"&&r.comp==="sim"?I?`Comp ${$n(I)}; Guia ausente`:"Comp ok; Guia ausente":pe||I?$n(pe||I):""})(),Q=r.subscritor==="procurador pblico"||r.subscritor==="advogado em causa prpria"?r.subscritor?r.subscritor:"":r.subscritor==="procurador nomeado"?r.nomemovi.trim()?$n(r.nomemovi):"":r.subscritor==="advogado particular"&&r.movis.trim()?$n(r.movis):"",te=r.exclusivi==="no requerida"?"No":r.exclusivi==="requerida"?r.exclusNome.trim()||"Requerida":"",ae=r.decrec==="colegiada/acrdo"?"sim":r.decrec==="monocrtica/singular"?"no":"",ee=[...e.observacoes];r.funjusObs.trim()&&ee.push(`Justificativa Funjus: ${r.funjusObs.trim()}`);const be=ee.length?ee.join(" | "):"",Se="OBS:",he=be||"//",de=[{label:e.tempest.status==="pendente"?"Tempestivo?":"Tempestivo",value:UN(e.tempest.status)},{label:"Contrarrazes",value:u},{label:"Ministrio Pblico?",value:f},{label:"GRU:",value:R},{label:"Funjus:",value:M},{label:"Procurao:",value:Q},{label:"Exclusividade na intimao?",value:te},{label:"Deciso colegiada?",value:ae},{label:Se,value:he}];return{headerLeft:n,headerRight:l,rows:de}},BN=(r,e)=>{const{headerLeft:n,headerRight:a,rows:l}=nE(r,e);return[`${n} | ${a}`,...l.map(u=>`${u.label} | ${u.value}`)].join(`
`)},qN=r=>r.dispensa==="sim"?"dispensado (CPC, art. 1.007, 1)":r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp!=="sim"?r.deferida==="sim"?`justia gratuita mov. ${r.movdef||"?"}`:r.requerida==="sim"?`justia gratuita mov. ${r.movped||"?"}`:"justia gratuita requerida no recurso":r.gratuidade==="requer no recurso em anlise"?"justia gratuita requerida no recurso":r.gratuidade===" o prprio objeto do recurso"?"justia gratuita  o prprio objeto":r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"?"justia gratuita presumida (defensor pblico, dativo ou NPJ)":null,HN=r=>{const e=PN(r),n=ro(r.interp)??new Date,a=r.tipo==="Especial"?"STJ":r.tipo==="Extraordinrio"?"STF":"STJ/STF",l=r.tipo==="Especial"?Nm(n,bN):r.tipo==="Extraordinrio"?Nm(n,EN):{value:0},u=Nm(n,TN),f=l.value,p=u.value,g=qN(r),_=Number(r.valorfj||0),T=r.dispensa==="no"&&r.gratuidade==="no invocada"&&r.valorfj.trim()!==""&&Number.isFinite(_)&&_<p,R=!!(r.guia||r.comp||r.funjusmov.trim()||r.funjusmovComp.trim()),M=r.contrarra==="apresentadas"?r.contramovis?`mov(s). ${r.contramovis}`:"apresentadas":r.contrarra==="ausente alguma"?r.contramovis?`mov(s). ${r.contramovis}`:"ausente alguma":r.contrarra==="ausentes"?r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="sim"?"no":r.intimado==="no"&&r.semadv==="sim"?"sem adv.":"vide obs.":"vide obs.",Q=(()=>{if(r.emepe==="no")return"N/A";if(r.mani==="sim"){const C=r.teormani||"mera cincia";return r.manimovis?`${C}; mov. ${r.manimovis}`:C}return r.remetido==="sim"&&r.decursomp==="sim"?"deixou de se manifestar":"vide obs."})(),te=(()=>{var et,Y;if(g)return g;const C=(et=r.grumov)==null?void 0:et.trim(),je=(Y=r.grumovComp)==null?void 0:Y.trim();return C&&je&&C!==je?`GRU guia mov. ${C}; comprovante mov. ${je}`:C||je?`GRU mov. ${C||je}`:"GRU no localizada"})(),ae=(()=>{var se,_e;if(g)return g;if(!T&&!R)return"N/A";const C=(se=r.funjusmov)==null?void 0:se.trim(),je=(_e=r.funjusmovComp)==null?void 0:_e.trim(),et=r.guia==="sim"?`guia mov. ${C||"?"}`:r.guia==="no"?"guia no localizada":"guia pendente",Y=r.comp==="sim"?`comprovante mov. ${je||"?"}`:r.comp==="no"?"comprovante no localizado":"comprovante pendente";return`${et}; ${Y}`})(),ee=!T||!r.parcialTipo||r.parcialTipo==="no"?"No informado":r.parcialTipo==="outros"?r.parcialOutro?`Parcial: ${r.parcialOutro}`:"Parcial: outros (especificar)":`Parcial: ${r.parcialTipo}`,be=r.subscritor==="procurador pblico"||r.subscritor==="advogado em causa prpria"?r.subscritor||"N/A":r.subscritor==="procurador nomeado"?r.nomemovi?`mov. ${r.nomemovi}`:"nomeao no localizada":r.subscritor==="advogado particular"&&r.movis?`mov(s). ${r.movis}`:r.subscritor==="advogado particular"?"movimentos no informados":"N/A",Se=r.exclusivi==="no requerida"?"no requerida":r.exclusivi==="requerida"&&r.cadastrada==="sim"?"requerida e j cadastrada":r.exclusivi==="requerida"&&r.regular==="sim"?"requerida":r.exclusivi==="requerida"&&r.regular==="no"?"requerida, mas sem poderes":"N/A",he=r.suspefeito?r.suspefeito==="requerido em petio apartada"&&r.autuado==="sim"?"requerido em petio apartada e autuado":r.suspefeito:"N/A",de=[],ye=!!g,pe=r.dispensa==="sim"||r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||r.subscritor==="procurador nomeado"||r.subscritor==="procurador pblico",I=r.emdobro==="em dobro"&&!pe,N=pe&&r.emdobro!=="em dobro",D=ro(r.envio),P=r.consulta==="sim"?ro(r.leitura):null;if(D&&P){const C=fs(D,10);P>C&&de.push("Leitura aps 10 dias: considerar intimao automtica.")}r.decrec==="monocrtica/singular"&&de.push("Deciso monocrtica: REsp/RExt incabvel (nulidade)."),r.acordo==="sim"&&(r.valido==="sim"?de.push("Acordo vlido: encerrar o processo sem anlise do mrito."):r.valido==="no"&&de.push("Acordo invlido: verificar poderes expressamente outorgados e partes.")),r.desist==="sim"&&(r.valida==="sim"?de.push("Desistncia vlida: encerrar o processo sem anlise do mrito."):r.valida==="no"&&de.push("Desistncia invlida: verificar poderes expressamente outorgados e partes.")),I?de.push("Prazo em dobro: apenas MP/Defensoria/NPJ/dativo."):N&&de.push("Prazo em dobro aplicvel (MP/Defensoria/NPJ/dativo/ente pblico)."),r.sfh==="sim"&&de.push("SFH ps 24/03/2024: enviar para filtro especfico."),r.emaberto!=="sim"&&r.contrarra&&r.contrarra!=="ausentes"&&!r.contramovis.trim()&&de.push("Informar movimento da juntada das contrarrazes/renncia."),!ye&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"&&(r.grumov||de.push("Informar movimento da GRU (guia/comprovante).")),!ye&&r.guia==="sim"&&(r.guiorig==="no"?de.push("Guia FUNJUS no  original do recurso; verificar reutilizao."):r.guiorig===""&&de.push("Informar se a guia FUNJUS  original do recurso.")),!ye&&r.comp==="sim"&&r.codbar==="diverge ou guia ausente"&&de.push("Cdigo de barras divergente/guia ausente: conferir preparo FUNJUS."),!ye&&r.gruProc==="diverge"&&de.push("Nmero do processo divergente na GRU: conferir guia."),!ye&&r.funjusProc==="diverge"&&de.push("Nmero do processo divergente na guia FUNJUS."),!ye&&r.comp==="sim"&&r.comptipo==="de agendamento"&&de.push("Comprovante de agendamento no comprova pagamento; exigir comprovante."),r.emaberto==="sim"&&de.push("H prazo em aberto na Cmara de origem; sugere-se devolver para aguardar decurso."),r.emaberto!=="sim"&&(r.contrarra!=="apresentadas"&&r.intimado==="no"&&r.semadv==="no"?de.push("Determinar intimao do(s) recorrido(s) para contrarrazes."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="sim"?de.push("Prazo de contrarrazes em aberto; aguardar decurso."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="no"&&de.push("Determinar certificao do decurso do prazo para contrarrazes.")),r.emepe==="sim"&&r.mani==="no"&&(r.remetido==="sim"&&r.decursomp==="no"?de.push("Aguardar decurso do prazo para manifestao da PGJ."):r.remetido==="no"&&de.push("Encaminhar autos  PGJ."));const V=r.dispensa==="no"&&r.gratuidade==="no invocada"&&(r.comprova==="ausente"||r.comprova==="posteriormente"||r.comprova==="no dia til seguinte ao trmino do prazo"&&r.apos16==="no"),A=Number(r.valorst||0);if(V&&(f||p))de.push(`Caso de recolhimento em dobro; intimar para regularizar. Valores: ${a} ${Sr(f*2)}, FUNJUS ${Sr(p*2)}`);else if(r.dispensa==="no"&&r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp==="sim")de.push(`Ato incompatvel com justia gratuita; intimar para recolher preparo. Valores: ${a} ${Sr(f)}, FUNJUS ${Sr(p)}`);else if(r.dispensa==="no"&&(r.gratuidade==="no invocada"||r.atoincomp==="sim")&&(A<f||_<p)){const C=[];A<f&&C.push(`${a} ${Sr(f-A)}`),_<p&&C.push(`Funjus ${Sr(p-_)}`),C.length&&de.push(`Complementar preparo: ${C.join(" | ")}`)}return r.subscritor==="advogado particular"&&r.cadeia==="no"?de.push("Regularizar cadeia de procuraes para o subscritor."):r.subscritor==="advogado particular"&&r.cadeia==="sim"&&!r.movis&&de.push("Informar movimentos completos da cadeia de poderes."),r.exclusivi==="requerida"&&r.cadastrada==="no"&&r.regular==="sim"&&de.push("Deferir pedido de exclusividade e cadastrar procurador nas partes."),r.suspefeito==="requerido em petio apartada"&&r.autuado==="no"&&de.push("Autuar separadamente o pedido de efeito suspensivo."),{tempest:e,deverST:f,deverFJ:p,stLabel:a,stRateStart:l.start,fjRateStart:u.start,controut:M,mpout:Q,grout:te,funjout:ae,procurout:be,exclusout:Se,suspefout:he,parcialout:ee,observacoes:de}},E2=(r,e)=>{const n=r.trim();if(!n)return"";const a=n.replace(/\D/g,"");if(!a)return n;const l=e?` ${e}`:"";return`${a} Cmara${l}`},FN=r=>{var e;if(r.camaraArea&&r.camaraNumero)return E2(r.camaraNumero,r.camaraArea);if(r.camara){const n=r.camara,a=((e=n.match(/\d+/))==null?void 0:e[0])??"",l=/c[i]vel/i.test(n)?"Cvel":/crime|criminal/i.test(n)?"Crime":r.camaraArea;return a?E2(a,l):n}return""},GN=(r,e)=>{const n=[`Tempestividade: ${e.tempest.status==="tempestivo"?"prazo ok":e.tempest.status==="intempestivo"?"avaliar intempestividade":"ver calculadora"}`,`Preparo (${e.stLabel}/FUNJUS): ${e.grout}`,`Funjus: ${e.funjout}`,`Pagamento parcial: ${e.parcialout}`,`Contrarrazes: ${e.controut}`,`Ministrio Pblico: ${e.mpout}`,`Representao: ${e.procurout}`,`Exclusividade na intimao: ${e.exclusout}`,`Efeito suspensivo: ${e.suspefout||"N/A"}`];return e.observacoes.forEach(a=>n.push(a)),n},QN=(r,e)=>{var p,g;const n={},a=(_,T)=>{T&&(n[_]=!0)};if(a("tipo",!r.tipo),a("acordo",r.acordo===""),r.acordo==="sim"&&a("valido",!r.valido),a("desist",r.desist===""),r.desist==="sim"&&a("valida",!r.valida),a("sigla",!r.sigla),a("decrec",!r.decrec),a("camaraArea",!r.camaraArea),a("camaraNumero",!r.camaraNumero),a("emaberto",r.emaberto===""),a("multa",r.multa===""),r.multa==="sim, no recolhida"&&a("motivo",!r.motivo),a("dispensa",r.dispensa===""),r.dispensa==="no"&&(a("gratuidade",r.gratuidade===""),r.gratuidade==="j  ou afirma ser beneficirio"&&(a("deferida",r.deferida===""),r.deferida==="sim"&&a("movdef",!r.movdef),r.deferida==="no"&&(a("requerida",r.requerida===""),r.requerida==="sim"&&a("movped",!r.movped)),a("atoincomp",r.atoincomp==="")),r.gratuidade==="no invocada"&&(a("comprova",r.comprova===""),r.comprova==="no dia til seguinte ao trmino do prazo"&&a("apos16",r.apos16===""))),r.dispensa==="no"&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"){const _=(p=r.grumov)==null?void 0:p.trim(),T=(g=r.grumovComp)==null?void 0:g.trim();a("grumov",!_&&!T),(_||T)&&a("gruProc",!r.gruProc)}const l=r.valorfj.trim(),u=Number(l||0),f=r.dispensa==="no"&&r.gratuidade==="no invocada"&&l!==""&&Number.isFinite(u)&&u<e.deverFJ;return f&&(r.guia==="sim"&&(a("funjusmov",!r.funjusmov.trim()),a("guiorig",r.guiorig===""),a("funjusProc",!r.funjusProc)),r.comp==="sim"&&(a("funjusmovComp",!r.funjusmovComp.trim()),a("comptipo",!r.comptipo),a("codbar",!r.codbar))),f&&a("funjusObs",!r.funjusObs.trim()),a("subscritor",!r.subscritor),r.subscritor==="procurador nomeado"&&a("nomemovi",!r.nomemovi),r.subscritor==="advogado particular"&&(a("movis",!r.movis),a("cadeia",r.cadeia===""),r.cadeia==="no"&&a("faltante",!r.faltante)),a("suspefeito",r.suspefeito===""),r.suspefeito==="requerido em petio apartada"&&a("autuado",r.autuado===""),a("exclusivi",r.exclusivi===""),r.exclusivi==="requerida"&&(a("exclusNome",!r.exclusNome.trim()),a("cadastrada",r.cadastrada===""),r.cadastrada==="no"&&a("regular",r.regular==="")),r.emaberto!=="sim"&&(a("contrarra",r.contrarra===""),r.contrarra!=="apresentadas"&&(a("intimado",r.intimado===""),r.intimado==="sim"?(a("crraberto",r.crraberto===""),r.crraberto==="no"&&a("decursocrr",r.decursocrr==="")):r.intimado==="no"&&a("semadv",r.semadv===""))),a("emepe",r.emepe===""),r.emepe==="sim"&&(a("mani",r.mani===""),r.mani==="sim"?(a("teormani",r.teormani===""),a("manimovis",!r.manimovis),r.teormani==="mera cincia"&&a("decursomp",r.decursomp==="")):r.mani==="no"&&(a("remetido",r.remetido===""),r.remetido==="sim"&&a("decursomp",r.decursomp===""))),n},Tr=[{id:"recurso",label:"Recurso",icon:x2},{id:"dados",label:"Dados iniciais",icon:$T},{id:"tempest",label:"Tempestividade",icon:Dm},{id:"preparo",label:"Preparo e custas",icon:ZT},{id:"processo",label:"Representao e pedidos",icon:WT},{id:"resumo",label:"Resumo",icon:w2}],T2={recurso:["tipo","acordo","valido","desist","valida","sigla"],dados:["decrec","camaraArea","camaraNumero","emaberto"],tempest:[],preparo:["multa","motivo","dispensa","gratuidade","deferida","movdef","requerida","movped","atoincomp","comprova","apos16","grumov","gruProc","funjusmov","funjusmovComp","guia","guiorig","comp","comptipo","codbar","funjusProc","funjusObs"],processo:["subscritor","nomemovi","movis","cadeia","faltante","suspefeito","autuado","exclusivi","exclusNome","cadastrada","regular","contrarra","contramovis","intimado","intimovi","crraberto","decursocrr","semadv","emepe","mani","teormani","manimovis","decursomp","remetido"],resumo:[]},fe=({label:r,children:e})=>y.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-600",children:[y.jsx("span",{className:"min-h-[2.5rem] leading-tight",children:r}),e]}),At=({value:r,onChange:e,disabled:n=!1})=>y.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[y.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:r==="sim",onChange:()=>e(r==="sim"?"":"sim"),disabled:n}),y.jsx("span",{children:"Sim"})]}),y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[y.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:r==="no",onChange:()=>e(r==="no"?"":"no"),disabled:n}),y.jsx("span",{children:"No"})]})]}),Kt=({value:r,onChange:e,options:n,columns:a=2,allowEmpty:l=!0,disabled:u=!1})=>{const f=a===1?"grid-cols-1":a===3?"grid-cols-1 sm:grid-cols-3":"grid-cols-1 sm:grid-cols-2";return y.jsx("div",{className:`grid gap-2 ${f}`,children:n.map(p=>{const g=r===p.value,_=u||p.disabled;return y.jsxs("label",{className:`flex items-center gap-2 text-sm font-medium text-slate-600 ${_?"opacity-60":""}`,children:[y.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:g,onChange:()=>{g&&!l||e(g?"":p.value)},disabled:_}),y.jsx("span",{children:p.label})]},p.value)})})},Bt=({title:r,children:e})=>y.jsxs("div",{className:"card-surface relative bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-42px_rgba(15,23,42,0.55)] overflow-hidden",children:[y.jsx("div",{className:"absolute inset-x-6 top-0 h-[2px] bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 opacity-80"}),y.jsx("div",{className:"absolute -right-12 -top-10 h-28 w-28 rounded-full bg-amber-200/30 blur-3xl"}),y.jsxs("div",{className:"relative space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-base font-semibold text-slate-900 font-display tracking-tight",children:r}),y.jsx("span",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-[0.22em]",children:"Ficha"})]}),y.jsx("div",{className:"grid gap-4",children:e})]})]}),qt=({children:r,tone:e="neutral"})=>{const n={neutral:"bg-white/80 border-slate-200 text-slate-700",success:"bg-emerald-50/90 border-emerald-200 text-emerald-800",warning:"bg-amber-50/90 border-amber-200 text-amber-800"};return y.jsx("span",{className:`pill inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold shadow-sm ${n[e]}`,children:r})},A2=({label:r,value:e,helper:n,tone:a="neutral"})=>{const l={neutral:"border-white/70 bg-white/85 text-slate-900 shadow-[0_16px_40px_-30px_rgba(15,23,42,0.45)]",positive:"border-emerald-200/80 bg-emerald-50/90 text-emerald-900 shadow-[0_18px_40px_-30px_rgba(16,185,129,0.35)]",negative:"border-amber-200/80 bg-amber-50/90 text-amber-900 shadow-[0_18px_40px_-30px_rgba(245,158,11,0.35)]"};return y.jsxs("div",{className:`metric-surface rounded-2xl border px-4 py-3 ${l[a]}`,children:[y.jsx("p",{className:"text-[11px] uppercase tracking-[0.24em] font-semibold text-slate-500",children:r}),y.jsx("p",{className:"text-lg font-semibold leading-tight mt-1",children:e}),n&&y.jsx("p",{className:"text-xs mt-1 text-slate-600",children:n})]})},YN=({label:r,icon:e,active:n,onClick:a})=>y.jsxs("button",{type:"button",onClick:a,"aria-current":n?"step":void 0,className:`step-chip group inline-flex items-center gap-2 rounded-full border px-3 py-2 text-xs font-semibold transition shadow-sm whitespace-nowrap ${n?"border-slate-900 bg-slate-900 text-white shadow-[0_12px_30px_-20px_rgba(15,23,42,0.6)]":"border-slate-200 bg-white/80 text-slate-700 hover:border-slate-300 hover:shadow-md"}`,children:[y.jsx(e,{className:`h-4 w-4 ${n?"text-amber-200":"text-slate-500 group-hover:text-slate-700"}`}),y.jsx("span",{children:r})]}),hh=()=>y.jsx("div",{className:"watermark pointer-events-none fixed bottom-4 right-4 z-30 max-w-[320px] text-right text-[9px] leading-tight opacity-80",children:y.jsxs("div",{className:"flex flex-col gap-[1px]",children:[y.jsx("span",{children:"Desenvolvido por :"}),y.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),y.jsx("span",{children:"P-SEP-AR - GESTO 2025/2026"}),y.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),y.jsx("span",{children:"Assessoria de Recursos aos Tribunais Superiores"}),y.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),y.jsx("span",{children:"(STF e STJ) da Secretaria Especial da Presidncia"}),y.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),y.jsx("span",{children:"Elvertoni Martelli Coimbra"}),y.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),y.jsx("span",{children:"Lus Gustavo Arruda Lanoni"}),y.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),y.jsx("span",{className:"font-bold",children:"Narley Almeida de Sousa"}),y.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),y.jsx("span",{children:"Rodrigo Louzano"})]})}),KN=()=>{const[r,e]=re.useState(null),[n,a]=re.useState(null),[l,u]=re.useState(!1),[f,p]=re.useState("login"),[g,_]=re.useState(""),[T,R]=re.useState(()=>{try{const S=localStorage.getItem(y2);return S?S==="true":!0}catch{return!0}}),[M,Q]=re.useState(""),[te,ae]=re.useState(""),[ee,be]=re.useState(""),[Se,he]=re.useState(!1),[de,ye]=re.useState(""),[pe,I]=re.useState(""),[N,D]=re.useState(""),[P,V]=re.useState(`${Im}_anon`),[A,C]=re.useState(tl),[je,et]=re.useState(0),[Y,se]=re.useState(!1),[_e,He]=re.useState(!1),[tt,k]=re.useState(null),$=re.useRef(!1),le=re.useRef(!1),ue=re.useRef(!1),xe=re.useRef(new Set),Ne=re.useRef(!1),[Be,kt]=re.useState(!1),[ft,rr]=re.useState({name:""}),[Mr,En]=re.useState(""),[Vr,Zn]=re.useState(!1),[va,Tn]=re.useState(""),[_a,jr]=re.useState(!1),[It,Pt]=re.useState(!1),[_i,Ns]=re.useState(""),[ba,Nt]=re.useState(""),[ar,Ea]=re.useState(!1),[Li,zi]=re.useState("system"),[Al,po]=re.useState(()=>typeof window>"u"||!window.matchMedia?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[Bi,Ta]=re.useState(0),[An,Ft]=re.useState(!1),[at,wt]=re.useState([]),[Aa,Sa]=re.useState(""),[go,On]=re.useState({}),[bi,gt]=re.useState(null),[Wn,Re]=re.useState(""),[jn,yo]=re.useState(!1),[qi,ei]=re.useState([]),[Ei,wa]=re.useState(null),[sr,Hi]=re.useState(null),[kr,kn]=re.useState(""),[ti,Sn]=re.useState(""),[Pn,Un]=re.useState(null),Dt=re.useRef(null),Le=(n==null?void 0:n.role)==="admin",an=g?`${g.trim().toLowerCase()}@${yi}`:"",Pr=Li==="dark"||Li==="system"&&Al;re.useEffect(()=>{if(!sp||!qe||!ze){u(!0);return}let S=!0;const x=zw(qe,async F=>{if(e(F),a(null),u(!1),!F){S&&u(!0);return}try{const ne=F.email||"";if(!uu(ne)){S&&D(`Acesso restrito a contas @${yi}.`),await os(qe);return}try{await Lm(F)}catch(Vt){S&&ye(Tt(Vt))}if(!F.emailVerified){S&&D("Confirme o e-mail para acessar a plataforma."),Ne.current||await os(qe);return}const Ee=new Date().toISOString(),Ve=yn(ze,Kn,F.uid),nt=await Rm(Ve);let Mt;if(!nt.exists())Mt={uid:F.uid,email:ne,name:F.displayName||"",photoURL:F.photoURL||"",role:"user",active:!0,triageCount:0,theme:"system",createdAt:Ee,updatedAt:Ee},await lh(Ve,Mt);else{const Vt=nt.data();Mt={uid:F.uid,email:Vt.email??ne,name:Vt.name??F.displayName??"",photoURL:Vt.photoURL??F.photoURL??"",role:Vt.role??"user",active:Vt.active??!0,triageCount:Vt.triageCount??0,theme:ch(Vt.theme),createdAt:Vt.createdAt??Ee,updatedAt:Ee},(!Vt.email||!Vt.name||!Vt.role||Vt.active===void 0||!Vt.createdAt)&&!Vt.name&&Mt.name&&await Yn(Ve,{name:Mt.name,updatedAt:Ee})}if(!Mt.active){S&&D("Conta desativada. Procure um administrador."),await os(qe);return}S&&(a(Mt),ye(""),I(""),D(""))}catch(ne){if(S){const Ee=Tt(ne);ye(Ee),ne.code==="permission-denied"&&I("Aplique as regras do Firestore e tente novamente.")}}finally{S&&u(!0)}});return()=>{S=!1,x()}},[]),re.useEffect(()=>{const S=r!=null&&r.uid?`${Im}_${r.uid}`:`${Im}_anon`;V(S)},[r==null?void 0:r.uid]),re.useEffect(()=>{const S=ON(P);C(S.state),k(S.savedAt),et(0)},[P]),re.useEffect(()=>{if(!r||!ze||!qe)return;const S=yn(ze,Kn,r.uid),x=Cm(S,F=>{if(!r.emailVerified)return;if(!F.exists()){D("Perfil no encontrado. Procure um administrador."),os(qe);return}const ne=F.data(),Ee=ne.role==="admin"?"admin":"user",Ve={uid:r.uid,email:ne.email??r.email??"",name:ne.name??r.displayName??"",photoURL:ne.photoURL??r.photoURL??"",role:Ee,active:ne.active??!0,triageCount:ne.triageCount??0,theme:ch(ne.theme),createdAt:ne.createdAt??"",updatedAt:ne.updatedAt??""};if(!Ve.active){D("Conta desativada. Procure um administrador."),os(qe);return}a(Ve)},F=>{ye(Tt(F))});return()=>x()},[r==null?void 0:r.uid,r==null?void 0:r.emailVerified,ze,qe]),re.useEffect(()=>{if(!Le||!ze){wt([]);return}const S=d2(l2(ze,Kn)),x=Cm(S,F=>{const ne=F.docs.map(Ve=>{const nt=Ve.data(),Mt=nt.role==="admin"?"admin":"user";return{uid:Ve.id,email:nt.email??"",name:nt.name??"",photoURL:nt.photoURL??"",role:Mt,active:nt.active??!0,triageCount:nt.triageCount??0,theme:ch(nt.theme),createdAt:nt.createdAt??"",updatedAt:nt.updatedAt??""}}),Ee=jN(ne);Ee.sort((Ve,nt)=>{const Mt=Ve.name.localeCompare(nt.name,"pt-BR",{sensitivity:"base"});return Mt!==0?Mt:Ve.email.localeCompare(nt.email,"pt-BR",{sensitivity:"base"})}),wt(Ee)},F=>{Re(Tt(F))});return()=>x()},[Le]),re.useEffect(()=>{if(!Le||!ze){ei([]);return}const S=d2(l2(ze,lu),oN("status","==","pending")),x=Cm(S,F=>{const ne=F.docs.map(Ee=>{const Ve=Ee.data(),nt=Ve.status==="approved"||Ve.status==="rejected"?Ve.status:"pending";return{id:Ee.id,uid:Ve.uid??Ee.id,email:Ve.email??"",name:Ve.name??"",status:nt,createdAt:Ve.createdAt,updatedAt:Ve.updatedAt}});ei(ne)},F=>{Re(Tt(F))});return()=>x()},[Le,ze]),re.useEffect(()=>{Le||(Ft(!1),Hi(null),kn(""),Sn(""))},[Le]),re.useEffect(()=>{An||(Hi(null),kn(""),Sn(""))},[An]),re.useEffect(()=>{Be||(Pt(!1),Ns(""),Nt(""))},[Be]),re.useEffect(()=>{if(!n)return;rr({name:n.name??""});const S=ch(n.theme),x=S!==n.theme;if(zi(S),Tn(""),x&&ze&&r){const ne=new Date().toISOString();Yn(yn(ze,Kn,r.uid),{theme:S,updatedAt:ne}).then(()=>{a(Ee=>Ee&&{...Ee,theme:S,updatedAt:ne})}).catch(()=>{})}},[n==null?void 0:n.uid]),re.useEffect(()=>{if(!window.matchMedia)return;const S=window.matchMedia("(prefers-color-scheme: dark)"),x=()=>po(S.matches);return x(),S.addEventListener?S.addEventListener("change",x):S.addListener(x),()=>{S.removeEventListener?S.removeEventListener("change",x):S.removeListener(x)}},[]),re.useEffect(()=>{if(Bi<=0)return;const S=window.setTimeout(()=>{Ta(x=>Math.max(0,x-1))},1e3);return()=>window.clearTimeout(S)},[Bi]),re.useEffect(()=>{try{localStorage.setItem(y2,String(T))}catch{}},[T]),re.useEffect(()=>{document.documentElement.classList.toggle("theme-dark",Pr);const x=r!=null&&r.uid?`triario_theme_${r.uid}`:"triario_theme_anon";try{localStorage.setItem(x,Li)}catch{}},[Li,Pr,r==null?void 0:r.uid]);const Qe=re.useMemo(()=>HN(A),[A]),xa=re.useMemo(()=>GN(A,Qe),[A,Qe]),Ds=re.useMemo(()=>QN(A,Qe),[A,Qe]),ni=()=>BN(A,Qe),Ra=re.useMemo(()=>{const S={recurso:0,dados:0,tempest:0,preparo:0,processo:0,resumo:0};return Object.keys(T2).forEach(x=>{S[x]=T2[x].reduce((F,ne)=>F+(Ds[ne]?1:0),0)}),S},[Ds]),ii=re.useMemo(()=>{const S=Aa.trim().toLowerCase();return S?at.filter(x=>`${x.name} ${x.email}`.toLowerCase().includes(S)):at},[Aa,at]),Ln=re.useMemo(()=>at.reduce((S,x)=>S+(x.triageCount||0),0),[at]),sn=re.useMemo(()=>at.filter(S=>S.role==="admin"&&S.active).length,[at]),ri=re.useMemo(()=>{const S=[...at];return S.sort((x,F)=>(F.triageCount||0)-(x.triageCount||0)),S},[at]),Ot=re.useMemo(()=>{if(qi.length===0)return[];const S=new Set(at.filter(F=>F.role==="admin").map(F=>nl(F.email))),x=new Set(at.filter(F=>F.role==="admin").map(F=>F.uid));return qi.filter(F=>{if(x.has(F.uid))return!1;const ne=nl(F.email||"");return!(ne&&S.has(ne))})},[qi,at]),or=Ot.length;re.useEffect(()=>{if(!Le||!ze||qi.length===0)return;const S=new Set(at.filter(ne=>ne.role==="admin").map(ne=>nl(ne.email))),x=new Set(at.filter(ne=>ne.role==="admin").map(ne=>ne.uid)),F=qi.filter(ne=>{if(xe.current.has(ne.id))return!1;if(x.has(ne.uid))return!0;const Ee=nl(ne.email||"");return Ee?S.has(Ee):!1});F.length&&F.forEach(ne=>{xe.current.add(ne.id),Yn(yn(ze,lu,ne.id),{status:"approved",updatedAt:new Date().toISOString()}).catch(()=>{xe.current.delete(ne.id)})})},[qi,at,Le,ze]);const Fi=A.dispensa==="sim",ai=A.valorfj.trim(),si=Number(ai||0),Ca=A.dispensa==="no"&&A.gratuidade==="no invocada"&&ai!==""&&Number.isFinite(si)&&si<Qe.deverFJ,Os=Ca&&!A.funjusObs.trim(),Ia=A.guia==="no",Ms=A.comp==="no",Na=Tr[je].id,cn=Ra[Na]??0,Ut=A.acordo==="sim"&&A.valido==="sim",Xt=A.desist==="sim"&&A.valida==="sim",lr=A.sfh==="sim",Gi=Ut||Xt||lr,ie=(S,x)=>{C(F=>{var ne;if(S==="funjusmov"){const Ee=String(x),Ve=Ee.trim()?"sim":F.guia==="sim"?"":F.guia;return{...F,funjusmov:Ee,guia:F.guia==="no"?"no":Ve}}if(S==="funjusmovComp"){const Ee=String(x),Ve=Ee.trim()?"sim":F.comp==="sim"?"":F.comp;return{...F,funjusmovComp:Ee,comp:F.comp==="no"?"no":Ve}}if(S==="grumov"){const Ee=String(x),Ve=!((ne=F.grumovComp)!=null&&ne.trim())||F.grumovComp===F.grumov;return{...F,[S]:x,grumovComp:Ve?Ee:F.grumovComp}}return{...F,[S]:x}})},yt=(S,x)=>{const F=A[S],Ee=(typeof F=="string"?F.trim()!=="":!!F)?"input input-success":"input";return x?`${Ee} ${x}`:Ee};re.useEffect(()=>{const S=window.setTimeout(()=>{try{const x=new Date,F={__version:vN,state:A,savedAt:x.toISOString()};localStorage.setItem(P,JSON.stringify(F)),k(x)}catch{}},400);return()=>window.clearTimeout(S)},[A,P]),re.useEffect(()=>{if(!A.usarIntegral)return;const S=Qe.deverST?Qe.deverST.toFixed(2):"",x=Qe.deverFJ?Qe.deverFJ.toFixed(2):"";C(F=>!F.usarIntegral||F.valorst===S&&F.valorfj===x?F:{...F,valorst:S,valorfj:x})},[A.usarIntegral,Qe.deverST,Qe.deverFJ]),re.useEffect(()=>{Fi&&C(S=>{if(S.dispensa!=="sim")return S;let x=!1;const F={...S};return F.emdobro!=="em dobro"&&(F.emdobro="em dobro",x=!0),F.subscritor!=="procurador pblico"&&(F.subscritor="procurador pblico",x=!0),x?F:S})},[Fi]),re.useEffect(()=>{A.consulta!=="sim"&&A.leitura&&C(S=>S.leitura?{...S,leitura:""}:S)},[A.consulta,A.leitura]),re.useEffect(()=>{A.emdobro||(A.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||A.subscritor==="procurador nomeado")&&C(S=>S.emdobro?S:{...S,emdobro:"em dobro"})},[A.emdobro,A.gratuidade,A.subscritor]),re.useEffect(()=>{if(!Gi){ue.current=!1;return}ue.current||(ue.current=!0,et(Tr.length-1))},[Gi]),re.useEffect(()=>{var F;const S=Dt.current;if(!S)return;const x=(F=window.matchMedia)==null?void 0:F.call(window,"(prefers-reduced-motion: reduce)").matches;S.scrollIntoView({behavior:x?"auto":"smooth",block:"start"})},[je]);const Ti=()=>{Lr();const S=ni(),x=new Blob([S],{type:"text/plain"}),F=URL.createObjectURL(x),ne=document.createElement("a");ne.href=F;const Ee=DN(A.sigla);ne.download=`resumo-triagem-${Ee||"triario"}.txt`,ne.click(),window.setTimeout(()=>URL.revokeObjectURL(F),1e3)},ur=async S=>{if(!S)return!1;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(S);else{const x=document.createElement("textarea");x.value=S,document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x)}return!0}catch{return!1}},wn=async()=>{Lr();const S=ni();await ur(S)?(se(!0),setTimeout(()=>se(!1),1500)):se(!1)},Da=async()=>{const S=xa.join(`
`);await ur(S)?(He(!0),setTimeout(()=>He(!1),1500)):He(!1)},Vs=async S=>{if(!qe)return null;const x=qe.currentUser;return x||(g.trim()?M.trim()?uu(an)?(await bm(qe,T?mh:_u),(await n_(qe,an,M)).user):(ye(`Use um e-mail @${yi} para continuar.`),null):(ye(S),null):(ye(`Informe seu usurio @${yi}.`),null))},js=async()=>{if(qe){if(he(!0),ye(""),I(""),!g.trim()){ye(`Informe seu usurio @${yi}.`),he(!1);return}if(!uu(an)){ye(`Use um e-mail @${yi} para entrar.`),he(!1);return}try{await bm(qe,T?mh:_u),await n_(qe,an,M)}catch(S){ye(Tt(S))}finally{he(!1)}}},cr=async()=>{if(qe){if(he(!0),ye(""),I(""),!g.trim()){ye(`Informe seu usurio @${yi}.`),he(!1);return}if(!uu(an)){ye(`O cadastro  permitido apenas para e-mails @${yi}.`),he(!1);return}if(M.trim().length<6){ye("A senha precisa ter pelo menos 6 caracteres."),he(!1);return}if(M!==te){ye("As senhas no conferem."),he(!1);return}try{await bm(qe,T?mh:_u);const S=await kw(qe,an,M);ee.trim()&&await r_(S.user,{displayName:ee.trim()});try{await i_(S.user)}catch(x){ye(Tt(x))}I("Conta criada. Confirme o e-mail para entrar."),Q(""),ae(""),p("login")}catch(S){ye(Tt(S))}finally{he(!1)}}},vo=async()=>{if(qe){if(he(!0),ye(""),I(""),!g.trim()){ye(`Informe seu usurio @${yi}.`),he(!1);return}if(!uu(an)){ye(`Use um e-mail @${yi} para redefinir a senha.`),he(!1);return}try{await _m(qe,an),I("Enviamos um e-mail para redefinir sua senha.")}catch(S){ye(Tt(S))}finally{he(!1)}}},hr=async()=>{if(qe&&!(Bi>0)){he(!0),ye(""),I(""),Ne.current=!0;try{const S=await Vs("Informe sua senha para reenviar a confirmao.");if(!S)return;await i_(S),Ta(15),I("E-mail de confirmao reenviado.")}catch(S){ye(Tt(S))}finally{const S=qe.currentUser;if(S&&!S.emailVerified)try{await os(qe)}catch{}Ne.current=!1,he(!1)}}},xn=async()=>{if(qe){he(!0),ye(""),I(""),Ne.current=!0;try{const S=await Vs("Informe sua senha para confirmar o e-mail.");if(!S)return;await Lm(S),S.emailVerified?I("E-mail confirmado. Voc j pode entrar."):ye("E-mail ainda no confirmado.")}catch(S){ye(Tt(S))}finally{const S=qe.currentUser;if(S&&!S.emailVerified)try{await os(qe)}catch{}Ne.current=!1,he(!1)}}},ks=async()=>{if(!qe)return;const S=P;await os(qe),ka(S),Ft(!1),kt(!1),En(""),Tn(""),jr(!1),Ta(0),$.current=!1,le.current=!1},Ur=(S,x)=>{On(F=>{const ne=F[S.uid]??{name:S.name,role:S.role,active:S.active};return{...F,[S.uid]:{...ne,...x}}})},Oa=S=>go[S.uid]??{name:S.name,role:S.role,active:S.active},Ma=async S=>{if(!ze||!qe)return;if(!Le){Re("Acesso restrito a admins.");return}const x=Oa(S),F=(r==null?void 0:r.uid)===S.uid,ne=S.role==="admin"&&S.active,Ee=x.role==="admin"&&x.active,Ve=sn-(ne?1:0)+(Ee?1:0);if(F&&Ve<1){Re("Voc  o ltimo admin ativo. No  possvel remover seu prprio acesso.");return}if(Ve<1){Re(" necessrio manter pelo menos um admin ativo.");return}if(x.name===S.name&&x.role===S.role&&x.active===S.active){Re("Nenhuma alterao pendente para salvar.");return}gt(S.uid),Re("");try{await Yn(yn(ze,Kn,S.uid),{name:x.name,role:x.role,active:x.active,updatedAt:new Date().toISOString()}),Re("Cadastro atualizado.")}catch(nt){Re(Tt(nt))}finally{gt(null)}},_o=async S=>{if(qe){if(!Le){Re("Acesso restrito a admins.");return}Re("");try{await _m(qe,S),Re(`E-mail de redefinio enviado para ${S}.`)}catch(x){Re(Tt(x))}}},fr=async S=>{if(!ze)return;if(!Le){Re("Acesso restrito a admins.");return}if((r==null?void 0:r.uid)===S.uid){Re("Voc no pode remover seu prprio acesso de admin.");return}if(S.active&&sn<=1){Re(" necessrio manter pelo menos um admin ativo.");return}Re(""),gt(S.uid);try{await Yn(yn(ze,Kn,S.uid),{role:"user",updatedAt:new Date().toISOString()}),Re(`${S.email||"Usurio"} removido do perfil admin.`),On(F=>F[S.uid]?{...F,[S.uid]:{...F[S.uid],role:"user"}}:F)}catch(F){Re(Tt(F))}finally{gt(null)}},Va=async S=>{if(ze){if(!Le){Re("Acesso restrito a admins.");return}Re(""),wa(S.id);try{const x=new Date().toISOString(),F=yn(ze,Kn,S.uid);(await Rm(F)).exists()?await Yn(F,{role:"admin",updatedAt:x}):await lh(F,{uid:S.uid,email:S.email??"",name:S.name??"",photoURL:"",role:"admin",active:!0,triageCount:0,theme:"system",createdAt:x,updatedAt:x}),await Yn(yn(ze,lu,S.id),{status:"approved",updatedAt:x}),Re(`${S.email||"Usurio"} aprovado como admin.`)}catch(x){Re(Tt(x))}finally{wa(null)}}},oi=async S=>{if(ze){if(!Le){Re("Acesso restrito a admins.");return}Re(""),wa(S.id);try{await Yn(yn(ze,lu,S.id),{status:"rejected",updatedAt:new Date().toISOString()}),Re(`${S.email||"Usurio"} rejeitado.`)}catch(x){Re(Tt(x))}finally{wa(null)}}},Lr=async()=>{if(!(!ze||!r)&&!($.current||le.current)){le.current=!0;try{await Yn(yn(ze,Kn,r.uid),{triageCount:fN(1),updatedAt:new Date().toISOString()}),$.current=!0,a(S=>S&&{...S,triageCount:(S.triageCount||0)+1})}catch(S){Re(Tt(S))}finally{le.current=!1}}},zn=async()=>{if(!qe||!r||!ze||!n)return;const S=ft.name.trim(),x={};if(S!==n.name&&(x.name=S),Object.keys(x).length===0){En("Nenhuma alterao para salvar.");return}Zn(!0),En("");try{await r_(r,{displayName:S||null}),await Yn(yn(ze,Kn,r.uid),{...x,updatedAt:new Date().toISOString()}),a(F=>F&&{...F,...x}),En("Perfil atualizado.")}catch(F){En(Tt(F))}finally{Zn(!1)}},dr=async()=>{if(!(!qe||!(r!=null&&r.email))){En("");try{await _m(qe,r.email),En("Enviamos um e-mail para redefinir sua senha.")}catch(S){En(Tt(S))}}},Ai=async()=>{if(!(!r||!ze)){Tn(""),jr(!0);try{const S=yn(ze,lu,r.uid),x=await Rm(S),F=new Date().toISOString();if(x.exists()){const ne=x.data();ne.status==="approved"?Tn("Seu acesso j foi aprovado. Saia e entre novamente."):ne.status==="pending"?Tn("Solicitao j enviada. Aguarde aprovao."):(await lh(S,{uid:r.uid,email:r.email??"",name:r.displayName??"",status:"pending",updatedAt:F},{merge:!0}),Tn("Solicitao reenviada com sucesso."))}else await lh(S,{uid:r.uid,email:r.email??"",name:r.displayName??"",status:"pending",createdAt:F,updatedAt:F}),Tn("Solicitao enviada. Aguarde aprovao do admin.")}catch(S){Tn(Tt(S))}finally{jr(!1)}}},zr=()=>{Pt(S=>!S),Ns(""),Nt("")},ja=async()=>{if(!(!qe||!r||!ze)){if(!r.email){Nt("E-mail do usurio indisponvel.");return}if(!_i.trim()){Nt("Informe sua senha para confirmar a excluso.");return}Nt(""),Ea(!0);try{const S=bs.credential(r.email,_i);await t_(r,S),await hN(yn(ze,Kn,r.uid)),await Bw(r)}catch(S){Nt(Tt(S))}finally{Ea(!1)}}},mr=async S=>{if(zi(S),!(!ze||!r||!n))try{await Yn(yn(ze,Kn,r.uid),{theme:S,updatedAt:new Date().toISOString()}),a(x=>x&&{...x,theme:S})}catch(x){En(Tt(x))}},li=async S=>{if(ze){if(!Le){Re("Acesso restrito a admins.");return}Re(""),gt(S.uid);try{await Yn(yn(ze,Kn,S.uid),{role:"admin",updatedAt:new Date().toISOString()}),Re(`${S.email||"Usurio"} promovido a admin.`),On(x=>x[S.uid]?{...x,[S.uid]:{...x[S.uid],role:"admin"}}:x)}catch(x){Re(Tt(x))}finally{gt(null)}}},Bn=S=>{if(sr===S.uid){Hi(null),kn(""),Sn("");return}Hi(S.uid),kn(""),Sn("")},Br=async S=>{if(!(!qe||!r||!ze)){if(!Le){Sn("Ao restrita a admins.");return}if(r.uid===S.uid){Sn("No  possvel desativar o prprio usurio.");return}if(!r.email){Sn("E-mail do administrador indisponvel.");return}if(!kr.trim()){Sn("Informe sua senha para confirmar a desativao.");return}Sn(""),Un(S.uid);try{const x=bs.credential(r.email,kr);await t_(r,x);const F=new Date().toISOString();await Yn(yn(ze,Kn,S.uid),{active:!1,updatedAt:F,deletedAt:F}),Re("Usurio desativado."),Hi(null),kn(""),On(ne=>ne[S.uid]?{...ne,[S.uid]:{...ne[S.uid],active:!1}}:ne)}catch(x){Sn(Tt(x))}finally{Un(null)}}},lt=async()=>{if(!ze)return;if(!Le){Re("Acesso restrito a admins.");return}const S=at.filter(x=>{var F;return(F=x.photoURL)==null?void 0:F.trim()});if(S.length===0){Re("Nenhuma foto de perfil para remover.");return}if(window.confirm(`Isso vai remover ${S.length} foto(s) de perfil. Continuar?`)){yo(!0),Re("");try{for(const x of S)await Yn(yn(ze,Kn,x.uid),{photoURL:"",updatedAt:new Date().toISOString()});Re("Fotos de perfil removidas.")}catch(x){Re(Tt(x))}finally{yo(!1)}}},Si=S=>{S.preventDefault(),f==="login"?js():f==="register"?cr():vo()},Ps=()=>{if(Gi){et(Tr.length-1);return}et(S=>Math.min(Tr.length-1,S+1))},qr=()=>et(S=>Math.max(0,S-1)),ka=(S=P)=>{try{localStorage.removeItem(S)}catch{}C(tl),et(0),k(null),$.current=!1,le.current=!1,ue.current=!1},Hr=()=>{ka()},wi=(S,x)=>{window.confirm(S)&&(x==null||x(),Hr())},ui=()=>{const S=!!(r&&!n&&!N);return y.jsxs("div",{className:"min-h-screen page-bg text-slate-900 page-enter",children:[y.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10",children:y.jsxs("div",{className:"w-full max-w-2xl space-y-4",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("div",{className:"mx-auto h-14 w-14 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:y.jsx("img",{src:g2,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),y.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Simba-JUD"}),y.jsx("h1",{className:"text-2xl font-semibold text-slate-900 font-display",children:"Acesso ao Portal de Triagem"})]}),y.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[{id:"login",label:"Entrar"},{id:"register",label:"Criar conta"},{id:"reset",label:"Redefinir senha"}].map(x=>y.jsx("button",{type:"button",onClick:()=>{p(x.id),ye(""),I("")},className:`px-4 py-2 rounded-full text-xs font-semibold border transition ${f===x.id?"bg-slate-900 text-white border-slate-900 shadow-sm":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"}`,children:x.label},x.id))}),S&&y.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:[y.jsx("p",{className:"font-semibold",children:"Perfil no carregado."}),y.jsx("p",{className:"mt-1",children:"Verifique as regras do Firestore e domnios autorizados. Se quiser, saia e entre novamente."}),y.jsx("button",{type:"button",onClick:ks,className:"mt-3 inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-amber-200 bg-white text-amber-800 hover:shadow-sm transition",children:"Sair"})]}),y.jsx(Bt,{title:"Credenciais",children:y.jsxs("form",{className:"grid gap-4",onSubmit:Si,autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",children:[N&&y.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:N}),de&&y.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:de}),pe&&y.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:pe}),f==="register"&&y.jsx(fe,{label:"Nome completo",children:y.jsx("input",{className:"input",value:ee,onChange:x=>be(x.target.value),placeholder:"Digite seu nome",autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"})}),y.jsx(fe,{label:"E-mail",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{className:"input rounded-r-none",type:"text",value:g,onChange:x=>{const ne=x.target.value.split("@")[0].replace(/\s+/g,"");_(ne)},placeholder:"usuario",autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0}),y.jsxs("span",{className:"px-3 py-[0.6rem] border border-l-0 border-slate-200 rounded-r-lg bg-slate-50 text-sm text-slate-600",children:["@",yi]})]})}),f!=="reset"&&y.jsx(fe,{label:"Senha",children:y.jsx("input",{className:"input",type:"password",value:M,onChange:x=>Q(x.target.value),placeholder:"",autoComplete:"new-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0})}),f!=="reset"&&y.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[y.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:T,onChange:x=>R(x.target.checked)}),"Lembrar login neste dispositivo"]}),f==="register"&&y.jsx(fe,{label:"Confirme a senha",children:y.jsx("input",{className:"input",type:"password",value:te,onChange:x=>ae(x.target.value),placeholder:"",autoComplete:"new-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0})}),f==="reset"&&y.jsx("p",{className:"text-xs text-slate-500",children:"Enviaremos um link de redefinio de senha para o seu e-mail."}),f==="login"&&N.includes("Confirme")&&y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y.jsx("button",{type:"button",onClick:hr,disabled:Se||Bi>0,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:Bi>0?`Reenviar em ${Bi}s`:"Reenviar confirmao"}),y.jsx("button",{type:"button",onClick:xn,disabled:Se,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"J confirmei"})]}),y.jsx("button",{type:"submit",disabled:Se,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:Se?"Aguarde...":f==="login"?"Entrar":f==="register"?"Criar conta":"Enviar link"})]})}),y.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Cadastro aberto apenas para contas @",yi,"."]})]})}),y.jsx(hh,{})]})},on=()=>{if(!Be||!n)return null;const S=ft.name||n.email;return y.jsx("div",{className:"mb-6",children:y.jsx(Bt,{title:"Meu perfil",children:y.jsxs("div",{className:"grid gap-4",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[y.jsx("div",{className:"avatar-surface h-16 w-16 rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center overflow-hidden",children:y.jsx("span",{className:"text-lg font-semibold text-slate-700",children:b2(S)})}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-semibold text-slate-900",children:S}),y.jsx("p",{className:"text-xs text-slate-500",children:n.email}),y.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",n.triageCount||0]})]})]}),Mr&&y.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:Mr}),va&&y.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:va}),y.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:y.jsx(fe,{label:"Nome",children:y.jsx("input",{className:"input",value:ft.name,onChange:x=>rr(F=>({...F,name:x.target.value}))})})}),y.jsxs(fe,{label:"Tema",children:[y.jsx(Kt,{value:Li,columns:3,allowEmpty:!1,onChange:x=>mr(x),options:[{value:"system",label:"Sistema"},{value:"light",label:"Modo claro"},{value:"dark",label:"Modo escuro"}]}),y.jsx("span",{className:"text-xs text-slate-500",children:"Preferncia salva neste dispositivo e no perfil."})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y.jsx("button",{type:"button",onClick:zn,disabled:Vr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:Vr?"Salvando...":"Salvar perfil"}),y.jsx("button",{type:"button",onClick:dr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Enviar reset de senha"}),!Le&&y.jsx("button",{type:"button",onClick:Ai,disabled:_a,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 transition shadow-sm disabled:opacity-60",children:_a?"Enviando...":"Solicitar acesso admin"}),y.jsx("button",{type:"button",onClick:zr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm",children:It?"Cancelar excluso":"Excluir minha conta"})]}),It&&y.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[y.jsx("p",{className:"font-semibold",children:"Confirmao de excluso"}),y.jsx("p",{className:"mt-1",children:"Esta ao  permanente. Informe sua senha para apagar sua conta."}),ba&&y.jsx("p",{className:"mt-2 text-xs text-rose-700",children:ba}),y.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[y.jsx("input",{className:"input flex-1 min-w-[200px]",type:"password",value:_i,onChange:x=>{Ns(x.target.value),ba&&Nt("")},placeholder:"Senha atual",autoComplete:"current-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"}),y.jsx("button",{type:"button",onClick:ja,disabled:ar,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:ar?"Excluindo...":"Excluir conta"})]})]})]})})})},Qi=()=>!Le||!An?null:y.jsxs("div",{className:"mb-6 space-y-4",children:[y.jsx(Bt,{title:"Dashboard de triagens",children:y.jsxs("div",{className:"grid gap-4",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y.jsxs(qt,{children:[Ln," triagem(ns) registradas"]}),y.jsxs(qt,{children:[at.length," usurio(s)"]})]}),ri.length===0?y.jsx("p",{className:"text-sm text-slate-600",children:"Nenhuma triagem registrada."}):y.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:ri.map(S=>y.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-white/80 px-4 py-3 text-sm text-slate-700",children:[y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"font-semibold text-slate-900 truncate",children:S.name||S.email||"Sem nome"}),y.jsx("p",{className:"text-xs text-slate-500 truncate",children:S.email})]}),y.jsx("span",{className:"font-semibold",children:S.triageCount||0})]},S.uid))})]})}),or>0&&y.jsx(Bt,{title:"Solicitaes de admin",children:y.jsxs("div",{className:"grid gap-3",children:[y.jsx("p",{className:"text-xs text-slate-500",children:"Aprove ou rejeite as solicitaes pendentes."}),y.jsxs(qt,{tone:"warning",children:[or," solicitao(es) pendente(s)"]}),y.jsx("div",{className:"grid gap-2",children:Ot.map(S=>y.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[y.jsx("p",{className:"font-semibold",children:S.name||S.email||"Usurio"}),y.jsx("p",{className:"text-[11px] text-amber-700",children:S.email||S.uid}),y.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[y.jsx("button",{type:"button",onClick:()=>Va(S),disabled:Ei===S.id,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-emerald-200 bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm disabled:opacity-60",children:Ei===S.id?"Processando...":"Aprovar"}),y.jsx("button",{type:"button",onClick:()=>oi(S),disabled:Ei===S.id,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-rose-200 bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:Ei===S.id?"Processando...":"Rejeitar"})]})]},S.id))})]})}),y.jsx(Bt,{title:"Administrao de usurios",children:y.jsxs("div",{className:"grid gap-4",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y.jsx("input",{className:"input flex-1 min-w-[220px]",placeholder:"Buscar por nome ou e-mail",value:Aa,onChange:S=>Sa(S.target.value)}),y.jsxs(qt,{children:[at.length," usurio(s)"]}),y.jsxs(qt,{tone:"success",children:[sn," admin(s) ativos"]}),y.jsx("button",{type:"button",onClick:lt,disabled:jn,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm disabled:opacity-60",children:jn?"Limpando fotos...":"Remover fotos de perfil"})]}),Wn&&y.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:Wn}),ii.length===0?y.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum usurio encontrado."}):y.jsx("div",{className:"grid gap-3",children:ii.map(S=>{const x=Oa(S),F=(r==null?void 0:r.uid)===S.uid,ne=S.role==="admin"&&S.active,Ee=F&&ne&&sn<=1,Ve=sr===S.uid,nt=F,Mt=S.role!=="admin"&&x.role!=="admin",Vt=S.role==="admin"&&x.role==="admin",Gr=F||ne&&sn<=1;return y.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 shadow-sm",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-slate-900",children:S.name||"Sem nome"}),y.jsx("p",{className:"text-xs text-slate-500",children:S.email||"E-mail no informado"}),y.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",S.triageCount||0]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[F&&y.jsx(qt,{children:"Voc"}),S.role==="admin"&&y.jsx(qt,{tone:"success",children:"Admin"}),!S.active&&y.jsx(qt,{tone:"warning",children:"Desativado"})]})]}),y.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[y.jsx(fe,{label:"Nome",children:y.jsx("input",{className:"input",value:x.name,onChange:Ri=>Ur(S,{name:Ri.target.value})})}),y.jsxs(fe,{label:"Perfil",children:[y.jsx(Kt,{value:x.role,onChange:Ri=>Ur(S,{role:Ri}),disabled:Ee,allowEmpty:!1,options:[{value:"user",label:"Usurio"},{value:"admin",label:"Admin"}]}),Ee&&y.jsx("span",{className:"text-xs text-slate-500",children:"Voc  o nico admin ativo."})]}),y.jsx(fe,{label:"Status",children:y.jsx(Kt,{value:x.active?"ativo":"inativo",onChange:Ri=>Ur(S,{active:Ri==="ativo"}),allowEmpty:!1,options:[{value:"ativo",label:"Ativo"},{value:"inativo",label:"Desativado"}]})})]}),y.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[y.jsx("button",{type:"button",onClick:()=>Ma(S),disabled:bi===S.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:bi===S.uid?"Salvando...":"Salvar"}),Mt&&y.jsx("button",{type:"button",onClick:()=>li(S),disabled:bi===S.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm disabled:opacity-60",children:"Promover a admin"}),Vt&&y.jsx("button",{type:"button",onClick:()=>fr(S),disabled:bi===S.uid||Gr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-amber-200 bg-amber-50 text-amber-700 hover:bg-amber-100 transition shadow-sm disabled:opacity-60",children:"Remover admin"}),y.jsx("button",{type:"button",onClick:()=>_o(S.email),disabled:!S.email,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"Enviar reset de senha"}),y.jsx("button",{type:"button",onClick:()=>Bn(S),disabled:nt,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm disabled:opacity-60",children:Ve?"Cancelar desativao":"Desativar usurio"})]}),Ve&&y.jsxs("div",{className:"mt-3 rounded-xl border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[y.jsx("p",{className:"font-semibold",children:"Confirmao de desativao"}),y.jsx("p",{className:"mt-1",children:"Para desativar este usurio, informe sua senha de administrador."}),ti&&y.jsx("p",{className:"mt-2 text-xs text-rose-700",children:ti}),y.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[y.jsx("input",{className:"input flex-1 min-w-[200px]",type:"password",value:kr,onChange:Ri=>{kn(Ri.target.value),ti&&Sn("")},placeholder:"Senha do admin",autoComplete:"current-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"}),y.jsx("button",{type:"button",onClick:()=>Br(S),disabled:Pn===S.uid,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:Pn===S.uid?"Desativando...":"Desativar"})]})]})]},S.uid)})})]})})]}),xi=()=>{const S=(()=>{switch(Tr[je].id){case"recurso":return y.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[y.jsxs(Bt,{title:"Triar um novo recurso",children:[y.jsxs("div",{className:"grid gap-4",children:[y.jsx(fe,{label:"Tipo",children:y.jsx(Kt,{value:A.tipo,onChange:x=>ie("tipo",x),options:[{value:"Especial",label:"Especial"},{value:"Extraordinrio",label:"Extraordinrio"}]})}),y.jsx(fe,{label:"Sigla para minutas",children:y.jsx("input",{className:yt("sigla"),placeholder:"AR-99",value:A.sigla,onChange:x=>{const F=x.target.value;ie("sigla",F.replace(/^[aA][rR]/,"AR"))}})})]}),y.jsxs("div",{className:"grid gap-4",children:[y.jsx(fe,{label:"Acordo",children:y.jsx(At,{value:A.acordo,onChange:x=>ie("acordo",x)})}),A.acordo==="sim"&&y.jsx(fe,{label:"Acordo vlido?",children:y.jsx(At,{value:A.valido,onChange:x=>ie("valido",x)})})]}),y.jsxs("div",{className:"grid gap-4",children:[y.jsx(fe,{label:"Desistncia",children:y.jsx(At,{value:A.desist,onChange:x=>ie("desist",x)})}),A.desist==="sim"&&y.jsx(fe,{label:"Desistncia vlida?",children:y.jsx(At,{value:A.valida,onChange:x=>ie("valida",x)})})]})]}),y.jsx(Bt,{title:"Ajuda rpida",children:y.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[y.jsxs("li",{children:[y.jsx(qt,{children:"Importante"})," Confirme a validade de acordos e desistncias antes de prosseguir."]}),y.jsxs("li",{children:[y.jsx(qt,{children:"Tipificao"})," Especial aplica tabela STJ; Extraordinrio aplica tabela STF."]}),y.jsxs("li",{children:[y.jsx(qt,{children:"Sigla"})," Use o padro interno (ex.: AR-130E+T) para a minuta/post-it."]})]})})]});case"dados":return y.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[y.jsxs(Bt,{title:"Dados iniciais",children:[y.jsx("div",{className:"grid gap-4",children:y.jsx(fe,{label:"Deciso recorrida",children:y.jsx(Kt,{value:A.decrec,onChange:x=>ie("decrec",x),options:[{value:"colegiada/acrdo",label:"colegiada/acrdo"},{value:"monocrtica/singular",label:"Monocrtica/singular"}]})})}),y.jsxs("div",{className:"grid gap-4",children:[y.jsx(fe,{label:"Cmara (ramo)",children:y.jsx(Kt,{value:A.camaraArea,onChange:x=>ie("camaraArea",x),options:[{value:"Cvel",label:"Cvel"},{value:"Crime",label:"Crime"}]})}),y.jsx(fe,{label:"Nmero da Cmara",children:y.jsx("input",{className:yt("camaraNumero","no-spinner"),type:"number",min:1,placeholder:"Ex.: 7",value:A.camaraNumero,onChange:x=>ie("camaraNumero",x.target.value)})}),y.jsx(fe,{label:"Prazo em aberto na origem?",children:y.jsx(At,{value:A.emaberto,onChange:x=>ie("emaberto",x)})}),y.jsx(fe,{label:"SFH ps 24/03/2024 (filtro especfico)?",children:y.jsx(At,{value:A.sfh,onChange:x=>ie("sfh",x)})})]})]}),y.jsx(Bt,{title:"Checklist rpido",children:y.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[y.jsx("li",{children:" Se for deciso monocrtica, o fluxo deve seguir at a etapa de custas."}),y.jsx("li",{children:" Prazo em aberto ignora contrarrazes (sero tratadas depois)."})]})})]});case"tempest":return y.jsx(Bt,{title:"Tempestividade",children:y.jsx("div",{className:"flex flex-wrap items-center gap-2",children:y.jsxs("a",{href:"https://assessoria-tjpr.github.io/prazos.tjpr.p-sep-ar.interno/",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-red-200 bg-red-600 text-white hover:bg-red-700 hover:shadow-sm transition",children:["Abrir calculadora de prazos",y.jsx(Mv,{className:"w-4 h-4"})]})})});case"preparo":return y.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[y.jsx(Bt,{title:"Preparo e custas",children:y.jsxs("div",{className:"grid gap-4",children:[y.jsx(fe,{label:"Multa por embargos protelatrios",children:y.jsx(Kt,{value:A.multa,onChange:x=>ie("multa",x),options:[{value:"no",label:"No"},{value:"sim, recolhida",label:"Sim, recolhida"},{value:"sim, no recolhida",label:"Sim, no recolhida"}]})}),A.multa==="sim, no recolhida"&&y.jsx(fe,{label:"Motivo",children:y.jsx(Kt,{value:A.motivo,onChange:x=>ie("motivo",x),options:[{value:"Fazenda Pblica ou justia gratuita",label:"Fazenda Pblica ou justia gratuita"},{value:" o prprio objeto do recurso",label:" o prprio objeto do recurso"},{value:"no identificado",label:"No identificado"}]})}),y.jsx(fe,{label:"Dispensa (MP/ente pblico/autarquia)",children:y.jsx(At,{value:A.dispensa,onChange:x=>ie("dispensa",x)})}),A.dispensa==="sim"&&y.jsx("p",{className:"text-xs text-slate-500",children:"Dispensa informada: justia gratuita no  necessria."}),A.dispensa==="no"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Justia gratuita",children:y.jsx(Kt,{value:A.gratuidade,columns:1,onChange:x=>ie("gratuidade",x),options:[{value:"no invocada",label:"No invocada"},{value:"j  ou afirma ser beneficirio",label:"J  ou afirma ser beneficirio"},{value:"requer no recurso em anlise",label:"Requer no recurso em anlise"},{value:" o prprio objeto do recurso",label:" o prprio objeto do recurso"},{value:"presumida (defensor pblico, dativo ou NPJ)",label:"Presumida (defensor pblico, dativo ou NPJ)"}]})}),A.gratuidade==="j  ou afirma ser beneficirio"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Deferida expressamente?",children:y.jsx(At,{value:A.deferida,onChange:x=>ie("deferida",x)})}),A.deferida==="sim"&&y.jsx(fe,{label:"Movimento (deferimento)",children:y.jsx("input",{className:yt("movdef"),placeholder:"Ex.: 9.1",value:A.movdef,onChange:x=>ie("movdef",x.target.value)})}),A.deferida==="no"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Requerida anteriormente?",children:y.jsx(At,{value:A.requerida,onChange:x=>ie("requerida",x)})}),A.requerida==="sim"&&y.jsx(fe,{label:"Movimento (pedido)",children:y.jsx("input",{className:yt("movped"),placeholder:"Ex.: 9.1",value:A.movped,onChange:x=>ie("movped",x.target.value)})})]}),y.jsx(fe,{label:"Ato incompatvel (pagamento prvio)?",children:y.jsx(At,{value:A.atoincomp,onChange:x=>ie("atoincomp",x)})})]}),A.gratuidade==="no invocada"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Comprovao de preparo",children:y.jsx(Kt,{value:A.comprova,columns:1,onChange:x=>ie("comprova",x),options:[{value:"no prazo para interposio do recurso",label:"No prazo para interposio do recurso"},{value:"no dia til seguinte ao trmino do prazo",label:"No dia til seguinte ao trmino do prazo"},{value:"posteriormente",label:"Posteriormente"},{value:"ausente",label:"Ausente"}]})}),A.comprova==="no dia til seguinte ao trmino do prazo"&&y.jsx(fe,{label:"Recurso interposto no ltimo dia, aps as 16h?",children:y.jsx(At,{value:A.apos16,onChange:x=>ie("apos16",x)})})]})]})]})}),!Fi&&y.jsxs(Bt,{title:"Documentos e valores",children:[y.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[y.jsx(fe,{label:"Movimento GRU (guia)",children:y.jsx("input",{className:yt("grumov"),placeholder:"Ex.: 1.2",value:A.grumov,onChange:x=>ie("grumov",x.target.value)})}),y.jsx(fe,{label:"Movimento GRU (comprovante)",children:y.jsx("input",{className:yt("grumovComp"),placeholder:"Ex.: 1.2",value:A.grumovComp,onChange:x=>ie("grumovComp",x.target.value)})}),(A.grumov.trim()||A.grumovComp.trim())&&y.jsx(fe,{label:"Nmero do processo na GRU",children:y.jsx(Kt,{value:A.gruProc,onChange:x=>ie("gruProc",x),options:[{value:"confere",label:"Confere"},{value:"diverge",label:"Diverge"}]})}),y.jsx("div",{className:"md:col-span-2",children:y.jsxs(fe,{label:`Valor pago ${Qe.stLabel}/FUNJUS`,children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 mb-2",children:[y.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:A.usarIntegral,onChange:x=>ie("usarIntegral",x.target.checked)}),y.jsx("span",{children:"Usar valor integral devido (preenche automtico)"})]}),y.jsxs("div",{className:"grid gap-2",children:[y.jsx("input",{className:yt("valorst"),type:"number",step:"0.01",placeholder:Qe.stLabel,value:A.valorst,onChange:x=>ie("valorst",x.target.value)}),y.jsx("input",{className:yt("valorfj"),type:"number",step:"0.01",placeholder:"Funjus",value:A.valorfj,onChange:x=>ie("valorfj",x.target.value)})]})]})}),Ca&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"md:col-span-2",children:y.jsxs(fe,{label:"Justificativa Funjus (valor abaixo do padro)",children:[y.jsx("textarea",{className:yt("funjusObs","h-24 resize-none"),maxLength:400,placeholder:"Descreva o motivo do valor menor.",value:A.funjusObs,onChange:x=>ie("funjusObs",x.target.value)}),Os&&y.jsx("span",{className:"text-xs text-rose-600",children:"Informe o motivo do valor menor."})]})}),y.jsx(fe,{label:"Movimento FUNJUS (guia)",children:y.jsx("input",{className:yt("funjusmov"),placeholder:"Ex.: 1.5",value:A.funjusmov,onChange:x=>ie("funjusmov",x.target.value),disabled:Ia})}),y.jsx(fe,{label:"Movimento FUNJUS (comprovante)",children:y.jsx("input",{className:yt("funjusmovComp"),placeholder:"Ex.: 1.5",value:A.funjusmovComp,onChange:x=>ie("funjusmovComp",x.target.value),disabled:Ms})}),y.jsxs("div",{className:"md:col-span-2 flex flex-wrap items-center gap-4 text-xs text-slate-600",children:[y.jsxs("label",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:Ia,onChange:x=>{const F=x.target.checked;C(ne=>{if(F)return{...ne,guia:"no",funjusmov:"",guiorig:"",funjusProc:""};const Ee=ne.funjusmov.trim()?"sim":"";return{...ne,guia:Ee}})}}),y.jsx("span",{children:"Faltou guia"})]}),y.jsxs("label",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:Ms,onChange:x=>{const F=x.target.checked;C(ne=>{if(F)return{...ne,comp:"no",funjusmovComp:"",comptipo:"",codbar:""};const Ee=ne.funjusmovComp.trim()?"sim":"";return{...ne,comp:Ee}})}}),y.jsx("span",{children:"Faltou comprovante"})]})]}),A.guia==="sim"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Guia original para o recurso?",children:y.jsx(At,{value:A.guiorig,onChange:x=>ie("guiorig",x)})}),y.jsx(fe,{label:"Nmero do processo na guia",children:y.jsx(Kt,{value:A.funjusProc,onChange:x=>ie("funjusProc",x),options:[{value:"confere",label:"Confere"},{value:"diverge",label:"Diverge"}]})})]}),A.comp==="sim"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Tipo de comprovante",children:y.jsx(Kt,{value:A.comptipo,onChange:x=>ie("comptipo",x),options:[{value:"de pagamento",label:"De pagamento"},{value:"de agendamento",label:"De agendamento"}]})}),y.jsx(fe,{label:"Cdigo de barras",children:y.jsx(Kt,{value:A.codbar,onChange:x=>ie("codbar",x),options:[{value:"confere",label:"Confere"},{value:"diverge ou guia ausente",label:"Diverge ou guia ausente"}]})})]}),y.jsx("div",{className:"md:col-span-2",children:y.jsx(fe,{label:"COHAB LD? (parcial Funjus)",children:y.jsx(Kt,{value:A.parcialTipo,columns:1,onChange:x=>ie("parcialTipo",x),options:[{value:"no",label:"No"},{value:"JG parcial",label:"JG parcial"},{value:"COHAB Londrina",label:"COHAB Londrina"},{value:"outros",label:"Outros (especificar)"}]})})}),A.parcialTipo==="outros"&&y.jsx("div",{className:"md:col-span-2",children:y.jsx(fe,{label:"Descrever pagamento parcial",children:y.jsx("input",{className:yt("parcialOutro"),placeholder:"Ex.: parcelamento, precatrio, etc.",value:A.parcialOutro,onChange:x=>ie("parcialOutro",x.target.value)})})})]})]}),y.jsxs("div",{className:"mt-4 space-y-1 text-sm text-slate-600",children:[y.jsxs("div",{children:["Valores devidos agora: ",Qe.stLabel," ",Sr(Qe.deverST)," | FUNJUS"," ",Sr(Qe.deverFJ)]}),y.jsxs("div",{className:"text-xs text-slate-500",children:["Base aplicada: ",Qe.stLabel," ",v2(Qe.stRateStart)," | FUNJUS"," ",v2(Qe.fjRateStart)]})]})]}),!Fi&&y.jsx(Bt,{title:"Notas prticas",children:y.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[y.jsx("li",{children:" Marque de agendamento se o comprovante no tem autenticao."}),y.jsx("li",{children:" Se houver ato incompatvel com a gratuidade, o preparo ser exigido."}),y.jsx("li",{children:" Campos de movimento ajudam a gerar a minuta/post-it automaticamente."})]})})]});case"processo":return y.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[A.emaberto==="sim"&&y.jsx("div",{className:"lg:col-span-2 rounded-2xl border border-slate-200/80 bg-white/80 text-slate-700 p-4 text-sm shadow-sm",children:"Prazo em aberto na origem: contrarrazes podem ser tratadas depois. Preencha apenas se j houver dados."}),y.jsx(Bt,{title:"Representao",children:Fi?y.jsx("p",{className:"text-sm text-slate-600",children:"rgo pblico informado: procurao dispensada."}):y.jsxs("div",{className:"grid gap-4",children:[y.jsx(fe,{label:"Subscritor",children:y.jsx(Kt,{value:A.subscritor,columns:1,onChange:x=>ie("subscritor",x),options:[{value:"advogado particular",label:"Advogado particular"},{value:"procurador pblico",label:"Procurador pblico"},{value:"procurador nomeado",label:"Procurador nomeado"},{value:"advogado em causa prpria",label:"Advogado em causa prpria"}]})}),A.subscritor==="procurador nomeado"&&y.jsx(fe,{label:"Movimento (nomeao)",children:y.jsx("input",{className:yt("nomemovi"),placeholder:"Ex.: 9.1",value:A.nomemovi,onChange:x=>ie("nomemovi",x.target.value)})}),A.subscritor==="advogado particular"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Movimentos (cadeia de poderes)",children:y.jsx("input",{className:yt("movis"),placeholder:"Ex.: 1.1; 9.1; via sistema",value:A.movis,onChange:x=>ie("movis",x.target.value)})}),y.jsx(fe,{label:"Cadeia completa?",children:y.jsx(At,{value:A.cadeia,onChange:x=>ie("cadeia",x)})}),A.cadeia==="no"&&y.jsx(fe,{label:"Poderes faltantes",children:y.jsx(Kt,{value:A.faltante,onChange:x=>ie("faltante",x),options:[{value:"ao prprio subscritor",label:"Ao prprio subscritor"},{value:"a outro elo da cadeia",label:"A outro elo da cadeia"}]})})]})]})}),y.jsx(Bt,{title:"Pedidos",children:y.jsxs("div",{className:"grid gap-4",children:[y.jsx(fe,{label:"Efeito suspensivo",children:y.jsx(Kt,{value:A.suspefeito,columns:1,onChange:x=>ie("suspefeito",x),options:[{value:"no requerido",label:"No requerido"},{value:"requerido no corpo do recurso",label:"Requerido no corpo do recurso"},{value:"requerido em petio apartada",label:"Requerido em petio apartada"}]})}),A.suspefeito==="requerido em petio apartada"&&y.jsx(fe,{label:"Autuado?",children:y.jsx(At,{value:A.autuado,onChange:x=>ie("autuado",x)})}),y.jsx(fe,{label:"Exclusividade na intimao",children:y.jsx(Kt,{value:A.exclusivi,onChange:x=>ie("exclusivi",x),options:[{value:"requerida",label:"Requerida"},{value:"no requerida",label:"No requerida"}]})}),A.exclusivi==="requerida"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Nome indicado para exclusividade",children:y.jsx("input",{className:yt("exclusNome"),placeholder:"Ex.: CARLOS AUGUSTO TORTORO JUNIOR",value:A.exclusNome,onChange:x=>ie("exclusNome",x.target.value)})}),y.jsx(fe,{label:"Procurador j cadastrado?",children:y.jsx(At,{value:A.cadastrada,onChange:x=>ie("cadastrada",x)})}),A.cadastrada==="no"&&y.jsx(fe,{label:"Advogado regularmente constitudo?",children:y.jsx(At,{value:A.regular,onChange:x=>ie("regular",x)})})]})]})}),y.jsx(Bt,{title:"Processamento",children:y.jsxs("div",{className:"grid gap-4",children:[y.jsx(fe,{label:"Contrarrazes",children:y.jsx(Kt,{value:A.contrarra,onChange:x=>ie("contrarra",x),options:[{value:"apresentadas",label:"Apresentadas"},{value:"ausente alguma",label:"Ausente alguma"},{value:"ausentes",label:"Ausentes"}]})}),A.contrarra!==""&&A.contrarra!=="ausentes"&&y.jsx(fe,{label:"Movimentos das contrarrazes/renncia",children:y.jsx("input",{className:yt("contramovis"),placeholder:"Ex.: 6.1; 7.1 (renncia)",value:A.contramovis,onChange:x=>ie("contramovis",x.target.value)})}),A.contrarra!=="apresentadas"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Recorrido(s) intimado(s)?",children:y.jsx(At,{value:A.intimado,onChange:x=>ie("intimado",x)})}),A.intimado==="sim"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Movimento de intimao",children:y.jsx("input",{className:yt("intimovi"),placeholder:"Ex.: 3.1",value:A.intimovi,onChange:x=>ie("intimovi",x.target.value)})}),y.jsx(fe,{label:"Prazo em aberto para algum recorrido?",children:y.jsx(At,{value:A.crraberto,onChange:x=>ie("crraberto",x)})}),A.crraberto==="no"&&y.jsx(fe,{label:"Decurso certificado?",children:y.jsx(At,{value:A.decursocrr,onChange:x=>ie("decursocrr",x)})})]}),A.intimado==="no"&&y.jsx(fe,{label:"Recorrido(s) sem advogado constitudo?",children:y.jsx(At,{value:A.semadv,onChange:x=>ie("semadv",x)})})]}),y.jsx(fe,{label:"Interveno do MP?",children:y.jsx(At,{value:A.emepe,onChange:x=>ie("emepe",x)})}),A.emepe==="sim"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Manifestao nos autos?",children:y.jsx(At,{value:A.mani,onChange:x=>ie("mani",x)})}),A.mani==="sim"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Teor da manifestao",children:y.jsx(Kt,{value:A.teormani,columns:1,onChange:x=>ie("teormani",x),options:[{value:"mera cincia",label:"Mera cincia"},{value:"pela admisso",label:"Pela admisso"},{value:"pela inadmisso",label:"Pela inadmisso"},{value:"ausncia de interesse",label:"Ausncia de interesse"}]})}),y.jsx(fe,{label:"Movimento",children:y.jsx("input",{className:yt("manimovis"),placeholder:"Ex.: 9.1",value:A.manimovis,onChange:x=>ie("manimovis",x.target.value)})}),A.teormani==="mera cincia"&&y.jsx(fe,{label:"Decurso do prazo?",children:y.jsx(At,{value:A.decursomp,onChange:x=>ie("decursomp",x)})})]}),A.mani==="no"&&y.jsxs(y.Fragment,{children:[y.jsx(fe,{label:"Autos remetidos?",children:y.jsx(At,{value:A.remetido,onChange:x=>ie("remetido",x)})}),A.remetido==="sim"&&y.jsx(fe,{label:"Decurso do prazo?",children:y.jsx(At,{value:A.decursomp,onChange:x=>ie("decursomp",x)})})]})]})]})})]});case"resumo":return y.jsxs("div",{className:"space-y-4",children:[y.jsx(Bt,{title:"Resultado da triagem",children:(()=>{const x=nE(A,Qe),F=(ne,Ee=!1)=>{if(!ne)return Ee?y.jsx("span",{className:"text-rose-600 font-semibold",children:"PENDENTE"}):"";const Ve=ne.split(`
`);return Ve.map((nt,Mt)=>y.jsxs(UT.Fragment,{children:[nt,Mt<Ve.length-1?y.jsx("br",{}):null]},`${nt}-${Mt}`))};return y.jsx("div",{className:"space-y-3 text-sm text-slate-800",children:y.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/80 overflow-hidden",children:[y.jsxs("div",{className:"grid gap-2 sm:grid-cols-[1.3fr_0.7fr] border-b border-slate-200 px-4 py-3",children:[y.jsx("div",{className:"text-sm font-semibold text-slate-900",children:x.headerLeft}),y.jsx("div",{className:"text-sm font-semibold text-slate-700 sm:text-right",children:x.headerRight})]}),y.jsx("div",{className:"divide-y divide-slate-200",children:x.rows.map((ne,Ee)=>{const Ve=ne.label.startsWith("OBS");return y.jsxs("div",{className:`grid gap-1 px-4 py-3 sm:grid-cols-[1.3fr_0.7fr] sm:items-center ${Ee%2===1?"bg-slate-50/70":""}`,children:[y.jsx("div",{className:"text-xs font-semibold text-slate-500",children:F(ne.label)}),y.jsx("div",{className:`text-sm font-medium text-slate-800 ${Ve?"sm:text-left":"sm:text-right"}`,children:F(ne.value,!0)})]},`${ne.label}-${Ee}`)})})]})})})()}),y.jsx("div",{className:"grid lg:grid-cols-2 gap-4",children:y.jsx(Bt,{title:"Notas rpidas (salvas no navegador)",children:y.jsxs("div",{className:"space-y-3",children:[y.jsx("textarea",{className:yt("anotacoes","h-32 resize-none"),maxLength:900,placeholder:"Pendncias especficas, nomes de partes, nmeros de telefone...",value:A.anotacoes,onChange:x=>ie("anotacoes",x.target.value)}),y.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[y.jsx("span",{children:"Anotaes guardadas apenas neste dispositivo."}),y.jsxs("span",{children:[A.anotacoes.length,"/900"]})]})]})})}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[y.jsxs("button",{onClick:wn,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[y.jsx(Dm,{className:"w-4 h-4"}),Y?"Copiado!":"Copiar resumo"]}),y.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:Y?"Resumo copiado para a rea de transferncia.":""})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[y.jsxs(qt,{children:[Qe.stLabel,": ",Sr(Qe.deverST)," | FUNJUS: ",Sr(Qe.deverFJ)]}),y.jsxs(qt,{children:["Intimao: ",Ah(Qe.tempest.intim)]}),y.jsxs(qt,{children:["Comeo do prazo: ",Ah(Qe.tempest.comeco)]})]})]});default:return null}})();return S?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[y.jsx(qt,{tone:cn===0?"success":"warning",children:cn===0?"Etapa completa":`${cn} campo(s) pendente(s)`}),cn>0&&y.jsx("span",{className:"text-xs text-slate-500",children:"Complete os campos pendentes para avanar."})]}),S]}):null},pr=Qe.tempest.status==="tempestivo"?"positive":Qe.tempest.status==="intempestivo"?"negative":"neutral",Us=A.contrarra==="apresentadas"?"positive":A.contrarra==="ausentes"||A.contrarra==="ausente alguma"?"negative":"neutral",Yi=tt?`Salvo s ${CN(tt)}`:"Salvamento local",Fr=Math.round(je/(Tr.length-1)*100);return sp?l?!r||!n?ui():y.jsxs("div",{className:"min-h-screen page-bg text-slate-900 relative page-enter",children:[y.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[y.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-amber-200/30 blur-3xl"}),y.jsx("div",{className:"absolute top-6 right-[-5rem] h-64 w-64 rounded-full bg-teal-200/30 blur-3xl"}),y.jsx("div",{className:"absolute bottom-[-8rem] left-10 h-80 w-80 rounded-full bg-sky-200/30 blur-3xl"})]}),y.jsxs("div",{className:"relative z-10",children:[y.jsxs("header",{className:"header-surface border-b border-white/60 bg-white/75 backdrop-blur-2xl shadow-[0_25px_70px_-50px_rgba(15,23,42,0.55)]",children:[y.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-5 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"h-11 w-11 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:y.jsx("img",{src:g2,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-xs uppercase tracking-[0.22em] text-slate-500",children:"Simba-JUD"}),y.jsx("h1",{className:"text-xl font-semibold text-slate-900 leading-tight font-display",children:"Admissibilidade Recursal"})]})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[y.jsx(qt,{children:Yi}),y.jsxs("div",{className:"user-chip flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1 shadow-sm",children:[y.jsx("div",{className:"avatar-surface h-6 w-6 rounded-full overflow-hidden border border-slate-200 bg-white flex items-center justify-center",children:y.jsx("span",{className:"text-[10px] font-semibold text-slate-600",children:b2(n.name||n.email)})}),y.jsx("span",{className:"text-xs font-semibold text-slate-700",children:n.name||n.email})]}),y.jsxs(qt,{children:["Triagens: ",n.triageCount||0]}),Le&&y.jsx(qt,{tone:"success",children:"Admin"})]}),y.jsx("button",{onClick:()=>kt(S=>!S),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:Be?"Fechar perfil":"Perfil"}),Le&&y.jsxs("button",{onClick:()=>Ft(S=>!S),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition inline-flex items-center",children:[An?"Fechar admin":"Administrao",or>0&&y.jsx("span",{className:"ml-2 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[10px] px-2 py-0.5",children:or})]}),y.jsx("button",{onClick:ks,className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Sair"}),y.jsx("button",{onClick:()=>wi("Isso vai limpar a triagem atual. Deseja continuar?"),className:"text-sm px-3 py-2 rounded-lg border border-slate-900 bg-slate-900 text-white hover:bg-black transition shadow-sm",children:"Recomear"})]})]}),y.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-4",children:[y.jsx("div",{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Fr,"aria-label":"Progresso da triagem",className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 transition-all",style:{width:`${Fr}%`}})}),y.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Etapa ",je+1," de ",Tr.length,": ",Tr[je].label]}),y.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 md:hidden",children:[y.jsx(qt,{children:Yi}),y.jsx(qt,{children:n.name||n.email}),y.jsxs(qt,{children:["Triagens: ",n.triageCount||0]}),Le&&y.jsx(qt,{tone:"success",children:"Admin"})]}),y.jsx("div",{className:"mt-4 flex items-center gap-2 overflow-x-auto pb-2","aria-label":"Etapas",children:Tr.map((S,x)=>y.jsx(YN,{label:S.label,icon:S.icon,active:je===x,onClick:()=>et(x)},S.id))})]})]}),y.jsxs("main",{ref:Dt,className:"max-w-7xl mx-auto px-4 py-8",children:[on(),Qi(),y.jsxs("div",{className:"grid lg:grid-cols-[2fr_1fr] gap-5 items-start",children:[y.jsx("div",{className:"space-y-4",children:y.jsxs("div",{className:"main-surface bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-40px_rgba(15,23,42,0.5)]",children:[y.jsx("div",{className:"animate-fade-in",children:xi()}),y.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[y.jsxs("button",{onClick:qr,disabled:je===0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-300 text-slate-800 bg-white disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-sm transition",children:[y.jsx(XT,{className:"w-4 h-4"}),"Voltar"]}),je<Tr.length-1?y.jsxs("button",{onClick:Ps,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-slate-900 to-slate-800 text-white hover:from-slate-950 hover:to-slate-900 transition shadow-sm",children:[Gi?"Finalizar triagem":"Avanar",Gi?y.jsx(w2,{className:"w-4 h-4"}):y.jsx(JT,{className:"w-4 h-4"})]}):y.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[y.jsxs("button",{onClick:()=>wi("Isso vai limpar a triagem atual. Deseja iniciar outra?",()=>{Lr()}),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 transition shadow-sm",children:["Nova triagem",y.jsx(Mv,{className:"w-4 h-4"})]}),y.jsxs("button",{onClick:Ti,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-red-300 bg-red-600 text-white hover:bg-red-700 hover:shadow-sm transition",children:[y.jsx(x2,{className:"w-4 h-4"}),"Baixar resumo"]})]})]})]})}),y.jsxs("aside",{className:"space-y-3 lg:sticky lg:top-20",children:[y.jsx(Bt,{title:"Resumo",children:y.jsxs("div",{className:"grid gap-3",children:[y.jsx(A2,{label:"Tempestividade",value:Qe.tempest.status==="pendente"?"calculadora":Qe.tempest.status,helper:`Vencimento: ${Ah(Qe.tempest.venc)}`,tone:pr}),y.jsx(A2,{label:"Contrarrazes",value:Qe.controut,helper:A.emaberto==="sim"?"Prazo em aberto na origem":"Fluxo em andamento",tone:Us})]})}),y.jsxs(Bt,{title:"Consequncias automticas",children:[xa.length===0?y.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum comando gerado at agora."}):y.jsx("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-700",children:xa.map((S,x)=>y.jsx("li",{children:S},x))}),y.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[y.jsxs("button",{onClick:Da,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[y.jsx(Dm,{className:"w-4 h-4"}),_e?"Copiado!":"Copiar consequncias"]}),y.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:_e?"Consequncias copiadas para a rea de transferncia.":""})]})]})]})]})]})]}),y.jsx(hh,{})]}):y.jsxs("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:[y.jsx(Bt,{title:"Carregando",children:y.jsx("p",{className:"text-sm text-slate-600",children:"Preparando o acesso seguro..."})}),y.jsx(hh,{})]}):y.jsxs("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:[y.jsx(Bt,{title:"Configurao necessria",children:y.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[y.jsx("p",{children:"Configure as variveis do Firebase para habilitar autenticao e perfis de usurio."}),y.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[y.jsx("li",{children:"`VITE_FIREBASE_API_KEY`"}),y.jsx("li",{children:"`VITE_FIREBASE_AUTH_DOMAIN`"}),y.jsx("li",{children:"`VITE_FIREBASE_PROJECT_ID`"}),y.jsx("li",{children:"`VITE_FIREBASE_APP_ID`"})]}),y.jsx("p",{children:"Depois reinicie o servidor."})]})}),y.jsx(hh,{})]})},$N=GT.createRoot(document.getElementById("root"));$N.render(y.jsx(KN,{}));const iE=document.createElement("style");iE.innerHTML=`
.page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(249, 115, 22, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(20, 184, 166, 0.12), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(56, 189, 248, 0.12), transparent 40%),
    linear-gradient(180deg, #f8fafc 0%, #eef2f7 55%, #f1f5f9 100%);
  background-size: 200% 200%;
  animation: flowDrift 18s ease-in-out infinite alternate;
  transition: background 0.35s ease;
}
.page-bg ::selection {
  background: rgba(249, 115, 22, 0.18);
  color: #0f172a;
}
.watermark {
  color: #0f172a;
}
.page-enter {
  animation: pageIn 0.45s ease both;
}
@keyframes pageIn {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes flowDrift {
  0% {
    background-position: 0% 20%;
  }
  100% {
    background-position: 100% 80%;
  }
}
@keyframes flowIn {
  from {
    opacity: 0;
    transform: translateY(18px) scale(0.985);
    filter: blur(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}
.animate-fade-in {
  animation: flowIn 0.55s cubic-bezier(0.22, 1, 0.36, 1) both;
}
.card-surface,
.main-surface,
.header-surface,
.metric-surface,
.pill,
.step-chip,
.input {
  transition: background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease,
    color 0.25s ease, transform 0.2s ease;
  will-change: transform;
}
.card-surface:hover,
.main-surface:hover {
  transform: translateY(-3px);
}
.metric-surface:hover {
  transform: translateY(-2px);
}
.step-chip:hover {
  transform: translateY(-1px);
}
button:active {
  transform: translateY(1px);
}
.theme-dark body {
  color: #e2e8f0;
  background: #0b1220;
}
.theme-dark {
  color-scheme: dark;
}
.theme-dark .page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(148, 163, 184, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(56, 189, 248, 0.08), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(45, 212, 191, 0.1), transparent 40%),
    linear-gradient(180deg, #0b1220 0%, #0f172a 60%, #111827 100%);
  background-size: 200% 200%;
}
.theme-dark .bg-white,
.theme-dark .bg-white\\/85,
.theme-dark .bg-white\\/80,
.theme-dark .bg-white\\/75,
.theme-dark .bg-white\\/70 {
  background-color: rgba(15, 23, 42, 0.85) !important;
}
.theme-dark .bg-slate-50,
.theme-dark .bg-slate-100 {
  background-color: rgba(30, 41, 59, 0.75) !important;
}
.theme-dark .bg-amber-50 {
  background-color: rgba(120, 53, 15, 0.3) !important;
}
.theme-dark .bg-emerald-50 {
  background-color: rgba(6, 95, 70, 0.3) !important;
}
.theme-dark .bg-rose-50 {
  background-color: rgba(159, 18, 57, 0.28) !important;
}
.theme-dark .watermark {
  color: #f8fafc;
}
.theme-dark .header-surface {
  background: rgba(15, 23, 42, 0.82);
  border-color: rgba(148, 163, 184, 0.2);
}
.theme-dark .card-surface,
.theme-dark .main-surface {
  background: rgba(15, 23, 42, 0.85);
  border-color: rgba(148, 163, 184, 0.2);
  box-shadow: 0 24px 50px -40px rgba(0, 0, 0, 0.6);
}
.theme-dark .user-chip {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(148, 163, 184, 0.3);
}
.theme-dark .avatar-surface {
  background: rgba(15, 23, 42, 0.95);
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .metric-surface {
  background: rgba(30, 41, 59, 0.75);
  border-color: rgba(148, 163, 184, 0.2);
  color: #e2e8f0;
}
.theme-dark .pill {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(148, 163, 184, 0.25);
  color: #e2e8f0;
}
.theme-dark .step-chip {
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .step-chip[aria-current='step'] {
  background: #0f172a;
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .input {
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(148, 163, 184, 0.55);
  color: #0f172a;
  box-shadow: inset 0 1px 0 rgba(15, 23, 42, 0.08);
}
.theme-dark select.input {
  background-color: rgba(255, 255, 255, 0.92) !important;
  color: #0f172a;
}
.theme-dark select.input option {
  background-color: #ffffff;
  color: #0f172a;
}
.theme-dark .input::placeholder {
  color: #64748b;
}
.theme-dark .input:focus {
  box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.25);
  border-color: rgba(56, 189, 248, 0.6);
}
.theme-dark .text-slate-900,
.theme-dark .text-slate-800,
.theme-dark .text-slate-700 {
  color: #e2e8f0 !important;
}
.theme-dark .text-slate-600,
.theme-dark .text-slate-500 {
  color: rgba(226, 232, 240, 0.75) !important;
}
.theme-dark .text-slate-400 {
  color: rgba(226, 232, 240, 0.6) !important;
}
.theme-dark .text-amber-800,
.theme-dark .text-amber-700 {
  color: #fcd34d !important;
}
.theme-dark .text-emerald-700 {
  color: #6ee7b7 !important;
}
.theme-dark .text-rose-700 {
  color: #fda4af !important;
}
.theme-dark .border-slate-200 {
  border-color: rgba(148, 163, 184, 0.3) !important;
}
.theme-dark .border-white\\/80,
.theme-dark .border-white\\/70,
.theme-dark .border-white\\/60 {
  border-color: rgba(148, 163, 184, 0.25) !important;
}
.theme-dark .border-amber-200 {
  border-color: rgba(251, 191, 36, 0.35) !important;
}
.theme-dark .border-emerald-200 {
  border-color: rgba(52, 211, 153, 0.3) !important;
}
.theme-dark .border-rose-200 {
  border-color: rgba(251, 113, 133, 0.35) !important;
}
.input {
  width: 100%;
  border-radius: 0.45rem;
  border: 1px solid rgba(226, 232, 240, 0.95);
  padding: 0.5rem 0.75rem;
  background: rgba(255, 255, 255, 0.9);
  color: #0f172a;
  font-size: 0.875rem;
  line-height: 1.4;
  min-height: 2.5rem;
  box-sizing: border-box;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.input.rounded-r-none {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.input::placeholder {
  color: #94a3b8;
}
.input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-error {
  border-color: rgba(226, 232, 240, 0.95);
  background: rgba(255, 255, 255, 0.9);
}
.input-error:focus {
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-success {
  border-color: rgba(16, 185, 129, 0.7);
  background: rgba(236, 253, 245, 0.6);
}
.input-success:focus {
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.85);
}
.theme-dark .input.rounded-r-none {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.no-spinner::-webkit-outer-spin-button,
.no-spinner::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.no-spinner {
  -moz-appearance: textfield;
  appearance: textfield;
}
@media (prefers-reduced-motion: reduce) {
  .page-enter {
    animation: none !important;
  }
  .page-bg {
    animation: none !important;
  }
  .card-surface,
  .main-surface,
  .header-surface,
  .metric-surface,
  .pill,
  .step-chip,
  .input,
  button {
    transition: none !important;
    transform: none !important;
  }
  .animate-fade-in {
    animation: none !important;
  }
}
`;document.head.appendChild(iE);
